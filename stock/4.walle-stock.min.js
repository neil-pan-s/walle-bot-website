(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{310:function(t,e,n){var r=n(8),a=n(315),o=n(96);r({target:"Array",proto:!0},{fill:a}),o("fill")},315:function(t,e,n){"use strict";var r=n(27),a=n(95),o=n(26);t.exports=function(t){for(var e=r(this),n=o(e.length),i=arguments.length,c=a(i>1?arguments[1]:void 0,n),s=i>2?arguments[2]:void 0,l=void 0===s?n:a(s,n);l>c;)e[c++]=t;return e}},316:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return i}));n(310);var r=n(5),a=n(3),o={red:"rgb(255, 99, 132)",orange:"rgb(255, 159, 64)",yellow:"rgb(255, 205, 86)",green:"rgb(11, 188, 73)",blue:"rgb(120, 164, 250)",purple:"rgb(153, 102, 255)",grey:"rgb(201, 203, 207)"},i=function t(e){Object(r.a)(this,t),Object(a.a)(this,"label",void 0),Object(a.a)(this,"fill",void 0),Object(a.a)(this,"backgroundColor",void 0),Object(a.a)(this,"borderColor",void 0),Object(a.a)(this,"data",void 0),Object.assign(this,e),this.fill=e.fill||!1,this.backgroundColor=e.backgroundColor||o.red,this.borderColor=e.borderColor||o.red}},319:function(t,e,n){var r=n(42),a=Date.prototype,o=a.toString,i=a.getTime;new Date(NaN)+""!="Invalid Date"&&r(a,"toString",(function(){var t=i.call(this);return t==t?o.call(this):"Invalid Date"}))},334:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(3);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},376:function(t,e,n){var r=n(40),a=n(377);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[t.i,a,""]]);var o={insert:"head",singleton:!1},i=r(a,o),c=a.locals?a.locals:{};a.locals||t.hot.accept(377,(function(){var e=n(377);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[t.i,e,""]]),i(e)})),t.hot.dispose((function(){i()})),t.exports=c},377:function(t,e,n){(e=n(41)(!1)).push([t.i,"\n.t0[data-v-3a2de504] {    \n  width: 100%;\n  height: 100%;\n}\n.klines[data-v-3a2de504] {\n  height: 450px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.klines a[data-v-3a2de504]:hover {\n  border-bottom: none;\n}\n.klines .kline[data-v-3a2de504] {\n  width: 550px;\n  padding: 10px 0px;\n}\n.tooltip[data-v-3a2de504] {\n  text-align: center;\n}\n.tooltip span[data-v-3a2de504] {\n  display: inline-block;\n  margin: 0px 20px;\n  letter-spacing: 1px;\n}\n",""]),t.exports=e},424:function(t,e,n){"use strict";n.r(e),n.d(e,"render",(function(){return r})),n.d(e,"staticRenderFns",(function(){return a}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"t0"},[n("ui-nav"),t._v(" "),n("ui-nav",[n("ui-nav-item",[n("a",{on:{click:function(e){return t.onChangeType("chart")}}},[t._v("状态图")])]),t._v(" "),n("ui-nav-item",[n("a",{on:{click:function(e){return t.onChangeType("min")}}},[t._v("分时图")])]),t._v(" "),n("ui-nav-item",[n("a",{on:{click:function(e){return t.onShowStocks()}}},[t._v("标的池")])])],1),t._v(" "),n("ui-chart",{directives:[{name:"show",rawName:"v-show",value:"chart"===t.type,expression:"type === 'chart'"}],ref:"chart"}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"min"===t.type,expression:"type === 'min'"}],staticClass:"klines"},[t.code?n("a",{staticClass:"kline",attrs:{href:t.quote(t.code),target:"_blank"}},[n("img",{attrs:{src:t.kline(t.code)}})]):t._e()]),t._v(" "),t.stock.code?n("div",{staticClass:"tooltip"},[n("span",[t._v(t._s(t.state.toUpperCase()))]),t._v(" "),n("span",[t._v(t._s(t.stock.code))]),t._v(" "),n("span",[t._v(t._s(t.stock.name))]),t._v(" "),n("span",[t._v(t._s(t.stock.price))]),t._v(" "),n("span",{attrs:{title:"股票涨幅 / 交割涨幅"}},[t._v(t._s(t.stock.change)+"% / "+t._s(t.calcChange())+"%")])]):t._e()],1)},a=[];r._withStripped=!0},425:function(t,e,n){"use strict";n(23),n(310),n(308),n(49),n(319),n(32),n(74);var r=n(1),a=n.n(r),o=n(334),i=(n(16),n(2)),c=n(316),s=n(108),l=n(0),u=n.n(l),d=n(335),h=n.n(d),p={data:function(){return{interval:-1,type:"chart || min",code:"",state:"",stock:{},trend:{},chartData:{buy:{},sell:{}}}},created:function(){var t=this;return Object(i.a)(a.a.mark((function e(){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$route.query.target,r=t.$route.query.key,s.a.start(n,r),window.addEventListener("__Walle_Stock_Daily_Interval_Event",(function(e){var n=e.detail,r=(n.name,n.vtype,n.stock),a=n.trend,i=n.state;"L2"===i&&(t.chartData.buy={},t.chartData.sell={}),r&&("L2"===t.state&&"L3"===i&&(t.chartData.buy=Object(o.a)({time:u()().format("HHmmss")},r)),"L4"===t.state&&"L5"===i&&(t.chartData.sell=Object(o.a)({time:u()().format("HHmmss")},r)),t.stock=r,t.trend=a,t.code=r.code,t.state=i||"",t.chart(r,a,i))})),e.next=6,window.__Walle_Stock_Cron.interval(Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.update());case 1:case"end":return e.stop()}}),e)}))),null,2);case 6:t.interval=e.sent,t.type="chart";case 8:case"end":return e.stop()}}),e)})))()},destroyed:function(){clearInterval(this.interval)},methods:{update:function(){try{if(!this.code)return;this.chart(this.stock,this.trend,this.state)}catch(t){}},onShowStocks:function(){return Object(i.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s.a.showPoolStocks();case 1:case"end":return t.stop()}}),t)})))()},onChangeType:function(t){this.type=t},calcChange:function(){try{if(void 0===this.chartData.sell.change)return 0;var t=this.chartData.buy.change||0;return+((this.chartData.sell.change||0)-t).toFixed(2)}catch(t){return 0}},chart:function(t,e,n){if(this.$refs.chart&&e){var r=(e=h()(e)).time,a=function(t,e,n){var r=new Array(t.length).fill(NaN);for(var a in t)if(+e>=+t[a]){r[a]=n;break}return r.reverse()},o=[new c.a({label:"Stock Buy Point",backgroundColor:c.b.blue,borderColor:c.b.blue,pointRadius:5,data:a(r,this.chartData.buy.time,this.chartData.buy.price)}),new c.a({label:"Stock Sell Point",backgroundColor:c.b.green,borderColor:c.b.green,pointRadius:5,data:a(r,this.chartData.sell.time,this.chartData.sell.price)}),new c.a({label:"Stock Price",backgroundColor:c.b.red,borderColor:c.b.red,data:e.price.reverse()}),new c.a({label:"Stock MA5",backgroundColor:c.b.orange,borderColor:c.b.orange,data:e.ma5.reverse()}),new c.a({label:"Stock MA10",hidden:!0,backgroundColor:c.b.yellow,borderColor:c.b.yellow,data:e.ma10.reverse()}),new c.a({label:"Stock MA20",hidden:!0,backgroundColor:c.b.grey,borderColor:c.b.grey,data:e.ma20.reverse()})];this.$refs.chart.update({labels:r,datasets:o})}},timestamp:function(){return(new Date).getTime()},secid:function(t){if("1.000001"===t)return"sh000001";var e={6:"sh",0:"sz",3:"sz",9:"sh",2:"sz"}[t[0]];return"1"===t[0]&&(e={11:"sh",12:"sz"}[t.slice(0,2)]),"".concat(e).concat(t)},quote:function(t){var e=this.secid(t);return"http://quote.eastmoney.com/".concat(e,".html")},kline:function(t){var e=this.secid(t),n=this.min(e),r=this.timestamp();return"".concat(n,"?").concat(r)},min:function(t){return"http://image.sinajs.cn/newchart/min/n/".concat(t,".gif")}}};e.a=p},644:function(t,e,n){"use strict";var r=n(376);n.n(r).a},697:function(t,e,n){"use strict";n.r(e);var r=n(424),a=n(425),o=(n(644),n(33)),i=Object(o.a)(a.a,r.render,r.staticRenderFns,!1,null,"3a2de504",null),c=n(73);c.install(n(4)),c.compatible&&(t.hot.accept(),c.isRecorded("3a2de504")?c.reload("3a2de504",i.options):c.createRecord("3a2de504",i.options),t.hot.accept(424,function(t){r=n(424),c.rerender("3a2de504",{render:r.render,staticRenderFns:r.staticRenderFns})}.bind(this))),i.options.__file="vue/pages/T0.vue",e.default=i.exports}}]);