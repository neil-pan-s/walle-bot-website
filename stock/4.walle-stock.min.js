(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{527:function(t,e,r){var n=r(45),a=Date.prototype,o=a.toString,i=a.getTime;new Date(NaN)+""!="Invalid Date"&&n(a,"toString",(function(){var t=i.call(this);return t==t?o.call(this):"Invalid Date"}))},529:function(t,e,r){"use strict";var n=r(8),a=r(65),o=[].reverse,i=[1,2];n({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return a(this)&&(this.length=this.length),o.call(this)}})},533:function(t,e,r){var n=r(8),a=r(537),o=r(145);n({target:"Array",proto:!0},{fill:a}),o("fill")},537:function(t,e,r){"use strict";var n=r(32),a=r(143),o=r(31);t.exports=function(t){for(var e=n(this),r=o(e.length),i=arguments.length,c=a(i>1?arguments[1]:void 0,r),s=i>2?arguments[2]:void 0,l=void 0===s?r:a(s,r);l>c;)e[c++]=t;return e}},545:function(t,e,r){"use strict";r.d(e,"b",(function(){return o})),r.d(e,"a",(function(){return i}));r(533);var n=r(5),a=r(3),o={red:"rgb(255, 99, 132)",orange:"rgb(255, 159, 64)",yellow:"rgb(255, 205, 86)",green:"rgb(11, 188, 73)",blue:"rgb(120, 164, 250)",purple:"rgb(153, 102, 255)",grey:"rgb(201, 203, 207)"},i=function t(e){Object(n.a)(this,t),Object(a.a)(this,"label",void 0),Object(a.a)(this,"fill",void 0),Object(a.a)(this,"backgroundColor",void 0),Object(a.a)(this,"borderColor",void 0),Object(a.a)(this,"data",void 0),Object.assign(this,e),this.fill=e.fill||!1,this.backgroundColor=e.backgroundColor||o.red,this.borderColor=e.borderColor||o.red}},573:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var n=r(3);function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){Object(n.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}},586:function(t,e,r){var n=r(53),a=r(587);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[t.i,a,""]]);var o={insert:"head",singleton:!1},i=n(a,o),c=a.locals?a.locals:{};a.locals||t.hot.accept(587,(function(){var e=r(587);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[t.i,e,""]]),i(e)})),t.hot.dispose((function(){i()})),t.exports=c},587:function(t,e,r){(e=r(54)(!1)).push([t.i,"\n.t0[data-v-3a2de504] {    \n  width: 100%;\n  height: 100%;\n}\n.ui-kline[data-v-3a2de504] {\n  height: 650px !important;\n}\n.klines[data-v-3a2de504] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.klines a[data-v-3a2de504]:hover {\n  border-bottom: none;\n}\n.klines .kline[data-v-3a2de504] {\n  width: 550px;\n  height: 450px;\n  padding: 10px 0px;\n}\n.tooltip[data-v-3a2de504] {\n  text-align: center;\n}\n.tooltip span[data-v-3a2de504] {\n  display: inline-block;\n  margin: 0px 20px;\n  letter-spacing: 1px;\n}\n",""]),t.exports=e},661:function(t,e,r){"use strict";r.r(e),r.d(e,"render",(function(){return n})),r.d(e,"staticRenderFns",(function(){return a}));var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"t0"},[r("ui-nav"),t._v(" "),r("ui-nav",[r("ui-nav-item",[r("a",{on:{click:function(e){return t.onChangeType("chart")}}},[t._v("状态图")])]),t._v(" "),r("ui-nav-item",[r("a",{on:{click:function(e){return t.onChangeType("min")}}},[t._v("分时图")])]),t._v(" "),r("ui-nav-item",[r("a",{on:{click:function(e){return t.onShowStocks()}}},[t._v("标的池")])])],1),t._v(" "),r("ui-chart",{directives:[{name:"show",rawName:"v-show",value:"chart"===t.type,expression:"type === 'chart'"}],ref:"chart"}),t._v(" "),"min"===t.type&&t.code?r("ui-kline",{staticClass:"ui-kline",attrs:{code:t.code}}):t._e(),t._v(" "),t.stock.code?r("div",{staticClass:"tooltip"},[r("span",[t._v(t._s(t.state.toUpperCase()))]),t._v(" "),r("span",[t._v(t._s(t.stock.code))]),t._v(" "),r("span",[t._v(t._s(t.stock.name))]),t._v(" "),r("span",[t._v(t._s(t.stock.price))]),t._v(" "),r("span",{attrs:{title:"股票涨幅 / 交割涨幅"}},[t._v(t._s(t.stock.change)+"% / "+t._s(t.profit)+"%")])]):t._e()],1)},a=[];n._withStripped=!0},662:function(t,e,r){"use strict";r(27),r(533),r(529),r(62),r(527),r(41),r(148),r(151),r(97),r(28),r(63);var n=r(1),a=r.n(n),o=r(573),i=(r(21),r(2)),c=r(545),s=r(368),l=r(0),u=r.n(l),d=(r(101),{data:function(){return{interval:-1,type:"chart || min",code:"",state:"",stock:{},trend:{},profit:0,chartData:{buy:{},sell:{}}}},created:function(){var t=this;return Object(i.a)(a.a.mark((function e(){var r,n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$route.query.target,n=t.$route.query.key,(c=t.$route.query.codes)?s.a.processor(r,n,c.split(",")):s.a.processor(r,n),window.addEventListener("__Walle_Stock_Daily_Interval_Event",(function(e){var r=e.detail,n=(r.name,r.vtype,r.stock),a=r.trend,i=r.state;"L2"===i&&(t.chartData.buy={},t.chartData.sell={}),n&&("L2"===t.state&&"L3"===i&&(t.chartData.buy=Object(o.a)({time:u()().format("HHmmss")},n)),"L4"===t.state&&"L5"===i&&(t.chartData.sell=Object(o.a)({time:u()().format("HHmmss")},n)),t.stock=n,t.trend=a,t.code=n.code,t.state=i||"",t.profit=t.calcChange(),t.chart(n,a,i))})),e.next=7,window.__Walle_Stock_Cron.interval(Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.update());case 1:case"end":return e.stop()}}),e)}))),null,2);case 7:t.interval=e.sent,t.type="chart";case 9:case"end":return e.stop()}}),e)})))()},destroyed:function(){window.__Walle_Stock_Cron&&window.__Walle_Stock_Cron.stop(this.interval)},methods:{update:function(){try{if(!this.code)return;this.profit=this.calcChange(),this.chart(this.stock,this.trend,this.state)}catch(t){}},onShowStocks:function(){return Object(i.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s.a.show();case 1:case"end":return t.stop()}}),t)})))()},onChangeType:function(t){this.type=t},calcChange:function(){try{if(void 0===this.chartData.buy.change)return 0;var t=this.chartData.buy.change;return+((this.chartData.sell.change||this.trend.change[0])-t).toFixed(2)}catch(t){return 0}},chart:function(t,e,r){if(this.$refs.chart&&e){var n={};n.time=e.time.slice(0,100),n.price=e.price.slice(0,100),n.ma5=e.ma5.slice(0,100),n.ma10=e.ma10.slice(0,100),n.ma20=e.ma20.slice(0,100);var a=(e=n).time,o=function(t,e,r){var n=new Array(t.length).fill(NaN);for(var a in t)if(+e>=+t[a]){n[a]=r;break}return n.reverse()},i=[new c.a({label:"Stock Buy Point",backgroundColor:c.b.blue,borderColor:c.b.blue,pointRadius:5,data:o(a,this.chartData.buy.time,this.chartData.buy.price)}),new c.a({label:"Stock Sell Point",backgroundColor:c.b.green,borderColor:c.b.green,pointRadius:5,data:o(a,this.chartData.sell.time,this.chartData.sell.price)}),new c.a({label:"Stock Price",backgroundColor:c.b.red,borderColor:c.b.red,data:e.price.reverse()}),new c.a({label:"Stock MA5",backgroundColor:c.b.orange,borderColor:c.b.orange,data:e.ma5.reverse()}),new c.a({label:"Stock MA10",backgroundColor:c.b.yellow,borderColor:c.b.yellow,data:e.ma10.reverse()}),new c.a({label:"Stock MA20",backgroundColor:c.b.grey,borderColor:c.b.grey,data:e.ma20.reverse()})];this.$refs.chart.update({labels:a,datasets:i})}},timestamp:function(){return(new Date).getTime()},secid:function(t){if("1.000001"===t)return"sh000001";var e=window.__Walle_Stock_Crawler.eastmoney.marketCode(t);return"".concat("0"===e?"sz":"sh").concat(t)},kline:function(t){var e="";if(Number.isInteger(+t)){var r=this.secid(t);e="https://image.sinajs.cn/newchart/min/n/".concat(r,".gif")}else e="https://image.sinajs.cn/newchart/futures/min/".concat(t,".gif");var n=this.timestamp();return"".concat(e,"?").concat(n)}}});e.a=d},791:function(t,e,r){"use strict";var n=r(586);r.n(n).a},947:function(t,e,r){"use strict";r.r(e);var n=r(661),a=r(662),o=(r(791),r(42)),i=Object(o.a)(a.a,n.render,n.staticRenderFns,!1,null,"3a2de504",null),c=r(98);c.install(r(4)),c.compatible&&(t.hot.accept(),c.isRecorded("3a2de504")?c.reload("3a2de504",i.options):c.createRecord("3a2de504",i.options),t.hot.accept(661,function(t){n=r(661),c.rerender("3a2de504",{render:n.render,staticRenderFns:n.staticRenderFns})}.bind(this))),i.options.__file="vue/pages/T0.vue",e.default=i.exports}}]);