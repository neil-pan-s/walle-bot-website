(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{527:function(e,t,n){"use strict";var r=n(8),a=n(65),o=[].reverse,i=[1,2];r({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return a(this)&&(this.length=this.length),o.call(this)}})},532:function(e,t,n){"use strict";var r=n(32),a=n(143),o=n(31);e.exports=function(e){for(var t=r(this),n=o(t.length),i=arguments.length,c=a(i>1?arguments[1]:void 0,n),s=i>2?arguments[2]:void 0,l=void 0===s?n:a(s,n);l>c;)t[c++]=e;return t}},533:function(e,t,n){var r=n(8),a=n(532),o=n(146);r({target:"Array",proto:!0},{fill:a}),o("fill")},536:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));n(533);var r=n(5),a=n(3),o={red:"rgb(255, 99, 132)",orange:"rgb(255, 159, 64)",yellow:"rgb(255, 205, 86)",green:"rgb(11, 188, 73)",blue:"rgb(120, 164, 250)",purple:"rgb(153, 102, 255)",grey:"rgb(201, 203, 207)"},i=function e(t){Object(r.a)(this,e),Object(a.a)(this,"label",void 0),Object(a.a)(this,"fill",void 0),Object(a.a)(this,"backgroundColor",void 0),Object(a.a)(this,"borderColor",void 0),Object(a.a)(this,"data",void 0),Object.assign(this,t),this.fill=t.fill||!1,this.backgroundColor=t.backgroundColor||o.red,this.borderColor=t.borderColor||o.red}},574:function(e,t,n){var r=n(53),a=n(575);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1},i=r(a,o),c=a.locals?a.locals:{};a.locals||e.hot.accept(575,(function(){var t=n(575);"string"==typeof(t=t.__esModule?t.default:t)&&(t=[[e.i,t,""]]),i(t)})),e.hot.dispose((function(){i()})),e.exports=c},575:function(e,t,n){(t=n(54)(!1)).push([e.i,'\n.times[data-v-15841b84] {\n  width: 75%;\n  margin: auto;\n  font-size: 8px;\n  text-align: center;\n  color: #666;\n  list-style: none;\n  margin-top: 20px;\n}\n.times[data-v-15841b84]:after{\n  content:"";\n  display:block;\n  clear:both;\n}\n.times li[data-v-15841b84] {\n  display: inline-block;\n}\n.next[data-v-15841b84] {\n  float: right;\n}\n.pre[data-v-15841b84] {\n  float: left;\n}\n',""]),e.exports=t},634:function(e,t,n){"use strict";n.r(t),n.d(t,"render",(function(){return r})),n.d(t,"staticRenderFns",(function(){return a}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"t0"},[n("ui-nav",[n("ui-nav-item",{attrs:{selected:"bond"===e.target}},[n("a",{on:{click:function(t){return e.onChangeTarget("bond")}}},[e._v("BOND")])]),e._v(" "),n("ui-nav-item",{staticClass:"without",attrs:{selected:"future"===e.target}},[n("a",{on:{click:function(t){return e.onChangeTarget("future")}}},[e._v("FUTURE")])])],1),e._v(" "),n("ui-nav",e._l(e.keys,(function(t){return n("ui-nav-item",{key:t,class:{without:t.includes("short")},attrs:{selected:e.key===t}},[n("a",{on:{click:function(n){return e.onChangeKey(t)}}},[e._v(e._s(t.toUpperCase()))])])})),1),e._v(" "),n("ui-nav",[n("ui-nav-item",{attrs:{selected:1==+e.day},nativeOn:{click:function(t){return e.onChangeDay(1)}}},[e._v("周一")]),e._v(" "),n("ui-nav-item",{attrs:{selected:2==+e.day},nativeOn:{click:function(t){return e.onChangeDay(2)}}},[e._v("周二")]),e._v(" "),n("ui-nav-item",{attrs:{selected:3==+e.day},nativeOn:{click:function(t){return e.onChangeDay(3)}}},[e._v("周三")]),e._v(" "),n("ui-nav-item",{attrs:{selected:4==+e.day},nativeOn:{click:function(t){return e.onChangeDay(4)}}},[e._v("周四")]),e._v(" "),n("ui-nav-item",{attrs:{selected:5==+e.day},nativeOn:{click:function(t){return e.onChangeDay(5)}}},[e._v("周五")]),e._v(" "),n("ui-nav-item",{nativeOn:{click:function(t){return e.onRealtime()}}},[e._v("实时")]),e._v(" "),n("ui-nav-item",{nativeOn:{click:function(t){return e.onSimulator()}}},[e._v("回测")])],1),e._v(" "),n("ui-nav",[n("ui-nav-item",{attrs:{selected:"total"===e.type}},[n("a",{on:{click:function(t){return e.onChangeType("total")}}},[e._v("交易汇总")])]),e._v(" "),n("ui-nav-item",{attrs:{selected:"detail"===e.type}},[n("a",{on:{click:function(t){return e.onChangeType("detail")}}},[e._v("逐笔还原")])])],1),e._v(" "),n("ul",{staticClass:"times"},[n("li",{directives:[{name:"show",rawName:"v-show",value:e.before,expression:"before"}],staticClass:"pre",on:{click:function(t){return e.onShowBefore()}}},[e._v(" ‹ "+e._s(e.before)+" ")]),e._v(" "),n("li",[e._v(" "+e._s(e.tooltip)+" ")]),e._v(" "),n("li",{directives:[{name:"show",rawName:"v-show",value:e.next,expression:"next"}],staticClass:"next",on:{click:function(t){return e.onShowNext()}}},[e._v(" "+e._s(e.next)+" › ")])]),e._v(" "),n("ui-chart",{ref:"chart"})],1)},a=[];r._withStripped=!0},635:function(e,t,n){"use strict";n(27),n(533),n(527),n(41),n(98),n(64),n(24),n(28),n(63),n(30);var r=n(1),a=n.n(r),o=(n(21),n(2)),i=n(536),c=n(0),s=n.n(c),l=n(367),u=n(99),d=n.n(u),b={data:function(){return{day:s()().day(),targets:[],keys:[],target:"bond",type:"total",next:"",before:"",tooltip:"",console:!1}},mounted:function(){var e=this;return Object(o.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.targets=Object.keys(window.__Walle_Stock_T0.Controllers),e.onChangeTarget(e.targets[0]);case 2:case"end":return t.stop()}}),t)})))()},methods:{onSimulator:function(){var e=this;return Object(o.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l.a.simulator(e.target,e.key);case 1:case"end":return t.stop()}}),t)})))()},onRealtime:function(){var e=this;return Object(o.a)(a.a.mark((function t(){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("future"!==e.target){t.next=7;break}if(n=window.prompt("Please Input Future Code(eg. ag2007,pg2011)")){t.next=4;break}return t.abrupt("return");case 4:return(r=n.split(",")).length&&l.a.open(e.target,e.key,r),t.abrupt("return");case 7:l.a.open(e.target,e.key);case 8:case"end":return t.stop()}}),t)})))()},onChangeTarget:function(e){var t=this;return Object(o.a)(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.target=e,t.keys=Object.keys(window.__Walle_Stock_T0.Controllers[t.target].Processors),t.key=t.keys[0],t.onChangeDay(t.day);case 4:case"end":return n.stop()}}),n)})))()},onChangeKey:function(e){var t=this;return Object(o.a)(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.key=e,t.onChangeDay(t.day);case 2:case"end":return n.stop()}}),n)})))()},onChangeDay:function(e){var t=this;return Object(o.a)(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.day=e,t.type="total",t.next="",t.before="",t.tooltip="",t.$refs.chart&&t.$refs.chart.clear(),n.next=8,l.a.load(t.target,t.key,e);case 8:return n.next=10,t.onChangeType("total");case 10:case"end":return n.stop()}}),n)})))()},onChangeType:function(e){var t=this;return Object(o.a)(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.type=e,"total"===e?t.onShowTotalChart():t.onShowDetailChart();case 2:case"end":return n.stop()}}),n)})))()},onShowBefore:function(){l.a.stepToBefore(),this.onShowDetailChart()},onShowNext:function(){l.a.stepToNext(),this.onShowDetailChart()},onShowTotalChart:function(){if(this.$refs.chart){var e=l.a.total();if(l.a.date()){this.next="",this.before="",this.tooltip="".concat(l.a.date()," 总收益: ").concat(e.profits,"% 次数: ").concat(e.times," 胜率: ").concat(e.rate.win,"% 单笔收益: ").concat(e.rate.average,"%");var t=[new i.a({label:"Stocks Total PTCChange",backgroundColor:i.b.red,borderColor:i.b.red,data:e.profit}),new i.a({label:"Stock PTCChange",backgroundColor:i.b.yellow,borderColor:i.b.yellow,data:e.change})],n=e.time.reverse();this.$refs.chart.update({labels:n,datasets:t})}}},onShowDetailChart:function(){if(this.$refs.chart&&l.a.date()){var e=l.a.next(),t=l.a.before();this.next=e&&s()(e,"HHmmss").format("HH:mm:ss"),this.before=t&&s()(t,"HHmmss").format("HH:mm:ss");var n=l.a.current(),r=l.a.detail(n),a=r.buy.change||0,o=r.sell.change||0;r.code&&r.name&&(this.tooltip="".concat(r.code," ").concat(r.name," ").concat(+(o-a).toFixed(2),"%"));var c=d()(r),u=c.trend.time,b=function(e,t,n){var r=new Array(e.length).fill(NaN);for(var a in e)if(+t>=+e[a]){r[a]=n;break}return r.reverse()},f=[new i.a({label:"Stock Buy Point",backgroundColor:i.b.blue,borderColor:i.b.blue,pointRadius:5,data:b(u,c.buy.time,c.buy.price)}),new i.a({label:"Stock Sell Point",backgroundColor:i.b.green,borderColor:i.b.green,pointRadius:5,data:b(u,c.sell.time,c.sell.price)}),new i.a({label:"Stock Price",backgroundColor:i.b.red,borderColor:i.b.red,data:c.trend.price.reverse()}),new i.a({label:"Stock MA5",backgroundColor:i.b.orange,borderColor:i.b.orange,data:c.trend.ma5.reverse()}),new i.a({label:"Stock MA10",hidden:!0,backgroundColor:i.b.yellow,borderColor:i.b.yellow,data:c.trend.ma10.reverse()}),new i.a({label:"Stock MA20",hidden:!0,backgroundColor:i.b.grey,borderColor:i.b.grey,data:c.trend.ma20.reverse()}),new i.a({label:"Stock Change",hidden:!0,backgroundColor:i.b.orange,borderColor:i.b.orange,data:c.trend.change.reverse()}),new i.a({label:"Stock Rate",hidden:!0,backgroundColor:i.b.purple,borderColor:i.b.purple,data:c.trend.rate.reverse()})];this.$refs.chart.update({labels:u,datasets:f})}}}};t.a=b},705:function(e,t,n){"use strict";var r=n(574);n.n(r).a},810:function(e,t,n){"use strict";n.r(t);var r=n(634),a=n(635),o=(n(705),n(42)),i=Object(o.a)(a.a,r.render,r.staticRenderFns,!1,null,"15841b84",null),c=n(97);c.install(n(4)),c.compatible&&(e.hot.accept(),c.isRecorded("15841b84")?c.reload("15841b84",i.options):c.createRecord("15841b84",i.options),e.hot.accept(634,function(e){r=n(634),c.rerender("15841b84",{render:r.render,staticRenderFns:r.staticRenderFns})}.bind(this))),i.options.__file="vue/pages/T0-Manager.vue",t.default=i.exports}}]);