(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{314:function(t,e,i){"use strict";var a=i(8),n=i(55),r=[].reverse,s=[1,2];a({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return n(this)&&(this.length=this.length),r.call(this)}})},319:function(t,e,i){var a=i(8),n=i(322),r=i(98);a({target:"Array",proto:!0},{fill:n}),r("fill")},322:function(t,e,i){"use strict";var a=i(28),n=i(97),r=i(27);t.exports=function(t){for(var e=a(this),i=r(e.length),s=arguments.length,l=n(s>1?arguments[1]:void 0,i),o=s>2?arguments[2]:void 0,c=void 0===o?i:n(o,i);c>l;)e[l++]=t;return e}},323:function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"a",(function(){return s}));i(319);var a=i(5),n=i(3),r={red:"rgb(255, 99, 132)",orange:"rgb(255, 159, 64)",yellow:"rgb(255, 205, 86)",green:"rgb(11, 188, 73)",blue:"rgb(120, 164, 250)",purple:"rgb(153, 102, 255)",grey:"rgb(201, 203, 207)"},s=function t(e){Object(a.a)(this,t),Object(n.a)(this,"label",void 0),Object(n.a)(this,"fill",void 0),Object(n.a)(this,"backgroundColor",void 0),Object(n.a)(this,"borderColor",void 0),Object(n.a)(this,"data",void 0),Object.assign(this,e),this.fill=e.fill||!1,this.backgroundColor=e.backgroundColor||r.red,this.borderColor=e.borderColor||r.red}},393:function(t,e,i){var a=i(44),n=i(394);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[t.i,n,""]]);var r={insert:"head",singleton:!1},s=a(n,r),l=n.locals?n.locals:{};n.locals||t.hot.accept(394,(function(){var e=i(394);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[t.i,e,""]]),s(e)})),t.hot.dispose((function(){s()})),t.exports=l},394:function(t,e,i){(e=i(45)(!1)).push([t.i,'\n.all-lists .vtype[data-v-63df066f] {\n  width: 80%;\n  margin: auto;\n  text-align: right;\n  font-size: 12px;\n  /* border-bottom: 1px dotted #999; */\n}\n.all-lists .vtype-icon[data-v-63df066f] {\n  font-size: 12px;\n}\n.date[data-v-63df066f] {\n  width: 75%;\n  padding-left: 30px;\n  margin: auto;\n  font-size: 8px;\n  text-align: center;\n  color: #666;\n  list-style: none;\n}\n.date[data-v-63df066f]:after{\n  content:"";\n  display:block;\n  clear:both;\n}\n.date li[data-v-63df066f] {\n  display: inline-block;\n}\n.next[data-v-63df066f] {\n  float: right;\n}\n.pre[data-v-63df066f] {\n  float: left;\n}\n.indicator-icon[data-v-63df066f] {\n  font-size: 12px;\n  color: #C9C9C9;\n}\n',""]),t.exports=e},439:function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return a})),i.d(e,"staticRenderFns",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"today"},[i("ui-nav",[t._l(t.times,(function(e,a){return i("ui-nav-item",{key:e.time+a,attrs:{selected:t.time===e.time},nativeOn:{click:function(i){return t.onChangeTime(e.time)}}},[t._v(" \n      "+t._s(e.time.toUpperCase())+" \n      "),e.rule.date?i("span",{attrs:{title:"移除此临时捕获时间点"},on:{click:function(i){return t.onRemoveTempCapture(e.rule.capture,e.rule.date)}}},[t._v("X")]):t._e()])})),t._v(" "),i("ui-nav-item",{attrs:{title:"设置临时捕获时间点(如大盘反弹)"},nativeOn:{click:function(e){return t.onSetTempCapture()}}},[t._v("✚")])],2),t._v(" "),t.time.includes("interval")?t._e():i("ui-nav",[t._l(t.vtypes,(function(e){return i("ui-nav-item",{key:e,attrs:{selected:t.vtype===e&&!t.isShowAll,title:JSON.stringify(t.validators[e],null,4)}},[i("a",{on:{click:function(i){return t.onChangeVtype(e)}}},[t._v(t._s(e.toUpperCase()))])])})),t._v(" "),i("ui-nav-item",{attrs:{selected:t.isShowAll}},[i("a",{on:{click:function(e){return e.stopPropagation(),t.toggleAllLists(e)}}},[t._v("☰")])])],2),t._v(" "),t.isShowAll?t._e():i("ui-nav",t._l(t.lists,(function(e){var a=e.change,n=e.name;return i("ui-nav-item",{key:t.time+t.vtype+n,attrs:{selected:t.list===n}},[i("ui-icon-indicator",{attrs:{time:t.time,vtype:t.vtype,listname:n,trace:t.trace}}),t._v(" "),i("a",{attrs:{title:t.titleOfList(n,t.vtype)},on:{click:function(e){return t.onChangeList(n,t.vtype)}}},[t._v(t._s(n))]),t._v(" "),i("a",{on:{click:function(e){return t.onShowStocksBoard(e,n,t.vtype)}}},[t._v(" ("+t._s(a)+"%)")]),t._v(" "),i("ui-icon-top",{attrs:{time:t.time,vtype:t.vtype,listname:n}}),t._v(" "),i("ui-icon-strategy",{attrs:{time:t.time,vtype:t.vtype,listname:n}}),t._v(" "),i("ui-icon-up",{attrs:{time:t.time,vtype:t.vtype,listname:n}}),t._v(" "),i("ui-icon-down",{attrs:{time:t.time,vtype:t.vtype,listname:n}}),t._v(" "),i("ui-icon-hot",{attrs:{time:t.time,vtype:t.vtype,listname:n,trace:t.trace}}),t._v(" "),i("ui-icon-quantity",{attrs:{time:t.time,vtype:t.vtype,listname:n,trace:t.trace}}),t._v(" "),i("ui-icon-ratio",{attrs:{time:t.time,vtype:t.vtype,listname:n,trace:t.trace}})],1)})),1),t._v(" "),t.isShowAll?i("div",{staticClass:"all-lists"},[i("ui-nav",[i("ui-nav-item",{attrs:{selected:-1e3===t.alllistsFilter}},[i("a",{on:{click:function(e){t.alllistsFilter=-1e3,t.updateAllLists()}}},[t._v("ALL")])]),t._v(" "),i("ui-nav-item",{attrs:{selected:0===t.alllistsFilter}},[i("a",{on:{click:function(e){t.alllistsFilter=0,t.updateAllLists()}}},[t._v(">0%")])]),t._v(" "),i("ui-nav-item",{attrs:{selected:5===t.alllistsFilter}},[i("a",{on:{click:function(e){t.alllistsFilter=5,t.updateAllLists()}}},[t._v(">5.0%")])]),t._v(" "),i("ui-nav-item",{attrs:{selected:10===t.alllistsFilter}},[i("a",{on:{click:function(e){t.alllistsFilter=10,t.updateAllLists()}}},[t._v(">10.0%")])]),t._v(" "),i("ui-nav-item",{attrs:{selected:20===t.alllistsFilter}},[i("a",{on:{click:function(e){t.alllistsFilter=20,t.updateAllLists()}}},[t._v(">20.0%")])]),t._v(" "),i("ui-nav-item",{attrs:{selected:40===t.alllistsFilter}},[i("a",{on:{click:function(e){t.alllistsFilter=40,t.updateAllLists()}}},[t._v(">40.0%")])]),t._v(" "),i("ui-nav-item",{attrs:{selected:60===t.alllistsFilter}},[i("a",{on:{click:function(e){t.alllistsFilter=60,t.updateAllLists()}}},[t._v(">60.0%")])]),t._v(" "),i("ui-nav-item",{attrs:{selected:80===t.alllistsFilter}},[i("a",{on:{click:function(e){t.alllistsFilter=80,t.updateAllLists()}}},[t._v(">80.0%")])]),t._v(" "),t.time.includes("t0")&&!t.time.includes("interval")?i("ui-nav-item",{attrs:{selected:"ratio"===t.alllistsFilter}},[i("a",{on:{click:function(e){t.alllistsFilter="ratio",t.updateAllLists()}}},[t._v("S-RATIO")])]):t._e()],1),t._v(" "),t._l(t.alllists,(function(e,a){return i("div",{directives:[{name:"show",rawName:"v-show",value:e.length,expression:"lists.length"}],key:a},[i("ui-nav",{staticClass:"nav"},[i("ui-nav-item",{staticClass:"vtype-icon",staticStyle:{"pointer-events":"none"}},[t._v(t._s(a.toUpperCase()))]),t._v(" "),t._l(e,(function(e){var n=e.change,r=e.name;return i("ui-nav-item",{key:t.time+a+r,attrs:{selected:t.list===r}},[i("ui-icon-indicator",{attrs:{time:t.time,vtype:a,listname:r,trace:t.trace}}),t._v(" "),i("a",{attrs:{title:t.titleOfList(r,a)},on:{click:function(e){return t.onChangeList(r,a)}}},[t._v(t._s(r))]),t._v(" "),i("a",{on:{click:function(e){return t.onShowStocksBoard(e,r,a)}}},[t._v(" ("+t._s(n)+"%)")]),t._v(" "),i("ui-icon-top",{attrs:{time:t.time,vtype:a,listname:r}}),t._v(" "),i("ui-icon-strategy",{attrs:{time:t.time,vtype:a,listname:r}}),t._v(" "),i("ui-icon-up",{attrs:{time:t.time,vtype:a,listname:r}}),t._v(" "),i("ui-icon-down",{attrs:{time:t.time,vtype:a,listname:r}}),t._v(" "),i("ui-icon-hot",{attrs:{time:t.time,vtype:a,listname:r,trace:t.trace}}),t._v(" "),i("ui-icon-quantity",{attrs:{time:t.time,vtype:a,listname:r,trace:t.trace}}),t._v(" "),i("ui-icon-ratio",{attrs:{time:t.time,vtype:a,listname:r,trace:t.trace}})],1)}))],2)],1)}))],2):t._e(),t._v(" "),i("ul",{staticClass:"date"},[i("li",{directives:[{name:"show",rawName:"v-show",value:t.date.pre,expression:"date.pre"}],staticClass:"pre"},[i("router-link",{attrs:{to:"/market/today?date="+t.date.pre+"&time="+t.time+"&vtype="+t.vtype+"&list="+t.list}},[t._v(" ‹ "+t._s(t.date.pre)+" ")])],1),t._v(" "),i("li",[t._v(" "+t._s(t.date.today)+" ")]),t._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:t.date.next,expression:"date.next"}],staticClass:"next"},[i("router-link",{attrs:{to:"/market/today?date="+t.date.next+"&time="+t.time+"&vtype="+t.vtype+"&list="+t.list}},[t._v(t._s(t.date.next)+" › ")])],1)]),t._v(" "),i("ui-chart",{ref:"chart"}),t._v(" "),i("ui-gene")],1)},n=[];a._withStripped=!0},440:function(t,e,i){"use strict";i(40),i(41),i(42),i(24),i(35),i(314),i(34),i(77),i(53),i(21),i(26),i(43),i(33),i(46),i(267),i(25),i(266);var a=i(1),n=i.n(a),r=(i(18),i(2)),s=i(14),l=i(17),o=i(261),c=i(69),u=i(56),v=i(103),d=i(323),h={data:function(){return{loadingEl:void 0,isShowAll:!1,alllists:{},alllistsFilter:-1e3,time:"",vtype:"",list:"",times:[],vtypes:[],lists:[],tempTimes:[],validators:{},trace:c.a,capture:o.a,traceOfLastday:c.a,date:{today:"",next:"",pre:""}}},beforeMount:function(){var t=this;return Object(r.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.initTimesNav();case 2:return e.next=4,t.initVtypesNav();case 4:return e.next=6,t.initTrace();case 6:return t.$route.query.time&&(t.time=t.$route.query.time),t.$route.query.vtype&&(t.vtype=t.$route.query.vtype),t.$route.query.vtype&&(t.list=t.$route.query.list),e.next=11,t.onChangeList(t.$route.query.list,t.$route.query.vtype);case 11:case"end":return e.stop()}}),e)})))()},watch:{$route:function(t,e){var i=this;return Object(r.a)(n.a.mark((function t(){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.initTimesNav();case 2:return t.next=4,i.initVtypesNav();case 4:return t.next=6,i.initTrace();case 6:i.time=i.$route.query.time,i.vtype=i.$route.query.vtype,i.list=i.$route.query.list,i.onChangeList(i.list,i.vtype),i.updateAllLists();case 11:case"end":return t.stop()}}),t)})))()}},methods:{initTrace:function(){var t=this;return Object(r.a)(n.a.mark((function e(){var i,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=t.$route.query.date)){e.next=26;break}if(e.t0=t.loadingEl,!e.t0){e.next=6;break}return e.next=6,toastr.clear(t.loadingEl);case 6:return e.next=8,toastr.loading();case 8:return t.loadingEl=e.sent,t.tradedate=new l.a(i),t.date.pre=t.tradedate.last(),t.date.next=t.tradedate.next(),t.date.today=i,e.next=15,c.a.create(i);case 15:return t.trace=e.sent,e.next=18,o.a.create(i);case 18:return t.capture=e.sent,e.next=21,c.a.create(t.date.pre);case 21:return t.traceOfLastday=e.sent,e.next=24,toastr.clear(t.loadingEl);case 24:e.next=34;break;case 26:return t.date={},t.tradedate=l.b,t.trace=c.a,t.capture=o.a,a=t.tradedate.last(),e.next=33,c.a.create(a);case 33:t.traceOfLastday=e.sent;case 34:t.trace.registerUpdateCallback("today",(function(e){e.name==="".concat(t.time,"-").concat(t.vtype)&&t.onChangeList(t.list),t.isShowAll&&t.updateAllLists()}));case 35:case"end":return e.stop()}}),e)})))()},updateAllLists:function(){if(this.isShowAll)if(this.time.includes("t0")&&!this.time.includes("interval")||"ratio"!==this.alllistsFilter){this.alllists={};var t=!0,e=!1,i=void 0;try{for(var a,n=this.vtypes[Symbol.iterator]();!(t=(a=n.next()).done);t=!0){var r=a.value,s=this.trace.listChangesOf(this.time,r);this.alllists[r]=[];var l=!0,o=!1,c=void 0;try{for(var u,v=s[Symbol.iterator]();!(l=(u=v.next()).done);l=!0){var d=u.value;"ratio"===this.alllistsFilter?this.filterOfRatio(d.name,r)&&this.alllists[r].push(d):+d.change>this.alllistsFilter&&this.alllists[r].push(d)}}catch(t){o=!0,c=t}finally{try{l||null==v.return||v.return()}finally{if(o)throw c}}}}catch(t){e=!0,i=t}finally{try{t||null==n.return||n.return()}finally{if(e)throw i}}}else this.alllists={}},filterOfRatio:function(t,e){try{var i=this.trace.listRatioRankOf("quantity",this.time,e,t),a=this.trace.listRatioRankOf("hot",this.time,e,t),n=this.trace.listRatioRankOf("ratio",this.time,e,t);return i&&+i<=3||a&&+a<=3||n&&+n<=3}catch(t){}},toggleAllLists:function(){this.isShowAll=!this.isShowAll,this.isShowAll&&this.updateAllLists()},initTimesNav:function(){var t=this;return Object(r.a)(n.a.mark((function e(){var i,a,r,o,c,u,v,d,h,p,f,m,y,_,g,w,x,b,k,C,O,L,S,A,F;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=s.a.getCaptureRules(),a=s.a.getIntervalRules(),r=s.a.getTempRules(),o=[],c=[],u=l.b.today(),v=l.b.last(),d=!0,h=!1,p=void 0,e.prev=9,f=i[Symbol.iterator]();!(d=(m=f.next()).done);d=!0)y=m.value,c.push({time:y.capture,rule:y}),o.push({time:"t0-"+y.capture,rule:y});e.next=17;break;case 13:e.prev=13,e.t0=e.catch(9),h=!0,p=e.t0;case 17:e.prev=17,e.prev=18,d||null==f.return||f.return();case 20:if(e.prev=20,!h){e.next=23;break}throw p;case 23:return e.finish(20);case 24:return e.finish(17);case 25:if(t.$route.query.date){e.next=45;break}for(_=!0,g=!1,w=void 0,e.prev=29,x=r[Symbol.iterator]();!(_=(b=x.next()).done);_=!0)(k=b.value).date===v&&c.push({time:k.capture,rule:k}),k.date===u&&o.push({time:"t0-"+k.capture,rule:k}),t.tempTimes.push(k.capture);e.next=37;break;case 33:e.prev=33,e.t1=e.catch(29),g=!0,w=e.t1;case 37:e.prev=37,e.prev=38,_||null==x.return||x.return();case 40:if(e.prev=40,!g){e.next=43;break}throw w;case 43:return e.finish(40);case 44:return e.finish(37);case 45:for(C=!0,O=!1,L=void 0,e.prev=48,S=a[Symbol.iterator]();!(C=(A=S.next()).done);C=!0)F=A.value,c.push({time:F.capture,rule:F}),o.push({time:"t0-"+F.capture,rule:F});e.next=56;break;case 52:e.prev=52,e.t2=e.catch(48),O=!0,L=e.t2;case 56:e.prev=56,e.prev=57,C||null==S.return||S.return();case 59:if(e.prev=59,!O){e.next=62;break}throw L;case 62:return e.finish(59);case 63:return e.finish(56);case 64:t.times=[].concat(c,o),t.time=c[0].time;case 66:case"end":return e.stop()}}),e,null,[[9,13,17,25],[18,,20,24],[29,33,37,45],[38,,40,44],[48,52,56,64],[57,,59,63]])})))()},initVtypesNav:function(){var t=s.a.getValidators();this.vtypes=[];var e=!0,i=!1,a=void 0;try{for(var n,r=t[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var l=n.value;this.vtypes.push(l.name),this.validators[l.name]=l}}catch(t){i=!0,a=t}finally{try{e||null==r.return||r.return()}finally{if(i)throw a}}this.vtype=this.vtypes[0]},onUpdateChart:function(){if(this.$refs.chart){var t=this.trace.formatedChangesOfList(this.time,this.vtype,this.list);if(t.time.length){var e=t.time.reverse(),i=[new d.a({label:"Stocks PTC-Change",data:t.value})];this.$refs.chart.update({labels:e,datasets:i})}else this.$refs.chart.clear()}},onChangeTime:function(t){this.isShowAll=!1,this.time=t,t.includes("interval")&&(this.vtype="v0"),this.onChangeList()},onChangeVtype:function(t){this.isShowAll=!1,this.vtype=t,this.onChangeList()},onChangeList:function(t,e){if(this.time&&this.vtype)if(e&&(this.vtype=e),this.lists=this.trace.listChangesOf(this.time,this.vtype),this.lists.length){t&&(this.list=t);var i=!1,a=!0,n=!1,r=void 0;try{for(var s,l=this.lists[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){s.value.name===this.list&&this.list&&(i=!0)}}catch(t){n=!0,r=t}finally{try{a||null==l.return||l.return()}finally{if(n)throw r}}!i&&(this.list=this.lists[0].name),this.onUpdateChart()}else this.$refs.chart&&this.$refs.chart.clear()},onSetTempCapture:function(){window.__Walle_Stock_Controller.setTempCapture(),setTimeout((function(){location.href=location.pathname}),500)},onRemoveTempCapture:function(t,e){window.__Walle_Stock_Controller.removeTempCapture(t,e),setTimeout((function(){location.href=location.pathname}),500)},onShowStocksBoard:function(t,e,i){if(this.time&&this.vtype){i=i||this.vtype;t.currentTarget;var a={};a=this.time.startsWith("t0")?this.capture.captureOfList(this.time,i,e):this.trace.captureOfList(this.time,i,e);var n=this.trace.traceOfList(this.time,i,e);a&&Object.keys(a).length&&v.a.show(this.time,i,e,a,n,{update:!this.$route.query.date})}},titleOfList:function(t,e){try{var i=this.trace.potentialChangeOfList(this.time,e,t),a=this.trace.listRatioOf("quantity",this.time,e,t),n=this.trace.calcQuantityOffsetOfList(this.time,e,t),r=this.trace.rateOfList(this.time,e,t);if(this.tempTimes.includes(this.time.replace("t0-","")))return"量价能系数: ".concat(a," (").concat(n>0?"+".concat((+n).toFixed(2)):(+n).toFixed(2),") 榜单主力净占比: ").concat(r,"% 最大潜在涨幅: ").concat(i,"% ");var s=u.a.listRankOf(this.time,e,t),l=u.a.listStrategyOf(this.time,e,t),o=this.tradedate.today(),c=this.trace.listRatioOf("hot",this.time,e,t),v=this.trace.listRatioOf("ratio",this.time,e,t),d=this.trace.changeOfList(this.time.replace("t0-",""),e,t),h=this.trace.last2daysChangesOfList(this.time,e||this.vtype,t),p="持续交易总收益: ".concat(l.profit.normal,"% 排名: ").concat(s.longterm||0," 交易次数: ").concat(l.day.normal," 日盈利率: ").concat(l.profitrate.normal,"% 胜率: ").concat(l.winrate.normal,"%\n");return p+="策略交易总收益: ".concat(l.profit.strategy,"% 排名: ").concat(s.strategy||0," 交易次数: ").concat(l.day.trade," 日盈利率: ").concat(l.profitrate.strategy,"% 胜率: ").concat(l.winrate.strategy,"%\n"),p+="短期热度总收益: ".concat(l.profit.hot,"% 排名: ").concat(s.shortterm||0," 交易次数: ").concat(l.day.hot," 日盈利率: ").concat(l.profitrate.hot,"% 胜率: ").concat(l.winrate.hot,"%\n"),p+="上行交易总收益: ".concat(l.profit["up-trade"],"% 排名: ").concat(s.uptrade||0," 交易次数: ").concat(l.day["up-trade"]," 日盈利率: ").concat(l.profitrate["up-trade"],"% 胜率: ").concat(l.winrate["up-trade"],"%\n"),p+="下行交易总收益: ".concat(l.profit["down-trade"],"% 排名: ").concat(s.downtrade||0," 交易次数: ").concat(l.day["down-trade"]," 日盈利率: ").concat(l.profitrate["down-trade"],"% 胜率: ").concat(l.winrate["down-trade"],"%\n\n"),this.time.includes("interval")||(p+="可买入系数: ".concat(v," 热度趋势系数: ").concat(c," 量价能系数: ").concat(a," (").concat(n>0?"+".concat((+n).toFixed(2)):(+n).toFixed(2),") \n")),p+="榜单主力净占比: ".concat(r,"% 最大潜在涨幅: ").concat(i,"%\n"),p+="近三日收益: ".concat(o," ").concat(d,"%, ").concat(h[0]," ").concat(h[1],"%, ").concat(h[2]," ").concat(h[3],"%")}catch(t){}}}};e.a=h},658:function(t,e,i){"use strict";var a=i(393);i.n(a).a},711:function(t,e,i){"use strict";i.r(e);var a=i(439),n=i(440),r=(i(658),i(36)),s=Object(r.a)(n.a,a.render,a.staticRenderFns,!1,null,"63df066f",null),l=i(78);l.install(i(4)),l.compatible&&(t.hot.accept(),l.isRecorded("63df066f")?l.reload("63df066f",s.options):l.createRecord("63df066f",s.options),t.hot.accept(439,function(t){a=i(439),l.rerender("63df066f",{render:a.render,staticRenderFns:a.staticRenderFns})}.bind(this))),s.options.__file="vue/pages/Today.vue",e.default=s.exports}}]);