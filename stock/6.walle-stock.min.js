(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{530:function(t,e,i){"use strict";var a=i(8),r=i(65),n=[].reverse,s=[1,2];a({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n.call(this)}})},539:function(t,e,i){"use strict";var a=i(32),r=i(143),n=i(31);t.exports=function(t){for(var e=a(this),i=n(e.length),s=arguments.length,l=r(s>1?arguments[1]:void 0,i),o=s>2?arguments[2]:void 0,c=void 0===o?i:r(o,i);c>l;)e[l++]=t;return e}},540:function(t,e,i){var a=i(8),r=i(539),n=i(146);a({target:"Array",proto:!0},{fill:r}),n("fill")},544:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"a",(function(){return s}));i(540);var a=i(5),r=i(3),n={red:"rgb(255, 99, 132)",orange:"rgb(255, 159, 64)",yellow:"rgb(255, 205, 86)",green:"rgb(11, 188, 73)",blue:"rgb(120, 164, 250)",purple:"rgb(153, 102, 255)",grey:"rgb(201, 203, 207)"},s=function t(e){Object(a.a)(this,t),Object(r.a)(this,"label",void 0),Object(r.a)(this,"fill",void 0),Object(r.a)(this,"backgroundColor",void 0),Object(r.a)(this,"borderColor",void 0),Object(r.a)(this,"data",void 0),Object.assign(this,e),this.fill=e.fill||!1,this.backgroundColor=e.backgroundColor||n.red,this.borderColor=e.borderColor||n.red}},593:function(t,e,i){var a=i(53),r=i(594);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var n={insert:"head",singleton:!1},s=a(r,n),l=r.locals?r.locals:{};r.locals||t.hot.accept(594,(function(){var e=i(594);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[t.i,e,""]]),s(e)})),t.hot.dispose((function(){s()})),t.exports=l},594:function(t,e,i){(e=i(54)(!1)).push([t.i,"\n.all-lists .vtype-icon[data-v-7d228dc6] {\n  font-size: 12px;\n}\n",""]),t.exports=e},667:function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return a})),i.d(e,"staticRenderFns",(function(){return r}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"recent"},[i("ui-nav",t._l(t.times,(function(e,a){return i("ui-nav-item",{key:e.time+a,attrs:{selected:t.time===e.time},nativeOn:{click:function(i){return t.onChangeTime(e.time)}}},[t._v(" \n      "+t._s(e.time.toUpperCase())+" \n    ")])})),1),t._v(" "),t.time.includes("interval")?t._e():i("ui-nav",[t._l(t.vtypes,(function(e){return i("ui-nav-item",{key:e,attrs:{selected:t.vtype===e&&!t.isShowAll,title:JSON.stringify(t.validators[e],null,4)}},[i("a",{on:{click:function(i){return t.onChangeVtype(e)}}},[t._v(t._s(e.toUpperCase()))])])})),t._v(" "),t.time.includes("interval")?t._e():i("ui-nav-item",{key:"ratio",attrs:{selected:"ratio"===t.vtype&&!t.isShowAll}},[i("a",{on:{click:function(e){return t.onChangeRatio()}}},[t._v("S-RATIO")])]),t._v(" "),i("ui-nav-item",{attrs:{selected:t.isShowAll}},[i("a",{on:{click:function(e){return e.stopPropagation(),t.toggleAllLists(e)}}},[t._v("☰")])])],2),t._v(" "),"ratio"===t.vtype||t.isShowAll?t._e():i("ui-nav",t._l(t.lists,(function(e){var a=e.change,r=e.name;return i("ui-nav-item",{key:t.time+t.vtype+r,attrs:{selected:t.list===r}},[i("a",{attrs:{title:t.strategyOfList(r,t.vtype)},on:{click:function(e){return t.onChangeList(r)}}},[t._v(t._s(r))]),t._v(" "),i("a",[t._v(" ("+t._s(a)+"%)")]),t._v(" "),i("ui-icon-top",{attrs:{time:t.time,vtype:t.vtype,listname:r}}),t._v(" "),i("ui-icon-strategy",{attrs:{time:t.time,vtype:t.vtype,listname:r}}),t._v(" "),i("ui-icon-up",{attrs:{time:t.time,vtype:t.vtype,listname:r}}),t._v(" "),i("ui-icon-down",{attrs:{time:t.time,vtype:t.vtype,listname:r}})],1)})),1),t._v(" "),"ratio"!==t.vtype||t.isShowAll||t.time.includes("interval")?t._e():i("ui-nav",[i("ui-nav-item",[i("a",{attrs:{title:t.titleOfStrategy(t.strategy.ratio)},on:{click:function(e){return t.onUpdateChart(t.strategy.ratio)}}},[t._v("可买入系数")]),t._v(" "),i("a",[t._v(" ("+t._s(t.strategy.ratio.profit.normal)+"%)")])]),t._v(" "),i("ui-nav-item",[i("a",{attrs:{title:t.titleOfStrategy(t.strategy.quantity)},on:{click:function(e){return t.onUpdateChart(t.strategy.quantity)}}},[t._v("量价能系数")]),t._v(" "),i("a",[t._v(" ("+t._s(t.strategy.quantity.profit.normal)+"%)")])]),t._v(" "),i("ui-nav-item",[i("a",{attrs:{title:t.titleOfStrategy(t.strategy.hot)},on:{click:function(e){return t.onUpdateChart(t.strategy.hot)}}},[t._v("热度趋势系数")]),t._v(" "),i("a",[t._v(" ("+t._s(t.strategy.hot.profit.normal)+"%)")])])],1),t._v(" "),t.isShowAll?i("div",{staticClass:"all-lists"},[i("ui-nav",[i("ui-nav-item",{attrs:{selected:"all"===t.alllistsFilter}},[i("a",{on:{click:function(e){t.alllistsFilter="all",t.updateAllLists()}}},[t._v("ALL")])]),t._v(" "),i("ui-nav-item",{attrs:{selected:"top"===t.alllistsFilter}},[i("a",{on:{click:function(e){t.alllistsFilter="longterm",t.updateAllLists()}}},[t._v("TOP")])]),t._v(" "),i("ui-nav-item",{attrs:{selected:"strategy"===t.alllistsFilter}},[i("a",{on:{click:function(e){t.alllistsFilter="strategy",t.updateAllLists()}}},[t._v("STRATEGY")])]),t._v(" "),i("ui-nav-item",{attrs:{selected:"up"===t.alllistsFilter}},[i("a",{on:{click:function(e){t.alllistsFilter="uptrade",t.updateAllLists()}}},[t._v("UPTRADE")])]),t._v(" "),i("ui-nav-item",{attrs:{selected:"down"===t.alllistsFilter}},[i("a",{on:{click:function(e){t.alllistsFilter="downtrade",t.updateAllLists()}}},[t._v("DOWNTRADE")])])],1),t._v(" "),t._l(t.alllists,(function(e,a){return i("div",{directives:[{name:"show",rawName:"v-show",value:e.length,expression:"lists.length"}],key:a},[i("ui-nav",{staticClass:"nav"},[i("ui-nav-item",{staticClass:"vtype-icon",staticStyle:{"pointer-events":"none"}},[t._v(t._s(a.toUpperCase()))]),t._v(" "),t._l(e,(function(e){var r=e.change,n=e.name;return i("ui-nav-item",{key:t.time+a+n,attrs:{selected:t.list===n}},[i("a",{attrs:{title:t.strategyOfList(n,a)},on:{click:function(e){return t.onChangeList(n,a)}}},[t._v(t._s(n))]),t._v(" "),i("a",[t._v(" ("+t._s(r)+"%)")]),t._v(" "),i("ui-icon-top",{attrs:{time:t.time,vtype:a,listname:n}}),t._v(" "),i("ui-icon-strategy",{attrs:{time:t.time,vtype:a,listname:n}}),t._v(" "),i("ui-icon-up",{attrs:{time:t.time,vtype:a,listname:n}}),t._v(" "),i("ui-icon-down",{attrs:{time:t.time,vtype:a,listname:n}})],1)}))],2)],1)}))],2):t._e(),t._v(" "),i("ui-chart",{ref:"chart",on:{"point-click":t.onShowHistory}})],1)},r=[];a._withStripped=!0},668:function(t,e,i){"use strict";i(49),i(50),i(51),i(27),i(145),i(40),i(530),i(41),i(24),i(28),i(52),i(39),i(43),i(147),i(30);var a=i(1),r=i.n(a),n=(i(21),i(2)),s=i(15),l=i(67),o=i(544),c={data:function(){return{isShowAll:!1,alllists:{},alllistsFilter:"all",time:"",vtype:"",times:[],list:"",vtypes:[],lists:[],strategy:{ratio:{},hot:{}},validators:{}}},mounted:function(){this.initTimesNav(),this.initVtypesNav()},methods:{initTimesNav:function(){var t=s.a.getCaptureRules(),e=s.a.getIntervalRules(),i=[].concat(t,e),a=[],r=!0,n=!1,o=void 0;try{for(var c,u=i[Symbol.iterator]();!(r=(c=u.next()).done);r=!0){var v=c.value;a.push({time:v.capture,rule:v})}}catch(t){n=!0,o=t}finally{try{r||null==u.return||u.return()}finally{if(n)throw o}}this.times=a,this.time=a[0].time,this.strategy.ratio=l.a.ratioStrategyOf("ratio",this.time),this.strategy.quantity=l.a.ratioStrategyOf("quantity",this.time),this.strategy.hot=l.a.ratioStrategyOf("hot",this.time)},initVtypesNav:function(){var t=s.a.getValidators(),e=!0,i=!1,a=void 0;try{for(var r,n=t[Symbol.iterator]();!(e=(r=n.next()).done);e=!0){var l=r.value;this.vtypes.push(l.name),this.validators[l.name]=l}}catch(t){i=!0,a=t}finally{try{e||null==n.return||n.return()}finally{if(i)throw a}}},updateAllLists:function(){if(this.isShowAll){this.alllists={};var t=!0,e=!1,i=void 0;try{for(var a,r=this.vtypes[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var n=a.value,s=l.a.listChangesOf(this.time,n);this.alllists[n]=[];var o=!0,c=!1,u=void 0;try{for(var v,h=s[Symbol.iterator]();!(o=(v=h.next()).done);o=!0){var f=v.value;if("all"===this.alllistsFilter)this.alllists[n].push(f);else{var d=l.a.listRankOf(this.time,n,f.name,this.alllistsFilter);d&&d<=10&&this.alllists[n].push(f)}}}catch(t){c=!0,u=t}finally{try{o||null==h.return||h.return()}finally{if(c)throw u}}}}catch(t){e=!0,i=t}finally{try{t||null==r.return||r.return()}finally{if(e)throw i}}}},toggleAllLists:function(){this.isShowAll=!this.isShowAll,this.isShowAll&&this.updateAllLists()},onChangeTime:function(t){this.isShowAll=!1,t.includes("interval")&&(this.vtype="v0"),this.time=t,this.lists=[],this.strategy.ratio=l.a.ratioStrategyOf("ratio",t),this.strategy.quantity=l.a.ratioStrategyOf("quantity",t),this.strategy.hot=l.a.ratioStrategyOf("hot",t),this.$refs.chart&&this.$refs.chart.clear(),this.onChangeVtype("v0")},onChangeVtype:function(t){var e=this;return Object(n.a)(r.a.mark((function i(){return r.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:e.isShowAll=!1,e.vtype=t,e.lists=l.a.listChangesOf(e.time,e.vtype),e.$refs.chart&&e.$refs.chart.clear();case 4:case"end":return i.stop()}}),i)})))()},onChangeList:function(t,e){var i=this;return Object(n.a)(r.a.mark((function a(){var n;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:i.list=t,n=l.a.listStrategyOf(i.time,e||i.vtype,i.list),i.onUpdateChart(n);case 3:case"end":return a.stop()}}),a)})))()},formateChartData:function(t){var e={time:[],value:[]};return t?(t.forEach((function(t,i){i%2==0?e.time.push(t):e.value.push(t)})),e):e},onUpdateChart:function(t,e,i){if(this.$refs.chart){var a=[new o.a({label:"Stocks PTCChange-Close",backgroundColor:o.b.orange,borderColor:o.b.orange,data:this.formateChartData(t["daily-close-ptcchange"]).value}),new o.a({label:"Stocks Total Profit-Close",backgroundColor:o.b.red,borderColor:o.b.red,data:this.formateChartData(t["daily-close-profit"]).value}),new o.a({label:"Stocks PTCChange-Open",backgroundColor:o.b.yellow,borderColor:o.b.yellow,data:this.formateChartData(t["daily-open-ptcchange"]).value}),new o.a({label:"Stocks Total Profit-Open",backgroundColor:o.b.blue,borderColor:o.b.blue,data:this.formateChartData(t["daily-open-profit"]).value})],r=this.formateChartData(t["daily-open-ptcchange"]).time.reverse();this.$refs.chart.update({labels:r,datasets:a,title:e,titleTip:i})}},onShowHistory:function(t){var e=t.x;t.y;"ratio"===this.vtype&&(this.vtype="",this.list=""),this.$router.push({path:"/market/today",query:{date:e,time:this.time.replace("t0-",""),vtype:this.vtype,list:this.list}})},onChangeRatio:function(){this.isShowAll=!1,this.vtype="ratio",this.lists=[]},strategyOfList:function(t,e){try{var i=this.time.replace("t0-",""),a=l.a.listStrategyOf(i,e,t);return this.titleOfStrategy(a)}catch(t){}},titleOfStrategy:function(t){try{var e={name:t.name,profit:t.profit,day:t.day,profitrate:t.profitrate,winrate:t.winrate};return JSON.stringify(e,null,4)}catch(t){}}}};e.a=c},794:function(t,e,i){"use strict";var a=i(593);i.n(a).a},949:function(t,e,i){"use strict";i.r(e);var a=i(667),r=i(668),n=(i(794),i(42)),s=Object(n.a)(r.a,a.render,a.staticRenderFns,!1,null,"7d228dc6",null),l=i(98);l.install(i(4)),l.compatible&&(t.hot.accept(),l.isRecorded("7d228dc6")?l.reload("7d228dc6",s.options):l.createRecord("7d228dc6",s.options),t.hot.accept(667,function(t){a=i(667),l.rerender("7d228dc6",{render:a.render,staticRenderFns:a.staticRenderFns})}.bind(this))),s.options.__file="vue/pages/Recent.vue",e.default=s.exports}}]);