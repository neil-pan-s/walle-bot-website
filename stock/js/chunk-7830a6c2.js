(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7830a6c2"],{"12e9":function(e,t){function n(e){return{name:e,profit:{max:0,normal:0,strategy:0,compound:0,hot:0,"open-crash":-0,"stop-crash":0,"reverse-crash":0},day:{total:0,trade:0,rest:0,up:0,down:0,hot:0,"open-crash":0,"stop-crash":0,"reverse-crash":0},"daily-open-profit":[],"daily-close-profit":[],"daily-open-ptcchange":[],"daily-close-ptcchange":[]}}e.exports={generate:n}},"1d1c":function(e,t,n){var r=n("23e7"),a=n("83ab"),s=n("37e8");r({target:"Object",stat:!0,forced:!a,sham:!a},{defineProperties:s})},"21a6":function(e,t,n){(function(n){var r,a,s;(function(n,i){a=[],r=i,s="function"===typeof r?r.apply(t,a):r,void 0===s||(e.exports=s)})(0,(function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function r(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){c(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function a(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function s(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,c=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype?function(e,t,n){var c=i.URL||i.webkitURL,o=document.createElement("a");t=t||e.name||"download",o.download=t,o.rel="noopener","string"==typeof e?(o.href=e,o.origin===location.origin?s(o):a(o.href)?r(e,t,n):s(o,o.target="_blank")):(o.href=c.createObjectURL(e),setTimeout((function(){c.revokeObjectURL(o.href)}),4e4),setTimeout((function(){s(o)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,i){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,i),n);else if(a(e))r(e,n,i);else{var c=document.createElement("a");c.href=e,c.target="_blank",setTimeout((function(){s(c)}))}}:function(e,t,n,a){if(a=a||open("","_blank"),a&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof e)return r(e,t,n);var s="application/octet-stream"===e.type,c=/constructor/i.test(i.HTMLElement)||i.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&c)&&"object"==typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=o?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location=e,a=null},u.readAsDataURL(e)}else{var l=i.URL||i.webkitURL,h=l.createObjectURL(e);a?a.location=h:location.href=h,a=null,setTimeout((function(){l.revokeObjectURL(h)}),4e4)}});i.saveAs=c.saveAs=c,e.exports=c}))}).call(this,n("c8ba"))},"25f0":function(e,t,n){"use strict";var r=n("6eeb"),a=n("825a"),s=n("d039"),i=n("ad6d"),c="toString",o=RegExp.prototype,u=o[c],l=s((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),h=u.name!=c;(l||h)&&r(RegExp.prototype,c,(function(){var e=a(this),t=String(e.source),n=e.flags,r=String(void 0===n&&e instanceof RegExp&&!("flags"in o)?i.call(e):n);return"/"+t+"/"+r}),{unsafe:!0})},"29b1":function(e,t,n){n("b680");var r=n("870f"),a=20,s=0;function i(){s=0}function c(e,t,n,i){var c=r.getPTCChange(n,i);c>=a?s++:s=0,s>=2&&(e.day.hot++,e.profit["hot"]=+(e.profit["hot"]+c).toFixed(2))}e.exports={process:c,init:i}},3645:function(e,t,n){"use strict";n.r(t);n("d3b7");var r=n("a34a"),a=n.n(r),s=n("c964"),i=(n("96cf"),n("a4d3"),n("e01a"),n("d28b"),n("99af"),n("4de4"),n("4160"),n("b0c0"),n("1d1c"),n("7a82"),n("e439"),n("dbb4"),n("b64b"),n("3ca3"),n("159b"),n("ddb0"),n("276c")),c=n("e954"),o=n("fc11"),u=function e(t){var n=t.capture,r=t.trace,a=t.interval,s=t.lists,c=t.date,u=t.name;Object(i["a"])(this,e),Object(o["a"])(this,"capture",void 0),Object(o["a"])(this,"trace",[]),Object(o["a"])(this,"interval",void 0),Object(o["a"])(this,"lists",void 0),Object(o["a"])(this,"date",void 0),Object(o["a"])(this,"name",void 0),this.capture=n,this.trace=r,this.interval=a,this.lists=s,this.name=u,this.date=c},l=(n("caad"),n("ac1f"),n("2532"),n("466d"),n("2ca0"),n("0cae")),h=(n("fb6a"),n("0d03"),n("b680"),n("25f0"),n("1276"),n("4795"),n("d0af")),p=n("90d5"),f=n("1797"),v=n("1e4d"),d=n("9313"),b=n("2894"),k=n("a37f"),g=n("127d"),w=n("c1df"),x=n.n(w),y=n("a002"),m=n.n(y),O="1.000001",j=m.a.createInstance({name:"gene",driver:m.a.INDEXEDDB}),C=function(){function e(t,n,r,a,s){Object(i["a"])(this,e),Object(o["a"])(this,"$valid",{rateRatio:.6,averageChange2:.2,bigChange:6}),Object(o["a"])(this,"range",{change:[null,null],price:[null,null],rate:[null,null],amount:[null,null]}),Object(o["a"])(this,"day",{rise:0,down:0,bigRise:0,bigDown:0}),Object(o["a"])(this,"fundamental",{eps:0,bvps:0,roe:0}),Object(o["a"])(this,"index",{days:0,daysRatio:0,changeUpRatio:0,changeDownRatio:0}),Object(o["a"])(this,"ratio",{mainRatio:0,abnormalRatio:0,lockRatio:0,onePercentRate:0,onePercentAmount:0}),Object(o["a"])(this,"longterm",{days:0,averagePrice:0,change:0,rate:0,amount:0}),Object(o["a"])(this,"shortterm",{days:0,change:0,averageChange:0,averageRate:0,averageChange2:0}),Object(o["a"])(this,"limitup",{days:0,change:0,averageChange:0,averageRate:0,averageChange2:0}),Object(o["a"])(this,"riseup",{days:0,change:0,averageChange:0,averageRate:0,averageChange2:0}),Object(o["a"])(this,"rateup",{days:0,change:0,averageChange:0,averageRate:0,averageChange2:0}),Object(o["a"])(this,"code",void 0),Object(o["a"])(this,"name",void 0),Object(o["a"])(this,"stock",void 0),Object(o["a"])(this,"vtype",void 0),Object(o["a"])(this,"validator",void 0),Object(o["a"])(this,"flows",[]),Object(o["a"])(this,"gene",{}),this.code=t,this.stock=n,this.flows=r,this.vtype=s;var c=!0,u=!1,l=void 0;try{for(var h,p=f["a"].validators[Symbol.iterator]();!(c=(h=p.next()).done);c=!0){var v=h.value;if(v.name===s){this.validator=new T(v);break}}}catch(d){u=!0,l=d}finally{try{c||null==p["return"]||p["return"]()}finally{if(u)throw l}}Object.assign(this,a),n&&(this.name=n.name)}return Object(c["a"])(e,[{key:"toMoney",value:function(e){return e=Math.abs(+e)>=1e8?(+e/1e8).toFixed(2)+"亿":(+e/1e4).toFixed(2)+"万",e}},{key:"analyse",value:function(){var e=Object(s["a"])(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!this.flows||!this.flows.length){e.next=25;break}return e.next=4,this.calcFundamental();case 4:return e.next=6,this.calcDays();case 6:return e.next=8,this.calcRange();case 8:return e.next=10,this.calcLimitup();case 10:return e.next=12,this.calcRiseup();case 12:return e.next=14,this.calcRateup();case 14:return e.next=16,this.calcLongterm();case 16:return e.next=18,this.calcShortterm();case 18:return e.next=20,this.calcRatio();case 20:if(this.code===O){e.next=23;break}return e.next=23,this.calcIndex();case 23:return e.next=25,this.calcGene();case 25:e.next=30;break;case 27:e.prev=27,e.t0=e["catch"](0),console.warn("#Gene# analyse fail ",this.code,e.t0);case 30:return e.abrupt("return",this);case 31:case"end":return e.stop()}}),e,this,[[0,27]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"calcRange",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,a=this.flows[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){var s=r.value,i=s.price,c=s.change,o=s.rate,u=s.netinflow;null===this.range.price[0]&&(this.range.price[0]=i),null===this.range.price[1]&&(this.range.price[1]=i),i<this.range.price[0]&&(this.range.price[0]=i),i>this.range.price[1]&&(this.range.price[1]=i),null===this.range.change[0]&&(this.range.change[0]=c),null===this.range.change[1]&&(this.range.change[1]=c),c<this.range.change[0]&&(this.range.change[0]=c),c>this.range.change[1]&&(this.range.change[1]=c),null===this.range.amount[0]&&(this.range.amount[0]=u),null===this.range.amount[1]&&(this.range.amount[1]=u),u<this.range.amount[0]&&(this.range.amount[0]=u),u>this.range.amount[1]&&(this.range.amount[1]=u),null===this.range.rate[0]&&(this.range.rate[0]=o),null===this.range.rate[1]&&(this.range.rate[1]=o),o<this.range.rate[0]&&(this.range.rate[0]=o),o>this.range.rate[1]&&(this.range.rate[1]=o)}}catch(l){t=!0,n=l}finally{try{e||null==a["return"]||a["return"]()}finally{if(t)throw n}}this.range.price[0]=+this.range.price[0].toFixed(2),this.range.price[1]=+this.range.price[1].toFixed(2),this.range.change[0]=+this.range.change[0].toFixed(2),this.range.change[1]=+this.range.change[1].toFixed(2),this.range.amount[0]=+this.range.amount[0].toFixed(2),this.range.amount[1]=+this.range.amount[1].toFixed(2),this.range.rate[0]=+this.range.rate[0].toFixed(2),this.range.rate[1]=+this.range.rate[1].toFixed(2)}},{key:"calcDays",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,a=this.flows[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){var s=r.value.change;s>=0?this.day.rise++:this.day.down++,s>=this.$valid.bigChange&&this.day.bigRise++,s<=-this.$valid.bigChange&&this.day.bigDown++}}catch(i){t=!0,n=i}finally{try{e||null==a["return"]||a["return"]()}finally{if(t)throw n}}}},{key:"calcIndex",value:function(){var e=Object(s["a"])(a.a.mark((function e(){var t,n,r,s,i,c,o;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=0,n=0,r=0,s=0,i=0,e.next=3,R.gene(O,this.vtype);case 3:c=e.sent,o=c.flows,this.flows.forEach((function(e,a){var c=o[a];c&&e.date===c.date&&(e.change>0&&c.change>0&&(t++,n+=e.change,s+=c.change),e.change<0&&c.change<0&&(t++,r+=e.change,i+=c.change))})),this.index.days=t,this.index.daysRatio=+(t/this.flows.length).toFixed(2),this.index.changeUpRatio=+(n/s).toFixed(2),this.index.changeDownRatio=-(r/i).toFixed(2);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"calcFundamental",value:function(){this.fundamental.eps=+this.stock.eps.toFixed(2),this.fundamental.bvps=+this.stock.bvps.toFixed(2),this.fundamental.roe=+this.stock.roe.toFixed(2)}},{key:"calcLongterm",value:function(){var e=0,t=!0,n=!1,r=void 0;try{for(var a,s=this.flows[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){var i=a.value,c=i.price,o=i.change,u=i.rate,l=i.netinflow;this.longterm.change+=o,this.longterm.rate+=u,this.longterm.amount+=l,this.longterm.days++,e+=c}}catch(h){n=!0,r=h}finally{try{t||null==s["return"]||s["return"]()}finally{if(n)throw r}}this.longterm.averagePrice=+(e/this.flows.length).toFixed(2),this.longterm.change=+this.longterm.change.toFixed(2),this.longterm.rate=+this.longterm.rate.toFixed(2),this.longterm.amount=+this.longterm.amount.toFixed(2)}},{key:"calcShorttermFun",value:function(){var e=Object(s["a"])(a.a.mark((function e(t,n){var r,s,i,c,o,u,l,h,p,f,v,d;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=0,s=0,i=0,c=0,e.t0=a.a.keys(this.flows);case 2:if((e.t1=e.t0()).done){e.next=16;break}return o=e.t1.value,u=this.flows[o],l=u.code,h=u.name,p=u.price,f=u.change,v=u.rate,e.next=7,n({code:l,name:h,price:p,change:f,rate:v});case 7:if(e.sent){e.next=9;break}return e.abrupt("continue",2);case 9:r++,i+=f,s+=v,d=this.flows[+o+1],d&&(c+=+d.change),e.next=2;break;case 16:r>0&&(t.days=r,t.change=+c.toFixed(2),t.averageChange=+(i/r).toFixed(2),t.averageRate=+(s/r).toFixed(2),t.averageChange2=+(c/r).toFixed(2));case 17:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"calcShortterm",value:function(){return this.calcShorttermFun(this.shortterm,function(){var e=Object(s["a"])(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.code,t.name,t.price,n=t.change,r=t.rate,e.abrupt("return",n>0&&r>0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"calcLimitup",value:function(){return this.calcShorttermFun(this.limitup,(function(e){e.code,e.name,e.price;var t=e.change,n=e.rate;return t>=9&&n>0}))}},{key:"calcRiseup",value:function(){var e=this;return this.calcShorttermFun(this.riseup,(function(t){t.code,t.name,t.price;var n=t.change,r=t.rate;return n>=e.$valid.bigChange&&r>0}))}},{key:"calcRateup",value:function(){var e=this;return this.calcShorttermFun(this.rateup,(function(t){t.code,t.name,t.price,t.change;var n=t.rate;return n>e.range.rate[1]*e.$valid.rateRatio}))}},{key:"isValidShortterm",value:function(){var e=Object(s["a"])(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.code,t.change,n=t.rate,r={},e.next=4,this.calcShorttermFun(r,(function(e){e.code,e.name,e.price,e.change;var t=e.rate;return Math.abs((t-n)/n)>=.2}));case 4:return e.abrupt("return",r.averageChange2>=this.$valid.averageChange2);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"isValidLimitup",value:function(){var e=Object(s["a"])(a.a.mark((function e(t){var n,r,s,i;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.code,n=t.change,r=t.rate,s=this.limitup.averageRate&&r/this.limitup.averageRate>this.$valid.rateRatio,i=this.limitup.averageChange2>=this.$valid.averageChange2,e.abrupt("return",s&&i&&n>=9);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"isValidRiseup",value:function(){var e=Object(s["a"])(a.a.mark((function e(t){var n,r,s,i;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.code,n=t.change,r=t.rate,s=this.riseup.averageRate&&r/this.riseup.averageRate>this.$valid.rateRatio,i=this.riseup.averageChange2>=this.$valid.averageChange2,e.abrupt("return",s&&i&&n>=this.$valid.bigChange);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"isValidRateup",value:function(){var e=Object(s["a"])(a.a.mark((function e(t){var n,r,s,i;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.code,n=t.change,r=t.rate,s=this.rateup.averageRate&&r/this.rateup.averageRate>this.$valid.rateRatio,i=this.rateup.averageChange2>=this.$valid.averageChange2,e.abrupt("return",s&&i&&n>=this.rateup.averageChange);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"calcRatio",value:function(){var e=0,t=0,n=0,r=this.flows.slice(-1)[0],a=!0,s=!1,i=void 0;try{for(var c,o=this.flows[Symbol.iterator]();!(a=(c=o.next()).done);a=!0){var u=c.value,l=u.change,h=u.rate,p=u.netinflow;l>0&&h>0&&(e+=h,t+=p,n+=l)}}catch(f){s=!0,i=f}finally{try{a||null==o["return"]||o["return"]()}finally{if(s)throw i}}this.ratio.onePercentRate=+(e/n).toFixed(2),this.ratio.onePercentAmount=+(t/n).toFixed(2),this.ratio.mainRatio=+(this.longterm.rate/this.longterm.days).toFixed(2),this.ratio.abnormalRatio=+((this.day.bigRise+this.day.bigDown)/this.longterm.days).toFixed(2),this.ratio.lockRatio=+(+r.price/this.longterm.averagePrice).toFixed(2)}},{key:"calcGene",value:function(){this.gene.ratio={mainRatio:this.ratio.mainRatio,abnormalRatio:this.ratio.abnormalRatio,lockRatio:this.ratio.lockRatio,onePercentRate:this.ratio.onePercentRate,onePercentAmount:this.toMoney(this.ratio.onePercentAmount)},this.gene.shortterm=this.shortterm,this.gene.longterm={days:this.longterm.days,averagePrice:this.longterm.averagePrice,change:this.longterm.change,rate:this.longterm.rate,amount:this.toMoney(this.longterm.amount)},this.gene.limitup=this.limitup,this.gene.riseup=this.riseup,this.gene.rateup=this.rateup,this.gene.day=this.day,this.gene.range={change:this.range.change.toString(),price:this.range.price.toString(),rate:this.range.rate.toString(),amount:[this.toMoney(this.range.amount[0]),this.toMoney(this.range.amount[1])]},this.gene.index=this.index,this.gene.fundamental=this.fundamental}},{key:"show",value:function(){for(var e in this.gene)console.info("%c".concat(this.code,".").concat(e.toUpperCase()),"padding-left: 45%; color:#FFC107;"),console.table(this.gene[e])}},{key:"getFlows",value:function(){return this.flows}},{key:"getGene",value:function(){return this.gene}},{key:"toString",value:function(){var e="";for(var t in this.gene){var n=this.gene[t];for(var r in n)e+="".concat(t,".").concat(r,": ").concat(n[r].toString(),"  ")}return e}}]),e}(),S=function(){function e(){var t=this;Object(i["a"])(this,e),Object(o["a"])(this,"flows",{}),Object(o["a"])(this,"genes",{}),Object(o["a"])(this,"vtypes",{}),Object(o["a"])(this,"lastFlowDate","");var n=parent.location.hash||location.hash,r=n.includes("#9529"),c=!0,u=!1,l=void 0;try{for(var p,v=f["a"].validators[Symbol.iterator]();!(c=(p=v.next()).done);c=!0){var d=p.value,b=d.name,k=d.rule["gene-analyse"],g={};for(var w in k)if(w.startsWith("$")){var x=w.split("."),y=Object(h["a"])(x,2),m=y[0],O=y[1];g[m]||(g[m]={}),g[m][O]=+k[w]}this.vtypes[b]=g}}catch(j){u=!0,l=j}finally{try{c||null==v["return"]||v["return"]()}finally{if(u)throw l}}setTimeout(Object(s["a"])(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=6;break}return console.info("#Genes# force download start ..."),e.next=4,t.download();case 4:return console.info("#Genes# force download end ..."),e.abrupt("return");case 6:return e.next=8,t.load();case 8:return e.next=10,t.update();case 10:case"end":return e.stop()}}),e)}))))}return Object(c["a"])(e,[{key:"load",value:function(){var e=Object(s["a"])(a.a.mark((function e(){var t,n=this;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.length();case 3:if(t=e.sent,t){e.next=7;break}return console.log("#Genes# flows not exist!"),e.abrupt("return");case 7:return e.next=9,j.iterate((function(e,t){e&&(n.flows[t]=e)}));case 9:this.lastFlowDate=this.flows[O][0].date,console.info("#Genes# load flows ".concat(t," date ").concat(this.lastFlowDate," ...")),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),console.warn("#Genes# load flows fail ",e.t0);case 16:case"end":return e.stop()}}),e,this,[[0,13]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var e=Object(s["a"])(a.a.mark((function e(){var t;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t in this.flows)j.setItem(t,this.flows[t]);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"download",value:function(){var e=Object(s["a"])(a.a.mark((function e(){var t,n,r,s,i,c,o;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,t=v["a"].getAllStockCodes(),t=[].concat(t,O),console.time("Genes Flows Download"),n=!0,r=!1,s=void 0,e.prev=7,i=t[Symbol.iterator]();case 9:if(n=(c=i.next()).done){e.next=19;break}return o=c.value,e.next=13,p["a"].captureFlows(o);case 13:return this.flows[o]=e.sent,e.next=16,Object(g["a"])(50);case 16:n=!0,e.next=9;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e["catch"](7),r=!0,s=e.t0;case 25:e.prev=25,e.prev=26,n||null==i["return"]||i["return"]();case 28:if(e.prev=28,!r){e.next=31;break}throw s;case 31:return e.finish(28);case 32:return e.finish(25);case 33:console.timeEnd("Genes Flows Download"),this.save(),e.next=40;break;case 37:e.prev=37,e.t1=e["catch"](0),console.warn("#Genes# download flows fail ",e.t1);case 40:case"end":return e.stop()}}),e,this,[[0,37],[7,21,25,33],[26,,28,32]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){var e=Object(s["a"])(a.a.mark((function e(){var t,n,r,s,i,c,o,u,l,h,p,f;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,j.length();case 2:if(t=e.sent,t){e.next=6;break}return console.log("#Genes# flows not exist, update exit !"),e.abrupt("return");case 6:if(d["a"].isWeekend()){e.next=32;break}return e.next=9,d["a"].until("150000");case 9:console.info("#Genes# auto update daily ..."),n=b["a"].all(),r=x()().format("YYYYMMDD"),e.t0=a.a.keys(n);case 13:if((e.t1=e.t0()).done){e.next=31;break}if(s=e.t1.value,e.prev=15,i=n[s],c=i.name,o=i.price,u=i.change,l=i.netinflow,h=i.rate,p=this.flows[s][0],!(p&&+p.date>=+r)){e.next=20;break}return e.abrupt("continue",13);case 20:if(p.price!==o||p.rate!==h||p.netinflow!==l){e.next=22;break}return e.abrupt("continue",13);case 22:f=new k["a"]({code:s,name:c,date:r,price:o,change:u,netinflow:l,netinflowrate:h}),this.flows[s].unshift(f),this.flows[s].length>200&&(this.flows[s]=this.flows[s].slice(0,200)),e.next=29;break;case 27:e.prev=27,e.t2=e["catch"](15);case 29:e.next=13;break;case 31:this.save();case 32:case"end":return e.stop()}}),e,this,[[15,27]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"downloadDaily",value:function(){var e=Object(s["a"])(a.a.mark((function e(){var t,n,r,s,i,c;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=x()().format("YYYYMMDD"),n=x()().format("HHmmss"),r=x()().subtract(1,"day").format("YYYYMMDD"),1===+x()().day()&&(r=x()().subtract(3,"days").format("YYYYMMDD")),!(t===this.lastFlowDate||r<=this.lastFlowDate)){e.next=6;break}return e.abrupt("return");case 6:if(!(+n>=15e4)){e.next=8;break}return e.abrupt("return");case 8:if(d["a"].isWeekend()){e.next=17;break}return s=Math.floor(58*Math.random())+1,i="00".concat(s).slice(-2),c="07"+i+"00",console.info("#Genes# auto download daily at ".concat(c," ...")),e.next=15,d["a"].until(c);case 15:return e.next=17,this.download();case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"has",value:function(e,t){return!!this.genes[t]&&this.genes[t][e]}},{key:"gene",value:function(){var e=Object(s["a"])(a.a.mark((function e(t,n){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.has(t,n)){e.next=3;break}return e.next=3,this.capture(t,n);case 3:return e.abrupt("return",this.genes[n][t]);case 4:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"capture",value:function(){var e=Object(s["a"])(a.a.mark((function e(t,n){var r,s,i,c,o;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!this.has(t,n)){e.next=3;break}return e.abrupt("return",this.gene(t,n));case 3:return e.next=5,Promise.all([this.flows[t]||p["a"].captureFlows(t),p["a"].captureStock(t)]);case 5:return r=e.sent,s=Object(h["a"])(r,2),i=s[0],c=s[1],e.next=11,new C(t,c,i,this.vtypes[n],n).analyse();case 11:return o=e.sent,this.genes[n]||(this.genes[n]={}),this.genes[n][t]=o,e.abrupt("return",o);case 17:e.prev=17,e.t0=e["catch"](0),console.warn("#Genes# capture fail ",n,t,e.t0);case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}(),R=new S;function F(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function D(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Y(e){return F(e)||D(e)||_()}var M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[],values:[]};return Function.apply(void 0,Y(t.keys).concat(['"use strict";return ('.concat(e,")")])).apply(void 0,Y(t.values))},L=M,E=n("776f"),P=9.8,T=function(){function e(t){Object(i["a"])(this,e),this.config=t}return Object(c["a"])(e,[{key:"hasCaptureRule",value:function(e){return this.config.capture.includes(e)}},{key:"hasIntervalRule",value:function(e){return this.config.interval.includes(e)}},{key:"filter",value:function(){var e=Object(s["a"])(a.a.mark((function e(t,n){var r,s;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n.code,n.name,n.price,n.change,n.rate,n.turnover,n.qrr,n.eps,n.bvps,n.roe,r=this.config.capture,s=E["N"].getIntervalKeys(),s.includes(t)&&(r=this.config.interval),e.next=7,this.filterOfList(n);case 7:if(e.sent){e.next=9;break}return e.abrupt("return",!1);case 9:if(![E["t"].key,E["j"].key].includes(t)){e.next=11;break}return e.abrupt("return",!0);case 11:if(!r.includes("base")){e.next=16;break}return e.next=14,this.isValidBase(n);case 14:if(e.sent){e.next=16;break}return e.abrupt("return",!1);case 16:if(!r.includes("fundamental")){e.next=21;break}return e.next=19,this.isValidFundamental(n);case 19:if(e.sent){e.next=21;break}return e.abrupt("return",!1);case 21:if(!r.includes("whitelist")){e.next=26;break}return e.next=24,this.isValidWhitelist(n);case 24:if(e.sent){e.next=26;break}return e.abrupt("return",!1);case 26:if(!r.includes("gene-analyse")){e.next=31;break}return e.next=29,this.isValidGeneAnalyse(n.code,n);case 29:if(e.sent){e.next=31;break}return e.abrupt("return",!1);case 31:return e.abrupt("return",!0);case 34:return e.prev=34,e.t0=e["catch"](0),e.abrupt("return",!1);case 37:case"end":return e.stop()}}),e,this,[[0,34]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"filterOfPreTrace",value:function(){var e=Object(s["a"])(a.a.mark((function e(t,n){var r,s,i,c,o,u,l,h,p,f,v,d,b,k,g,w;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=this.config.capture,r.includes("pre-trace")){e.next=3;break}return e.abrupt("return",!0);case 3:if(s=this.config.rule["pre-trace"],s){e.next=6;break}return e.abrupt("return",!0);case 6:i=Object.keys(t),c=0,o=i;case 8:if(!(c<o.length)){e.next=22;break}if(u=o[c],![E["t"].key,E["j"].key].includes(u)){e.next=12;break}return e.abrupt("continue",19);case 12:if(l=t[u],h=n[u],l&&h){e.next=16;break}return e.abrupt("continue",19);case 16:for(v in p=l.getStocks(),f=h.getStocks(),p)for(k in d=p[v],b=f[v],s)g=(b[k]-d[k])/d[k],w="".concat(g).concat(s[k]),L(w)||(console.info("#Validator# filter stock of PreTrace",u,d.code,d.name,d.price,d.change,k,"[ ",b[k]," - ",d[k],s[k]," ]"),delete p[v]);case 19:c++,e.next=8;break;case 22:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"check",value:function(e,t,n,r){if(!e)return!0;try{for(var a=Object.keys(e),s=0,i=a;s<i.length;s++){var c=i[s],o=L("data.".concat(c),{keys:["data"],values:[t]}),u="".concat(o).concat(e[c]);if(void 0!==o&&!L(u))return!1}}catch(l){}return!0}},{key:"isFullRequiredFields",value:function(e){var t=new l["a"]({});for(var n in t)if(!e.hasOwnProperty(n))return!1;return!0}},{key:"isValidBase",value:function(){var e=Object(s["a"])(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.code,r=t.name,t.price,t.change,t.rate,t.turnover,t.qrr,e.abrupt("return",this.check(this.config.rule.base,t,n,r));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"isValidWhitelist",value:function(){var e=Object(s["a"])(a.a.mark((function e(t){var n;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.code,t.name,v["a"].has(n)){e.next=3;break}return e.abrupt("return",!1);case 3:return e.abrupt("return",!0);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"isValidFundamental",value:function(){var e=Object(s["a"])(a.a.mark((function e(t){var n;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=this.config.rule.fundamental,n){e.next=3;break}return e.abrupt("return",!0);case 3:return e.abrupt("return",this.check(n,t,t.code,t.name));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"isValidGeneAnalyse",value:function(){var e=Object(s["a"])(a.a.mark((function e(t,n){var r,s,i,c,o;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=this.config.rule["gene-analyse"],r){e.next=3;break}return e.abrupt("return",!0);case 3:return s=this.config.name,e.next=6,R.gene(t,s);case 6:return i=e.sent,e.next=9,i.isValidShortterm(n);case 9:if(e.sent){e.next=11;break}return e.abrupt("return",!1);case 11:c={},e.t0=a.a.keys(r);case 13:if((e.t1=e.t0()).done){e.next=20;break}if(o=e.t1.value,!o.startsWith("$")){e.next=17;break}return e.abrupt("continue",13);case 17:c[o]=r[o],e.next=13;break;case 20:return e.abrupt("return",this.check(c,i,i.code,i.name));case 21:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"filterOfList",value:function(){var e=Object(s["a"])(a.a.mark((function e(t){var n,r,s,i;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.code,r=t.name,s=t.price,i=t.change,t.rate,t.turnover,t.qrr,!(i>P||s<=0)){e.next=3;break}return e.abrupt("return",!1);case 3:return e.abrupt("return",this.isValidStock(n,r));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"isValidStock",value:function(){var e=Object(s["a"])(a.a.mark((function e(t,n){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n.toUpperCase().includes("ST")){e.next=2;break}return e.abrupt("return",!1);case 2:if(!n.toUpperCase().includes("B")&&!n.toUpperCase().includes("Ｂ")){e.next=4;break}return e.abrupt("return",!1);case 4:if(!n.includes("退")){e.next=6;break}return e.abrupt("return",!1);case 6:if(!n.match(/\d+/g)){e.next=8;break}return e.abrupt("return",!1);case 8:if(!("".concat(t).startsWith("688")||"".concat(t).startsWith("300")||"".concat(t).startsWith("200")||"".concat(t).startsWith("900"))){e.next=10;break}return e.abrupt("return",!1);case 10:return e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}(),B=(n("4e82"),n("5319"),n("07ac"),n("e1a7")),I=n("f20d"),H=n("920b"),A=function(){function e(t){Object(i["a"])(this,e),Object(o["a"])(this,"name",void 0),Object(o["a"])(this,"stocks",{}),this.name=t}return Object(c["a"])(e,[{key:"filter",value:function(){var e=Object(s["a"])(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"broadcast",value:function(e,t,n){window.dispatchEvent(new CustomEvent("__Walle_Stock_Daily_Interval_Event",{detail:{name:e,vtype:t,stock:n}}))}},{key:"capture",value:function(){var e=Object(s["a"])(a.a.mark((function e(t,n){var r,s,i,c,o,u,l,h,f,v,d,b,k,g,w,x;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=n.config.name,s=(new Date).getTime(),i=!0,c=!1,o=void 0,e.prev=5,u=t[Symbol.iterator]();case 7:if(i=(l=u.next()).done){e.next=33;break}if(h=l.value,f=h,v=f.code,d=f.name,f.price,b=f.change,k=f.netinflow,g=f.rate,f.eps,f.bvps,f.roe,f.turnover,f.qrr,n.isFullRequiredFields(h)){e.next=14;break}return e.next=13,p["a"].captureStock(h.code);case 13:h=e.sent;case 14:return e.next=16,n.filter(this.name,h);case 16:if(e.sent){e.next=18;break}return e.abrupt("continue",30);case 18:return e.next=20,this.filter(h,r);case 20:if(e.sent){e.next=22;break}return e.abrupt("continue",30);case 22:if(console.log("#Digger# capture ".concat(this.name,"-").concat(r," stock"),v,d,b,g,k),!this.stocks[v]){e.next=25;break}return e.abrupt("continue",30);case 25:if(this.broadcast(this.name,r,h),w=Object.keys(this.stocks).length,!(w>=10)){e.next=29;break}return e.abrupt("break",33);case 29:this.stocks[v]=h;case 30:i=!0,e.next=7;break;case 33:e.next=39;break;case 35:e.prev=35,e.t0=e["catch"](5),c=!0,o=e.t0;case 39:e.prev=39,e.prev=40,i||null==u["return"]||u["return"]();case 42:if(e.prev=42,!c){e.next=45;break}throw o;case 45:return e.finish(42);case 46:return e.finish(39);case 47:return x=(new Date).getTime(),console.log("#diggers# list ".concat(this.name,"-").concat(r," capture stocks at ").concat(s,": ").concat(x-s,"ms")),e.abrupt("return",Object.values(this.stocks));case 50:case"end":return e.stop()}}),e,this,[[5,35,39,47],[40,,42,46]])})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}(),W=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E["q"].key;return Object(i["a"])(this,t),Object(B["a"])(this,Object(I["a"])(t).call(this,e))}return Object(H["a"])(t,e),Object(c["a"])(t,[{key:"filter",value:function(){var e=Object(s["a"])(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,R.gene(t.code,n);case 2:return r=e.sent,e.abrupt("return",r.isValidLimitup(t));case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),t}(A),U=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E["G"].key;return Object(i["a"])(this,t),Object(B["a"])(this,Object(I["a"])(t).call(this,e))}return Object(H["a"])(t,e),Object(c["a"])(t,[{key:"filter",value:function(){var e=Object(s["a"])(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,R.gene(t.code,n);case 2:return r=e.sent,e.abrupt("return",r.isValidRiseup(t));case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),t}(A),G=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E["F"].key;return Object(i["a"])(this,t),Object(B["a"])(this,Object(I["a"])(t).call(this,e))}return Object(H["a"])(t,e),Object(c["a"])(t,[{key:"filter",value:function(){var e=Object(s["a"])(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,R.gene(t.code,n);case 2:return r=e.sent,e.abrupt("return",r.isValidRateup(t));case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),t}(A),N=function(){function e(){Object(i["a"])(this,e),Object(o["a"])(this,"limitUpDigger",new W),Object(o["a"])(this,"riseUpDigger",new U),Object(o["a"])(this,"rateUpDigger",new G),Object(o["a"])(this,"stocks",[])}return Object(c["a"])(e,[{key:"start",value:function(){var e=this;d["a"].interval(Object(s["a"])(a.a.mark((function t(){var n,r,s;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=(new Date).getTime(),t.prev=1,r=[],!b["a"].isRunning){t.next=9;break}return t.next=6,b["a"].list("netinflow");case 6:r=t.sent,t.next=12;break;case 9:return t.next=11,p["a"].captureList(E["B"].key);case 11:r=t.sent;case 12:e.stocks=r.slice(0,100),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](1),console.warn("#diggers# capture fail",t.t0);case 18:s=(new Date).getTime(),console.log("#diggers# update stocks ".concat(s-n,"ms"));case 20:case"end":return t.stop()}}),t,null,[[1,15]])}))),void 0,30,"diggers")}},{key:"list",value:function(e,t){var n,r=(n={},Object(o["a"])(n,E["q"].key,this.limitUpDigger),Object(o["a"])(n,E["G"].key,this.riseUpDigger),Object(o["a"])(n,E["F"].key,this.rateUpDigger),n);return r[e].capture(this.stocks,t)}}]),e}(),V=new N,$=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(i["a"])(this,e),Object(o["a"])(this,"stocks",{}),this.stocks=t}return Object(c["a"])(e,[{key:"getStocks",value:function(){return this.stocks}},{key:"setStocks",value:function(e){this.stocks=e}},{key:"getStockCodes",value:function(){return Object.keys(this.stocks)}},{key:"clone",value:function(){var t=Object.assign({},t);return new e(t)}},{key:"merge",value:function(e){for(var t in e.stocks){var n=Object.keys(this.stocks).length;if(n>9)return;this.stocks[t]||(this.stocks[t]=e.stocks[t])}}},{key:"recover",value:function(e){return this.stocks=e.stocks,this}},{key:"get",value:function(e){return this.stocks[e]}},{key:"upsert",value:function(e){this.stocks[e.code]=e}},{key:"remove",value:function(e){delete this.stocks[e]}}]),e}(),K=n("21a6"),q=n.n(K),J=function(){function e(t,n){Object(i["a"])(this,e),Object(o["a"])(this,"oldlist",void 0),Object(o["a"])(this,"newlist",void 0),Object(o["a"])(this,"openChange",void 0),Object(o["a"])(this,"closeChange",void 0),this.oldlist=t,this.newlist=n,this.calc()}return Object(c["a"])(e,[{key:"calc",value:function(){var e=this.oldlist.getStockCodes(),t=0,n=0,r=!0,a=!1,s=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0){var o=i.value;0!==this.newlist.get(o).price?(t+=(this.newlist.get(o).price-this.oldlist.get(o).price)/this.oldlist.get(o).price,n+=(this.newlist.get(o).open-this.oldlist.get(o).price)/this.oldlist.get(o).price):console.info("#Statement# suspension stock consider as change 0% ...",o,this.newlist.get(o).name)}}catch(u){a=!0,s=u}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw s}}this.closeChange=(100*t).toFixed(2),this.openChange=(100*n).toFixed(2)}},{key:"getOpenChange",value:function(){return this.openChange}},{key:"getCloseChange",value:function(){return this.closeChange}},{key:"getChange",value:function(){return this.closeChange}},{key:"getProfit",value:function(e){return(this.closeChange*e).toFixed(2)}}]),e}(),X=m.a.createInstance({name:"trace",driver:m.a.INDEXEDDB}),z=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isToday:!1};Object(i["a"])(this,e),Object(o["a"])(this,"isToday",void 0),Object(o["a"])(this,"record",{change:{},capture:{},trace:{}}),Object(o["a"])(this,"name",void 0),Object(o["a"])(this,"rule",void 0),Object(o["a"])(this,"listController",void 0),Object(o["a"])(this,"oldlists",void 0),Object(o["a"])(this,"newlists",void 0),Object(o["a"])(this,"openChanges",{}),Object(o["a"])(this,"closeChanges",{}),this.rule=n,this.listController=t,this.isToday=r.isToday,this.name=(this.isToday?"t0-".concat(this.rule.name):this.rule.name).toLowerCase(),this.deprecated()}return Object(c["a"])(e,[{key:"start",value:function(){var e=Object(s["a"])(a.a.mark((function e(){var t,n,r=this;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=window.__Walle_Bot_Debug,n=t?120:300,e.prev=2,e.next=5,this.load();case 5:d["a"].interval(Object(s["a"])(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("#StatementController# capture start ..."),e.next=3,r.capture();case 3:console.log("#StatementController# capture end ...");case 4:case"end":return e.stop()}}),e)}))),null,n),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](2),console.warn("#StatementController# ",e.t0);case 11:case"end":return e.stop()}}),e,this,[[2,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"deprecated",value:function(){var e=Object(s["a"])(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d["a"].until("150000");case 2:return e.next=5,X.length();case 5:if(t=e.sent,!(t<=200)){e.next=8;break}return e.abrupt("break",15);case 8:return e.next=10,X.key(0);case 10:return n=e.sent,e.next=13,X.removeItem(n);case 13:e.next=2;break;case 15:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"load",value:function(){var e=Object(s["a"])(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t=x()().format("YYYYMMDD"),e.next=4,X.getItem(t);case 4:if(n=e.sent,n){e.next=7;break}return e.abrupt("return");case 7:n[this.name]&&(this.record=n[this.name]),e.next=12;break;case 10:e.prev=10,e.t0=e["catch"](0);case 12:case"end":return e.stop()}}),e,this,[[0,10]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var e=Object(s["a"])(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=x()().format("YYYYMMDD"),e.next=3,X.getItem(n);case 3:return r=e.sent,r||(r={}),this.record={change:t.change,trace:t.trace,capture:t.capture},r[this.name]=this.record,e.abrupt("return",X.setItem(n,r));case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"capture",value:function(){var e=Object(s["a"])(a.a.mark((function e(t){var n,r,s,i;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.newlists=null,this.oldlists=null,!t){e.next=7;break}this.oldlists=t,e.next=16;break;case 7:if(!this.isToday){e.next=13;break}return e.next=10,this.listController.getTodayLists();case 10:this.oldlists=e.sent,e.next=16;break;case 13:return e.next=15,this.listController.getYesterdayLists();case 15:this.oldlists=e.sent;case 16:if(this.oldlists){e.next=18;break}return e.abrupt("return");case 18:this.newlists={},n=Object.keys(this.oldlists),r=0,s=n;case 21:if(!(r<s.length)){e.next=37;break}if(i=s[r],e.prev=23,E["N"].get(i)){e.next=26;break}return e.abrupt("continue",34);case 26:return e.next=28,this.captureList(this.oldlists[i]);case 28:this.newlists[i]=e.sent,e.next=34;break;case 31:e.prev=31,e.t0=e["catch"](23),console.warn("#StatementController# ",e.t0);case 34:r++,e.next=21;break;case 37:this.calc(),this.broadcast(),e.next=44;break;case 41:e.prev=41,e.t1=e["catch"](0),console.warn("#StatementController# capture",e.t1);case 44:return e.abrupt("return",this.newlists);case 45:case"end":return e.stop()}}),e,this,[[0,41],[23,31]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"calc",value:function(){if(this.newlists)for(var e=Object.keys(this.newlists),t=0,n=e;t<n.length;t++){var r=n[t],a=new J(this.oldlists[r],this.newlists[r]);this.closeChanges[r]=a.getCloseChange(),this.openChanges[r]=a.getOpenChange()}}},{key:"broadcast",value:function(){var e=Object(s["a"])(a.a.mark((function e(){var t,n,r,s,i,c,o,u;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t={name:this.name,change:{},trace:{},capture:{}},n=Object.keys(this.newlists),r=0,s=n;r<s.length;r++)i=s[r],c=E["N"].name(i),o=x()().format("HH:mm"),u=this.closeChanges[i],this.record.change[c]||(this.record.change[c]=[]),this.record.change[c].unshift(u,o),t.change[c]=this.record.change[c],t.trace[c]=this.newlists[i].getStocks(),t.capture[c]=this.oldlists[i].getStocks();return e.next=5,this.save(t);case 5:console.log("#StatementController# list trace [".concat(this.name,"] at ").concat(x()().format("HH:mm:ss")," ...")),window.dispatchEvent(new CustomEvent("__Walle_Stock_Daily_Trace_Event",{detail:t}));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"captureList",value:function(){var e=Object(s["a"])(a.a.mark((function e(t){var n,r,s;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new $,r=Object.keys(t.getStocks()),e.next=4,p["a"].captureStocks(r);case 4:return s=e.sent,n.setStocks(s),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"downloadAll",value:function(){var e=Object(s["a"])(a.a.mark((function e(){var t,n,r,s;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.newlists){e.next=2;break}return e.abrupt("return");case 2:t=Object.keys(this.newlists),n=0,r=t;case 4:if(!(n<r.length)){e.next=13;break}return s=r[n],e.next=8,this.download(s);case 8:return e.next=10,Object(g["a"])(500);case 10:n++,e.next=4;break;case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"listsStringify",value:function(e,t,n){var r="{\n";r+='\t"'.concat(n,'": [ ');for(var a=this.oldlists[e].getStocks(),s=0,i=Object.values(a);s<i.length;s++){var c=i[s];r+="\n\t\t"+JSON.stringify(c,null,null)+","}r=r.slice(0,-1),r+="\n\t],\n",r+='\t"'.concat(t,'": [ ');for(var o=this.newlists[e].getStocks(),u=0,l=Object.values(o);u<l.length;u++){var h=l[u];r+="\n\t\t"+JSON.stringify(h,null,null)+","}return r=r.slice(0,-1),r+="\n\t]",r+="\n}",r}},{key:"download",value:function(){var e=Object(s["a"])(a.a.mark((function e(t){var n,r,s,i,c,o,u,l,h,p,f,v;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=E["N"].name(t),r=this.closeChanges[t],s=this.openChanges[t],i=x()().format("YYYYMMDD"),c=x()().format("HHmmss"),e.next=7,X.length();case 7:if(l=e.sent,!this.isToday){e.next=17;break}return e.next=11,X.key(l-1);case 11:return o=e.sent,e.next=14,X.key(l-2);case 14:u=e.sent,e.next=23;break;case 17:return e.next=19,X.key(l-2);case 19:return o=e.sent,e.next=22,X.key(l-3);case 22:u=e.sent;case 23:return h="",h=E["j"].key===t?this.listsStringify(t,i,u):this.listsStringify(t,i,o),p=this.rule.name.replace(":",""),f="".concat(p,"@").concat(n,"-").concat(i,"-").concat(c,"-开盘%").concat(s,"-涨跌%").concat(r,".json"),v=new Blob([h],{type:"application/json;charset=utf-8"}),e.abrupt("return",q.a.saveAs(v,f));case 29:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),Q=m.a.createInstance({name:"capture",driver:m.a.INDEXEDDB}),Z=10,ee=function(){function e(t,n){Object(i["a"])(this,e),Object(o["a"])(this,"rule",void 0),Object(o["a"])(this,"validator",void 0),Object(o["a"])(this,"lists",void 0),Object(o["a"])(this,"listKeys",void 0),Object(o["a"])(this,"statement",void 0),Object(o["a"])(this,"t0Statement",void 0),Object(o["a"])(this,"blocks",{concept:[],industry:[]}),this.rule=t,this.validator=n,this.statement=new z(this,t),this.t0Statement=new z(this,t,{isToday:!0}),this.listKeys=t.interval?E["N"].getIntervalKeys():E["N"].getNormalKeys(),this.reset(),this.deprecated()}return Object(c["a"])(e,[{key:"all",value:function(){return this.lists}},{key:"get",value:function(e){return this.lists[e]}},{key:"ignore",value:function(e,t){var n=E["N"].keyOf(e);this.lists[n]&&(this.lists[n].remove("".concat(t)),this.save())}},{key:"load",value:function(){var e=Object(s["a"])(a.a.mark((function e(t){var n,r,s,i;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=x()().format("YYYYMMDD"),t=t||n,r=this.rule.name,e.next=5,Q.getItem(t);case 5:if(s=e.sent,s){e.next=9;break}return console.log("#ListController# ".concat(t," lists not exist!")),e.abrupt("return");case 9:if(s[r]){e.next=12;break}return console.log("#ListController# ".concat(t,"-").concat(r," lists not exist!")),e.abrupt("return");case 12:return i=this.recover(s[r]),t===n&&(this.lists=i),e.abrupt("return",i);case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getTodayLists",value:function(){var e=Object(s["a"])(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.load(x()().format("YYYYMMDD")));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getYesterdayLists",value:function(){var e=Object(s["a"])(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Q.length();case 2:return t=e.sent,e.next=5,Q.key(t-2);case 5:return n=e.sent,e.abrupt("return",this.load(n));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"recover",value:function(e){for(var t in e)e[t]=(new $).recover(e[t]);return e}},{key:"deprecated",value:function(){var e=Object(s["a"])(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d["a"].until("150000");case 2:return e.next=5,Q.length();case 5:if(t=e.sent,!(t<=200)){e.next=8;break}return e.abrupt("break",15);case 8:return e.next=10,Q.key(0);case 10:return n=e.sent,e.next=13,Q.removeItem(n);case 13:e.next=2;break;case 15:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var e=Object(s["a"])(a.a.mark((function e(){var t,n,r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=x()().format("YYYYMMDD"),n=this.rule.name,e.next=4,Q.getItem(t);case 4:return r=e.sent,r||(r={}),r[n]=this.lists,e.abrupt("return",Q.setItem(t,r));case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"reset",value:function(){var e=this.listKeys;this.lists={};var t=!0,n=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){var i=a.value;this.lists[i]=new $}}catch(c){n=!0,r=c}finally{try{t||null==s["return"]||s["return"]()}finally{if(n)throw r}}}},{key:"captureHotBlocks",value:function(){var e=Object(s["a"])(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p["a"].captureBlock();case 2:return this.blocks=e.sent,console.info("#EastMoneyBlockCrawler# Hot Concept Blocks ..."),console.table(this.blocks.concept),console.info("#EastMoneyBlockCrawler# Hot Industry Blocks ..."),console.table(this.blocks.industry),e.abrupt("return",this.blocks);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"createHotBlocksList",value:function(){var e=Object(s["a"])(a.a.mark((function e(){var t,n,r,s,i,c,o,u,l;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t={concept:[E["f"].key,E["g"].key,E["h"].key],industry:[E["m"].key,E["n"].key,E["o"].key]},e.next=4,this.captureHotBlocks();case 4:for(n in t)for(s in r=t[n],r)for(u in i=r[s],c=this.lists[i],o=c.getStocks(),o)l=o[u],l.block=this.blocks[n][s]["name"];e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.warn("#ListController# ",e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"createHotStocksList",value:function(){var e=Object(s["a"])(a.a.mark((function e(){var t,n,r,s,i,c,o,u,l,h,p,f,v,d,b,k,g,w,x,y,m,O;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t=this.listKeys,n={},r={},s=[],i=0,c=!0,o=!1,u=void 0,e.prev=8,l=t[Symbol.iterator]();!(c=(h=l.next()).done);c=!0)for(d in p=h.value,f=this.lists[p],v=f.getStocks(),Object.assign(n,v),v)b=v[d],s[d]||(s[d]={name:b.name,count:0}),s[d].count++;e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](8),o=!0,u=e.t0;case 16:e.prev=16,e.prev=17,c||null==l["return"]||l["return"]();case 19:if(e.prev=19,!o){e.next=22;break}throw u;case 22:return e.finish(19);case 23:return e.finish(16);case 24:for(k=Object.keys(s).sort((function(e,t){return s[t].count-s[e].count})),g=!0,w=!1,x=void 0,e.prev=28,y=k[Symbol.iterator]();!(g=(m=y.next()).done);g=!0)O=m.value,s[O].count>=3&&i<Z&&(r[O]=Object.assign({},n[O],{hot:s[O].count}),i++);e.next=36;break;case 32:e.prev=32,e.t1=e["catch"](28),w=!0,x=e.t1;case 36:e.prev=36,e.prev=37,g||null==y["return"]||y["return"]();case 39:if(e.prev=39,!w){e.next=42;break}throw x;case 42:return e.finish(39);case 43:return e.finish(36);case 44:console.log("#ListController# list capture hot stcoks ..."),console.table(s),this.lists[E["l"].key].setStocks(r);case 47:case"end":return e.stop()}}),e,this,[[8,12,16,24],[17,,19,23],[28,32,36,44],[37,,39,43]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"start",value:function(){var e=Object(s["a"])(a.a.mark((function e(){var t,n=this;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.rule.interval?void 0:[this.rule.capture],e.prev=1,e.next=4,this.load();case 4:d["a"].interval(Object(s["a"])(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("#ListController# list capture start ..."),e.next=3,n.capture();case 3:n.rule.interval||(console.info("=================================================="),console.info("#ListController# today list capture [".concat(n.rule.name,"] at ").concat(x()().format("HH:mm:ss"),": "),n.lists),console.info("==================================================")),console.log("#ListController# list capture end ...");case 5:case"end":return e.stop()}}),e)}))),t,this.rule.interval),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](1),console.warn("#ListController# ",e.t0);case 10:case"end":return e.stop()}}),e,this,[[1,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"captureList",value:function(){var e=Object(s["a"])(a.a.mark((function e(t){var n,r,s,i,c,o,u,l,h,f,v,d;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=E["N"].getIntervalKeys(),r=[],!n.includes(t)){e.next=8;break}return e.next=5,V.list(t,this.validator);case 5:r=e.sent,e.next=11;break;case 8:return e.next=10,p["a"].captureList(t);case 10:r=e.sent;case 11:if(r.length){e.next=13;break}return e.abrupt("return",new $);case 13:s={},i=0,c=!0,o=!1,u=void 0,e.prev=17,l=r[Symbol.iterator]();case 19:if(c=(h=l.next()).done){e.next=42;break}if(f=h.value,v=f,d=v.code,v.name,v.change,n.includes(t)){e.next=31;break}if(this.validator.isFullRequiredFields(f)){e.next=27;break}return e.next=26,p["a"].captureStock(d);case 26:f=e.sent;case 27:return e.next=29,this.validator.filter(t,f);case 29:if(e.sent){e.next=31;break}return e.abrupt("continue",39);case 31:if(!s[d]){e.next=33;break}return e.abrupt("continue",39);case 33:if(!(f.price<=0||f.change>9.8)){e.next=35;break}return e.abrupt("continue",39);case 35:if(s[d]=f,i++,i!==Z){e.next=39;break}return e.abrupt("break",42);case 39:c=!0,e.next=19;break;case 42:e.next=48;break;case 44:e.prev=44,e.t0=e["catch"](17),o=!0,u=e.t0;case 48:e.prev=48,e.prev=49,c||null==l["return"]||l["return"]();case 51:if(e.prev=51,!o){e.next=54;break}throw u;case 54:return e.finish(51);case 55:return e.finish(48);case 56:return console.log("#ListController# capture list ".concat(t," "),s),e.abrupt("return",new $(s));case 58:case"end":return e.stop()}}),e,this,[[17,44,48,56],[49,,51,55]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"capture",value:function(){var e=Object(s["a"])(a.a.mark((function e(){var t,n,r,i,c,o=this;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=Object.keys(this.lists),n=0,r=t;case 2:if(!(n<r.length)){e.next=21;break}if(i=r[n],e.prev=4,i!==E["l"].key){e.next=7;break}return e.abrupt("continue",18);case 7:return e.next=9,this.captureList(i);case 9:return c=e.sent,this.lists[i].merge(c),e.next=13,Object(g["a"])(500);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](4),console.warn("#ListController# ",e.t0);case 18:n++,e.next=2;break;case 21:if(e.prev=21,!this.rule.interval){e.next=28;break}return this.broadcast(),e.next=26,this.save();case 26:e.next=34;break;case 28:return this.createHotStocksList(),this.createHotBlocksList(),this.broadcast(),e.next=33,this.save();case 33:setTimeout(Object(s["a"])(a.a.mark((function e(){var t,n,r,s;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t={},n=0,r=[1,2,3];case 2:if(!(n<r.length)){e.next=13;break}return s=r[n],e.next=6,Object(g["a"])(6e4);case 6:return e.next=8,o.t0Statement.capture(o.lists);case 8:t=e.sent,console.log("#ListController# [".concat(o.rule.name,"] t0Statement pre-trace ").concat(s," "),t);case 10:n++,e.next=2;break;case 13:if(!o.validator.hasCaptureRule("pre-trace")){e.next=19;break}return e.next=16,o.validator.filterOfPreTrace(o.lists,t);case 16:return o.broadcast(),e.next=19,o.save();case 19:case"end":return e.stop()}}),e)}))));case 34:e.next=39;break;case 36:e.prev=36,e.t1=e["catch"](21),console.warn("#ListController# ",e.t1);case 39:case"end":return e.stop()}}),e,this,[[4,15],[21,36]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"broadcast",value:function(){var e=Object(s["a"])(a.a.mark((function e(){var t;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t={name:this.rule.name,lists:this.lists},window.dispatchEvent(new CustomEvent("__Walle_Stock_Daily_Capture_Event",{detail:t}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"downloadAll",value:function(){var e=Object(s["a"])(a.a.mark((function e(){var t,n,r,s;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=Object.keys(this.lists),n=0,r=t;case 2:if(!(n<r.length)){e.next=11;break}return s=r[n],e.next=6,this.download(s);case 6:return e.next=8,Object(g["a"])(500);case 8:n++,e.next=2;break;case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"download",value:function(){var e=Object(s["a"])(a.a.mark((function e(t){var n,r,s,i,c,o;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=x()().format("YYYYMMDD"),r=x()().format("HHmmss"),s=E["N"].name(t),i=this.rule.name.replace(":",""),c="".concat(i,"@").concat(s,"-").concat(n,"-").concat(r,".json"),o=new Blob([JSON.stringify(this.lists[t],null,"\t")],{type:"application/json;charset=utf-8"}),e.abrupt("return",q.a.saveAs(o,c));case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){Object(o["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re=function(){function e(){Object(i["a"])(this,e),Object(o["a"])(this,"listControllers",[]),this.clearTempCapture();var t=[].concat(f["a"].captures||[],f["a"].temps||[],f["a"].intervals||[]),n=f["a"].validators,r=!0,a=!1,s=void 0;try{for(var c,l=t[Symbol.iterator]();!(r=(c=l.next()).done);r=!0){var h=c.value,p=!0,v=!1,d=void 0;try{for(var b,k=n[Symbol.iterator]();!(p=(b=k.next()).done);p=!0){var g=b.value,w="".concat(h.capture,"-").concat(g.name).toLowerCase(),x=new u(ne({},h,{name:w})),y=new T(g),m=new ee(x,y);this.listControllers.push(m)}}catch(O){v=!0,d=O}finally{try{p||null==k["return"]||k["return"]()}finally{if(v)throw d}}}}catch(O){a=!0,s=O}finally{try{r||null==l["return"]||l["return"]()}finally{if(a)throw s}}}return Object(c["a"])(e,[{key:"capture",value:function(){var e=Object(s["a"])(a.a.mark((function e(){var t,n,r,s,i,c,o;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,t=x()().format("YYYYMMDD"),n=!0,r=!1,s=void 0,e.prev=5,i=this.listControllers[Symbol.iterator]();case 7:if(n=(c=i.next()).done){e.next=16;break}if(o=c.value,!o.rule.date||o.rule.date===t){e.next=12;break}return console.log("#controllers# ignore temp capture rule ",o.rule.capture,o.rule.date),e.abrupt("continue",13);case 12:o.start();case 13:n=!0,e.next=7;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e["catch"](5),r=!0,s=e.t0;case 22:e.prev=22,e.prev=23,n||null==i["return"]||i["return"]();case 25:if(e.prev=25,!r){e.next=28;break}throw s;case 28:return e.finish(25);case 29:return e.finish(22);case 30:e.next=35;break;case 32:e.prev=32,e.t1=e["catch"](0),console.warn("#controllers# capture",e.t1);case 35:case"end":return e.stop()}}),e,this,[[0,32],[5,18,22,30],[23,,25,29]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"trace",value:function(){var e=Object(s["a"])(a.a.mark((function e(){var t,n,r,s,i,c;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,t=!0,n=!1,r=void 0,e.prev=4,s=this.listControllers[Symbol.iterator]();case 6:if(t=(i=s.next()).done){e.next=15;break}return c=i.value,e.next=10,c.statement.start();case 10:return e.next=12,c.t0Statement.start();case 12:t=!0,e.next=6;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e["catch"](4),n=!0,r=e.t0;case 21:e.prev=21,e.prev=22,t||null==s["return"]||s["return"]();case 24:if(e.prev=24,!n){e.next=27;break}throw r;case 27:return e.finish(24);case 28:return e.finish(21);case 29:e.next=34;break;case 31:e.prev=31,e.t1=e["catch"](0),console.warn("#controllers# trace ",e.t1);case 34:case"end":return e.stop()}}),e,this,[[0,31],[4,17,21,29],[22,,24,28]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"clearTempCapture",value:function(){var e=Object(s["a"])(a.a.mark((function e(){var t,n,r,s,i,c,o,u;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(f["a"].temps){e.next=2;break}return e.abrupt("return");case 2:if(f["a"].temps.length){e.next=4;break}return e.abrupt("return");case 4:for(t=[],n=x()().subtract(2,"days").format("YYYYMMDD"),1!==+x()().day()&&2!==+x()().day()||(n=x()().subtract(4,"days").format("YYYYMMDD")),r=!0,s=!1,i=void 0,e.prev=10,c=f["a"].temps[Symbol.iterator]();!(r=(o=c.next()).done);r=!0)u=o.value,+u.date>n&&t.push(u);e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](10),s=!0,i=e.t0;case 18:e.prev=18,e.prev=19,r||null==c["return"]||c["return"]();case 21:if(e.prev=21,!s){e.next=24;break}throw i;case 24:return e.finish(21);case 25:return e.finish(18);case 26:f["a"].temps=t;case 27:case"end":return e.stop()}}),e,null,[[10,14,18,26],[19,,21,25]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"setTempCapture",value:function(){var e=Object(s["a"])(a.a.mark((function e(){var t,n,r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=x()().format("YYYYMMDD"),n=x()().add(1,"minutes").format("HH:mm"),r=new u({capture:n,trace:["14:40"],date:t}),f["a"].temps=[].concat(f["a"].temps,r);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"removeTempCapture",value:function(){var e=Object(s["a"])(a.a.mark((function e(t,n){var r,s,i,c,o,u,l;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=[],s=!0,i=!1,c=void 0,e.prev=4,o=f["a"].temps[Symbol.iterator]();case 6:if(s=(u=o.next()).done){e.next=14;break}if(l=u.value,l.capture!==t||l.date!==n){e.next=10;break}return e.abrupt("continue",11);case 10:r.push(l);case 11:s=!0,e.next=6;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e["catch"](4),i=!0,c=e.t0;case 20:e.prev=20,e.prev=21,s||null==o["return"]||o["return"]();case 23:if(e.prev=23,!i){e.next=26;break}throw c;case 26:return e.finish(23);case 27:return e.finish(20);case 28:f["a"].temps=r;case 29:case"end":return e.stop()}}),e,null,[[4,16,20,28],[21,,23,27]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"ignore",value:function(){var e=Object(s["a"])(a.a.mark((function e(t,n,r,s){var i,c,o,u,l,h,p,f;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(i=!0,c=!1,o=void 0,e.prev=3,u=this.listControllers[Symbol.iterator]();!(i=(l=u.next()).done);i=!0)h=l.value,p=h.rule,f=h.validator.config,p.capture===t&&f.name===n&&h.ignore(r,s);e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](3),c=!0,o=e.t0;case 11:e.prev=11,e.prev=12,i||null==u["return"]||u["return"]();case 14:if(e.prev=14,!c){e.next=17;break}throw o;case 17:return e.finish(14);case 18:return e.finish(11);case 19:case"end":return e.stop()}}),e,this,[[3,7,11,19],[12,,14,18]])})));function t(t,n,r,a){return e.apply(this,arguments)}return t}()}]),e}(),ae=new re,se=function(){function e(){Object(i["a"])(this,e),Object(o["a"])(this,"index",{price:0,change:0}),Object(o["a"])(this,"number",{full:0,rise:0,down:0}),Object(o["a"])(this,"strength",{full:0,netinflow:0,rise:0,down:0}),Object(o["a"])(this,"changes",{index:[],netinflow:[],full:[],rise:[],down:[]})}return Object(c["a"])(e,[{key:"start",value:function(){var e=this;d["a"].interval((function(){e.calcIndex(),e.calcStocks(),e.broadcast()}),null,180,"market-analyse")}},{key:"broadcast",value:function(){window.dispatchEvent(new CustomEvent("__Walle_Stock_Market_Analyse_Event",{detail:{index:this.index,number:this.number,strength:this.strength,changes:this.changes}}))}},{key:"calcStocks",value:function(){var e=b["a"].all(),t={full:0,rise:0,down:0};for(var n in this.number.full=0,this.number.rise=0,this.number.down=0,e){var r=e[n];r.change>0?(this.number.rise++,t.rise+=r.change):r.change<0&&(this.number.down++,t.down+=r.change),this.number.full++}t.rise=+t.rise.toFixed(2),t.down=+t.down.toFixed(2),t.full=+(t.rise+t.down).toFixed(2),this.strength.rise=+(t.rise/this.number.rise).toFixed(2),this.strength.down=+(t.down/this.number.down).toFixed(2),this.strength.full=+(this.strength.rise+this.strength.down).toFixed(2);var a=x()().format("HH:mm");this.changes.rise.unshift(t.rise,a),this.changes.down.unshift(t.down,a),this.changes.full.unshift(t.full,a),this.changes.index.unshift(+this.index.price,a),this.calcNetinflow(a)}},{key:"calcNetinflow",value:function(){var e=Object(s["a"])(a.a.mark((function e(t){var n,r,s,i,c,o,u,l,h;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(n=400,r=b["a"].list("netinflow",1,n),s=0,i=!0,c=!1,o=void 0,e.prev=6,u=r[Symbol.iterator]();!(i=(l=u.next()).done);i=!0)h=l.value,s+=h.change;e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](6),c=!0,o=e.t0;case 14:e.prev=14,e.prev=15,i||null==u["return"]||u["return"]();case 17:if(e.prev=17,!c){e.next=20;break}throw o;case 20:return e.finish(17);case 21:return e.finish(14);case 22:this.strength.netinflow=+(s/n).toFixed(2),this.changes.netinflow.unshift(+s.toFixed(2),t);case 24:case"end":return e.stop()}}),e,this,[[6,10,14,22],[15,,17,21]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"calcIndex",value:function(){this.index=b["a"].market()}}]),e}(),ie=new se,ce=n("5ca6"),oe=n.n(ce),ue=n("b5ee"),le=n("32d2"),he="walle-stocks-trace.json",pe="walle-stocks-capture.json",fe="walle-stocks-storage.json",ve="walle-stocks-gene.json",de=function(){function e(){var t=this;Object(i["a"])(this,e),ue["a"].listen("KeyB",(function(){var e={timeOut:5e3,extendedTimeOut:5e3,closeButton:!0,positionClass:"toast-bottom-left"};le["a"].clear(),le["a"].confirm("click to backup trace file","BACKUP",(function(){return t.trace()}),e),le["a"].confirm("click to backup capture file","BACKUP",(function(){return t.capture()}),e),le["a"].confirm("click to backup gene file","BACKUP",(function(){return t.gene()}),e),le["a"].confirm("click to backup storage file","BACKUP",(function(){return t.storage()}),e)}))}return Object(c["a"])(e,[{key:"download",value:function(){var e=Object(s["a"])(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=new Blob([JSON.stringify(n,null,"\t")],{type:"application/json;charset=utf-8"}),e.abrupt("return",q.a.saveAs(r,t));case 2:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"trace",value:function(){var e=Object(s["a"])(a.a.mark((function e(){var t;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t={},e.next=4,X.iterate((function(e,n){t[n]=e}));case 4:return e.next=6,this.download(he,t);case 6:e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](0);case 10:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"capture",value:function(){var e=Object(s["a"])(a.a.mark((function e(){var t;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t={},e.next=4,Q.iterate((function(e,n){t[n]=e}));case 4:return e.next=6,this.download(pe,t);case 6:e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](0);case 10:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"gene",value:function(){var e=Object(s["a"])(a.a.mark((function e(){var t;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t={},e.next=4,j.iterate((function(e,n){t[n]=e}));case 4:return e.next=6,this.download(ve,t);case 6:e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](0);case 10:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"storage",value:function(){var e=Object(s["a"])(a.a.mark((function e(){var t;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t={},e.next=4,m.a.iterate((function(e,n){t[n]=e}));case 4:return e.next=6,this.download(fe,t);case 6:e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](0);case 10:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"all",value:function(){var e=Object(s["a"])(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.storage();case 2:return e.next=4,this.capture();case 4:return e.next=6,this.gene();case 6:return e.next=8,this.trace();case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),be=function(){function e(){var t=this;Object(i["a"])(this,e),ue["a"].listen("KeyR",(function(){return t.upload()}))}return Object(c["a"])(e,[{key:"upload",value:function(){var e=Object(s["a"])(a.a.mark((function e(){var t,n=this;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=document.createElement("input"),t.type="file",t.multiple="multiple",t.onchange=function(){n.recover(t.files)},t.click();case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"recover",value:function(){var e=Object(s["a"])(a.a.mark((function e(t){var n,r,s,i,c,u,l,h,p,f,v=this;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,n={},Object(o["a"])(n,he,(function(e){return v.trace(e)})),Object(o["a"])(n,pe,(function(e){return v.capture(e)})),Object(o["a"])(n,ve,(function(e){return v.gene(e)})),Object(o["a"])(n,fe,(function(e){return v.storage(e)})),r=n,s=!0,i=!1,c=void 0,e.prev=5,u=t[Symbol.iterator]();case 7:if(s=(l=u.next()).done){e.next=19;break}if(h=l.value,!r[h.name]){e.next=16;break}return e.next=12,h.text();case 12:return p=e.sent,f=JSON.parse(p),e.next=16,r[h.name](f);case 16:s=!0,e.next=7;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e["catch"](5),i=!0,c=e.t0;case 25:e.prev=25,e.prev=26,s||null==u["return"]||u["return"]();case 28:if(e.prev=28,!i){e.next=31;break}throw c;case 31:return e.finish(28);case 32:return e.finish(25);case 33:window.alert("Walle Recover Success ..."),e.next=40;break;case 36:e.prev=36,e.t1=e["catch"](0),console.info("#Recover# fail ",e.t1),window.alert("Walle Recover Fail, Try Aagin ...");case 40:case"end":return e.stop()}}),e,null,[[0,36],[5,21,25,33],[26,,28,32]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"trace",value:function(){var e=Object(s["a"])(a.a.mark((function e(t){var n;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,e.t0=a.a.keys(t);case 2:if((e.t1=e.t0()).done){e.next=8;break}return n=e.t1.value,e.next=6,X.setItem(n,t[n]);case 6:e.next=2;break;case 8:e.next=12;break;case 10:e.prev=10,e.t2=e["catch"](0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"capture",value:function(){var e=Object(s["a"])(a.a.mark((function e(t){var n;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,e.t0=a.a.keys(t);case 2:if((e.t1=e.t0()).done){e.next=8;break}return n=e.t1.value,e.next=6,Q.setItem(n,t[n]);case 6:e.next=2;break;case 8:e.next=12;break;case 10:e.prev=10,e.t2=e["catch"](0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"gene",value:function(){var e=Object(s["a"])(a.a.mark((function e(t){var n;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,e.t0=a.a.keys(t);case 2:if((e.t1=e.t0()).done){e.next=8;break}return n=e.t1.value,e.next=6,j.setItem(n,t[n]);case 6:e.next=2;break;case 8:e.next=12;break;case 10:e.prev=10,e.t2=e["catch"](0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"storage",value:function(){var e=Object(s["a"])(a.a.mark((function e(t){var n;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,e.t0=a.a.keys(t);case 2:if((e.t1=e.t0()).done){e.next=8;break}return n=e.t1.value,e.next=6,m.a.setItem(n,t[n]);case 6:e.next=2;break;case 8:e.next=12;break;case 10:e.prev=10,e.t2=e["catch"](0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),ke={backup:new de,recover:new be};function ge(){return we.apply(this,arguments)}function we(){return we=Object(s["a"])(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:window.dispatchEvent(new CustomEvent("__Walle_Bootstrap_Ready_Event"));case 1:case"end":return e.stop()}}),e)}))),we.apply(this,arguments)}function xe(){return ye.apply(this,arguments)}function ye(){return ye=Object(s["a"])(a.a.mark((function e(){var t,n,r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!window.__Walle_Bot_Debug){e.next=2;break}return e.abrupt("return",!0);case 2:return t=+x()().format("HHmmss"),t<92500?n="092500":t>113e3&&(n="130000"),e.next=6,d["a"].until(n);case 6:return e.next=8,p["a"].isTrading();case 8:if(r=e.sent,r){e.next=14;break}if(!(t>=92500&&t<=113e3||t>=13e4&&t<=15e4)){e.next=14;break}return e.next=13,toastr.loading("Market Closed","Holidays");case 13:console.info("#loop# stock market closed for holidays ...");case 14:return e.abrupt("return",r);case 15:case"end":return e.stop()}}),e)}))),ye.apply(this,arguments)}n.d(t,"fireReadyEvent",(function(){return ge})),n.d(t,"isTradingDay",(function(){return xe})),window.__Walle_Stock_Controller=ae,window.__Walle_Stock_Pool=b["a"],window.__Walle_Stock_Gene=R,window.__Walle_Stock_Crawler=p["a"],window.__Walle_Stock_Strategy=oe.a,window.__Walle_Stock_Define=E["N"],window.__Walle_Stock_Backup=ke,window.__Walle_Stock_Market=ie,Object(s["a"])(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge();case 3:return e.next=5,xe();case 5:if(!e.sent){e.next=11;break}b["a"].start(),V.start(),ie.start(),ae.capture(),ae.trace();case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),console.warn("#loop# ",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))()},"3f62":function(e,t,n){n("b680");var r=n("870f"),a=n("71cc"),s=1;function i(){s=1}function c(e,t,n,i){var c=r.getPTCChange(n,i),o=a.isPeriodRest(t);o||(s*=1+c/100*.1,e.profit["compound"]=1e3*(s-1),e.profit["compound"]=+e.profit["compound"].toFixed(2))}e.exports={process:c,init:i}},"466d":function(e,t,n){"use strict";var r=n("d784"),a=n("825a"),s=n("50c4"),i=n("1d80"),c=n("8aa5"),o=n("14c3");r("match",1,(function(e,t,n){return[function(t){var n=i(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var i=a(e),u=String(this);if(!i.global)return o(i,u);var l=i.unicode;i.lastIndex=0;var h,p=[],f=0;while(null!==(h=o(i,u))){var v=String(h[0]);p[f]=v,""===v&&(i.lastIndex=c(u,s(i.lastIndex),l)),f++}return 0===f?null:p}]}))},"4de4":function(e,t,n){"use strict";var r=n("23e7"),a=n("b727").filter,s=n("d039"),i=n("1dde"),c=i("filter"),o=c&&!s((function(){[].filter.call({length:-1,0:1},(function(e){throw e}))}));r({target:"Array",proto:!0,forced:!c||!o},{filter:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},"5ca6":function(e,t,n){n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0");var r=n("a34a"),a=n("9705");n("96cf");var s=n("12e9"),i=s.generate,c=[n("870f"),n("71cc"),n("3f62"),n("29b1")];function o(e,t){return u.apply(this,arguments)}function u(){return u=a(r.mark((function e(t,n){var a,s,o,u,l,h,p,f,v,d,b,k,g,w,x,y,m,O,j,C,S;return r.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=i(t),e.prev=1,n){e.next=4;break}return e.abrupt("return",a);case 4:for(s=n.date,o=n.open,u=n.close,l=!0,h=!1,p=void 0,e.prev=10,f=c[Symbol.iterator]();!(l=(v=f.next()).done);l=!0)d=v.value,d.init();e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](10),h=!0,p=e.t0;case 18:e.prev=18,e.prev=19,l||null==f["return"]||f["return"]();case 21:if(e.prev=21,!h){e.next=24;break}throw p;case 24:return e.finish(21);case 25:return e.finish(18);case 26:b=s.length,k=0;case 28:if(!(k<b)){e.next=54;break}for(g=s[k],w=o[k],x=u[k],y=!0,m=!1,O=void 0,e.prev=35,j=c[Symbol.iterator]();!(y=(C=j.next()).done);y=!0)S=C.value,S.process(a,g,w,x);e.next=43;break;case 39:e.prev=39,e.t1=e["catch"](35),m=!0,O=e.t1;case 43:e.prev=43,e.prev=44,y||null==j["return"]||j["return"]();case 46:if(e.prev=46,!m){e.next=49;break}throw O;case 49:return e.finish(46);case 50:return e.finish(43);case 51:k++,e.next=28;break;case 54:e.next=59;break;case 56:e.prev=56,e.t2=e["catch"](1),console.log("#strategy# analyse fail: ",e.t2);case 59:return e.abrupt("return",a);case 60:case"end":return e.stop()}}),e,null,[[1,56],[10,14,18,26],[19,,21,25],[35,39,43,51],[44,,46,50]])}))),u.apply(this,arguments)}e.exports={analyse:o}},"71cc":function(e,t,n){n("b680");var r=n("870f"),a=2,s=0,i=!1;function c(){0,s=0,i=!1}function o(e){return i}function u(e,t,n,c){var o=r.getPTCChange(n,c);if(s<a){i=!1,e.day.trade++,e.profit.strategy+=o,e.profit.strategy=+e.profit.strategy.toFixed(2),e["daily-open-ptcchange"].push(t,n),e["daily-close-ptcchange"].push(t,o);var u=e["daily-open-profit"].length,l=e["daily-close-profit"].length,h=e["daily-open-profit"][u-1]||0,p=e["daily-close-profit"][l-1]||0;h+=n,p+=o,h=+h.toFixed(2),p=+p.toFixed(2),e["daily-open-profit"].push(t,h),e["daily-close-profit"].push(t,p)}else i=!0,e.day.rest++;o>=0?(s=0):(0,s++)}e.exports={isPeriodRest:o,process:u,init:c}},"7a82":function(e,t,n){var r=n("23e7"),a=n("83ab"),s=n("9bf2");r({target:"Object",stat:!0,forced:!a,sham:!a},{defineProperty:s.f})},"870f":function(e,t,n){n("b680");var r=-10;function a(){}function s(e,t){return e<r?e:t<r?r:t}function i(e,t,n,a){var s=0;return n<r?(s=n,e.day["open-crash"]++,e.profit["open-crash"]+=s,e.profit["open-crash"]=+e.profit["open-crash"].toFixed(2),a>0&&(e.day["reverse-crash"]++,e.profit["reverse-crash"]+=a+-r,e.profit["reverse-crash"]=+e.profit["reverse-crash"].toFixed(2))):a<r?(s=r,e.day["stop-crash"]++,e.profit["stop-crash"]+=a+-r,e.profit["stop-crash"]=+e.profit["stop-crash"].toFixed(2)):s=a,a>=0?(e.day.up++,e.profit.max+=a,e.profit.max=+e.profit.max.toFixed(2)):e.day.down++,e.day.total++,e.profit.normal+=a,e.profit.normal=+e.profit.normal.toFixed(2),s}e.exports={init:a,process:i,getPTCChange:s}},9705:function(e,t){function n(e,t,n,r,a,s,i){try{var c=e[s](i),o=c.value}catch(u){return void n(u)}c.done?t(o):Promise.resolve(o).then(r,a)}function r(e){return function(){var t=this,r=arguments;return new Promise((function(a,s){var i=e.apply(t,r);function c(e){n(i,a,s,c,o,"next",e)}function o(e){n(i,a,s,c,o,"throw",e)}c(void 0)}))}}e.exports=r},dbb4:function(e,t,n){var r=n("23e7"),a=n("83ab"),s=n("56ef"),i=n("fc6a"),c=n("06cf"),o=n("8418");r({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(e){var t,n,r=i(e),a=c.f,u=s(r),l={},h=0;while(u.length>h)n=a(r,t=u[h++]),void 0!==n&&o(l,t,n);return l}})},e439:function(e,t,n){var r=n("23e7"),a=n("d039"),s=n("fc6a"),i=n("06cf").f,c=n("83ab"),o=a((function(){i(1)})),u=!c||o;r({target:"Object",stat:!0,forced:u,sham:!c},{getOwnPropertyDescriptor:function(e,t){return i(s(e),t)}})}}]);