(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-92ff3712"],{"032a":function(t,e,n){n("caad"),n("ac1f"),n("2532"),n("5319"),console.log("Walle Stock Bot[".concat(20210207141323,"] Works ...")),function(){if(window.__Walle_Bot)throw console.log("Walle-stock-bot already works, don't start another one ..."),toastr.error("Walle-stock-bot already works, don't start another one ...","Walle"),new Error("exit walle-bot script");window.__Walle_Devtools||window.location.replace("about:blank");var t=parent.location.hash.includes("8888")||location.hash.includes("8888");t||(window.console.log=function(){},window.parent&&(window.parent.console.log=function(){}))}(),window.__Walle_Bot=!0,window.__Walle_Devtools=window.__Walle_Devtools||window.parent.__Walle_Devtools},"07d6":function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},"0b16":function(t,e,n){"use strict";var r=n("1985"),i=n("35e8");function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=k,e.resolve=O,e.resolveObject=S,e.format=x,e.Url=a;var s=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["<",">",'"',"`"," ","\r","\n","\t"],h=["{","}","|","\\","^","`"].concat(u),l=["'"].concat(h),f=["%","/","?",";","#"].concat(l),p=["/","?","#"],d=255,v=/^[+a-z0-9A-Z_-]{0,63}$/,b=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,y={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},w=n("b383");function k(t,e,n){if(t&&i.isObject(t)&&t instanceof a)return t;var r=new a;return r.parse(t,e,n),r}function x(t){return i.isString(t)&&(t=k(t)),t instanceof a?t.format():a.prototype.format.call(t)}function O(t,e){return k(t,!1,!0).resolve(e)}function S(t,e){return t?k(t,!1,!0).resolveObject(e):e}a.prototype.parse=function(t,e,n){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var a=t.indexOf("?"),o=-1!==a&&a<t.indexOf("#")?"?":"#",u=t.split(o),h=/\\/g;u[0]=u[0].replace(h,"/"),t=u.join(o);var k=t;if(k=k.trim(),!n&&1===t.split("#").length){var x=c.exec(k);if(x)return this.path=k,this.href=k,this.pathname=x[1],x[2]?(this.search=x[2],this.query=e?w.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var O=s.exec(k);if(O){O=O[0];var S=O.toLowerCase();this.protocol=S,k=k.substr(O.length)}if(n||O||k.match(/^\/\/[^@\/]+@[^@\/]+/)){var j="//"===k.substr(0,2);!j||O&&m[O]||(k=k.substr(2),this.slashes=!0)}if(!m[O]&&(j||O&&!g[O])){for(var T,E,_=-1,R=0;R<p.length;R++){var C=k.indexOf(p[R]);-1!==C&&(-1===_||C<_)&&(_=C)}E=-1===_?k.lastIndexOf("@"):k.lastIndexOf("@",_),-1!==E&&(T=k.slice(0,E),k=k.slice(E+1),this.auth=decodeURIComponent(T)),_=-1;for(R=0;R<f.length;R++){C=k.indexOf(f[R]);-1!==C&&(-1===_||C<_)&&(_=C)}-1===_&&(_=k.length),this.host=k.slice(0,_),k=k.slice(_),this.parseHost(),this.hostname=this.hostname||"";var A="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!A)for(var D=this.hostname.split(/\./),M=(R=0,D.length);R<M;R++){var B=D[R];if(B&&!B.match(v)){for(var q="",L=0,I=B.length;L<I;L++)B.charCodeAt(L)>127?q+="x":q+=B[L];if(!q.match(v)){var P=D.slice(0,R),N=D.slice(R+1),U=B.match(b);U&&(P.push(U[1]),N.unshift(U[2])),N.length&&(k="/"+N.join(".")+k),this.hostname=P.join(".");break}}}this.hostname.length>d?this.hostname="":this.hostname=this.hostname.toLowerCase(),A||(this.hostname=r.toASCII(this.hostname));var F=this.port?":"+this.port:"",H=this.hostname||"";this.host=H+F,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==k[0]&&(k="/"+k))}if(!y[S])for(R=0,M=l.length;R<M;R++){var V=l[R];if(-1!==k.indexOf(V)){var Y=encodeURIComponent(V);Y===V&&(Y=escape(V)),k=k.split(V).join(Y)}}var W=k.indexOf("#");-1!==W&&(this.hash=k.substr(W),k=k.slice(0,W));var z=k.indexOf("?");if(-1!==z?(this.search=k.substr(z),this.query=k.substr(z+1),e&&(this.query=w.parse(this.query)),k=k.slice(0,z)):e&&(this.search="",this.query={}),k&&(this.pathname=k),g[S]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var K=this.search||"";this.path=F+K}return this.href=this.format(),this},a.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",a=!1,s="";this.host?a=t+this.host:this.hostname&&(a=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=w.stringify(this.query));var o=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||g[e])&&!1!==a?(a="//"+(a||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):a||(a=""),r&&"#"!==r.charAt(0)&&(r="#"+r),o&&"?"!==o.charAt(0)&&(o="?"+o),n=n.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})),o=o.replace("#","%23"),e+a+n+o+r},a.prototype.resolve=function(t){return this.resolveObject(k(t,!1,!0)).format()},a.prototype.resolveObject=function(t){if(i.isString(t)){var e=new a;e.parse(t,!1,!0),t=e}for(var n=new a,r=Object.keys(this),s=0;s<r.length;s++){var o=r[s];n[o]=this[o]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var c=Object.keys(t),u=0;u<c.length;u++){var h=c[u];"protocol"!==h&&(n[h]=t[h])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!g[t.protocol]){for(var l=Object.keys(t),f=0;f<l.length;f++){var p=l[f];n[p]=t[p]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||m[t.protocol])n.pathname=t.pathname;else{var d=(t.pathname||"").split("/");while(d.length&&!(t.host=d.shift()));t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var v=n.pathname||"",b=n.search||"";n.path=v+b}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var y=n.pathname&&"/"===n.pathname.charAt(0),w=t.host||t.pathname&&"/"===t.pathname.charAt(0),k=w||y||n.host&&t.pathname,x=k,O=n.pathname&&n.pathname.split("/")||[],S=(d=t.pathname&&t.pathname.split("/")||[],n.protocol&&!g[n.protocol]);if(S&&(n.hostname="",n.port=null,n.host&&(""===O[0]?O[0]=n.host:O.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),k=k&&(""===d[0]||""===O[0])),w)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,O=d;else if(d.length)O||(O=[]),O.pop(),O=O.concat(d),n.search=t.search,n.query=t.query;else if(!i.isNullOrUndefined(t.search)){if(S){n.hostname=n.host=O.shift();var j=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");j&&(n.auth=j.shift(),n.host=n.hostname=j.shift())}return n.search=t.search,n.query=t.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!O.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var T=O.slice(-1)[0],E=(n.host||t.host||O.length>1)&&("."===T||".."===T)||""===T,_=0,R=O.length;R>=0;R--)T=O[R],"."===T?O.splice(R,1):".."===T?(O.splice(R,1),_++):_&&(O.splice(R,1),_--);if(!k&&!x)for(;_--;_)O.unshift("..");!k||""===O[0]||O[0]&&"/"===O[0].charAt(0)||O.unshift(""),E&&"/"!==O.join("/").substr(-1)&&O.push("");var C=""===O[0]||O[0]&&"/"===O[0].charAt(0);if(S){n.hostname=n.host=C?"":O.length?O.shift():"";j=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");j&&(n.auth=j.shift(),n.host=n.hostname=j.shift())}return k=k||n.host&&O.length,k&&!C&&O.unshift(""),O.length?n.pathname=O.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},a.prototype.parseHost=function(){var t=this.host,e=o.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},"0cae":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("b0c0");var r=n("d4ec"),i=n("ade3"),a=function t(e){var n=e.code,a=e.name,s=e.price,o=e.change,c=e.rate,u=e.turnover,h=e.qrr,l=e.inflow,f=e.outflow,p=e.netinflow,d=e.volume,v=e.amount,b=e.open,y=e.close,m=e.high,g=e.low,w=e.prevclose,k=e.roe,x=e.eps,O=e.bvps,S=e.hot,j=e.block;Object(r["a"])(this,t),Object(i["a"])(this,"code","000000"),Object(i["a"])(this,"name",void 0),Object(i["a"])(this,"price",void 0),Object(i["a"])(this,"change",void 0),Object(i["a"])(this,"rate",void 0),Object(i["a"])(this,"open",void 0),Object(i["a"])(this,"close",void 0),Object(i["a"])(this,"high",void 0),Object(i["a"])(this,"low",void 0),Object(i["a"])(this,"prevclose",void 0),Object(i["a"])(this,"turnover",void 0),Object(i["a"])(this,"qrr",void 0),Object(i["a"])(this,"volume",void 0),Object(i["a"])(this,"amount",void 0),Object(i["a"])(this,"inflow",void 0),Object(i["a"])(this,"outflow",void 0),Object(i["a"])(this,"netinflow",void 0),Object(i["a"])(this,"roe",void 0),Object(i["a"])(this,"eps",void 0),Object(i["a"])(this,"bvps",void 0),Object(i["a"])(this,"hot",void 0),Object(i["a"])(this,"block",void 0),this.code=n,this.name=a,this.price=+s,this.change=+o,this.rate=+c,this.open=+b,this.close=+y||+s,this.high=+m,this.low=+g,this.prevclose=+w,this.turnover=+u,this.qrr=+h,this.inflow=+l,this.outflow=+f,this.netinflow=+p,this.volume=+d,this.amount=+v,this.roe=+k,this.eps=+x,this.bvps=+O,this.hot=S,this.block=j}},"0d03":function(t,e,n){var r=n("6eeb"),i=Date.prototype,a="Invalid Date",s="toString",o=i[s],c=i.getTime;new Date(NaN)+""!=a&&r(i,s,(function(){var t=c.call(this);return t===t?o.call(this):a}))},"0d3b":function(t,e,n){"use strict";n("a4d3"),n("e01a"),n("d28b"),n("99af"),n("b0c0"),n("a9e3"),n("b680"),n("b64b"),n("d3b7"),n("07ac"),n("3ca3"),n("2ca0"),n("ddb0");var r=n("99de"),i=n("257e"),a=n("7e84"),s=n("45eb"),o=n("262e"),c=n("a34a"),u=n.n(c),h=(n("96cf"),n("1da1")),l=n("d4ec"),f=n("bee2"),p=n("ade3"),d=(n("caad"),n("a15b"),n("fb6a"),n("2532"),n("b868")),v=(n("bfb1"),n("c1df")),b=n.n(v),y=n("720d"),m=n.n(y),g=n("127d");n("ac1f"),n("1276"),n("2b3d");function w(t){var e=document.createElement("canvas");e.width=t.width,e.height=t.height;var n=t.src.split(".").pop(),r={png:"image/png",jpg:"image/jpeg",gif:"image/gif"},i=e.getContext("2d");return i.drawImage(t,0,0,t.width,t.height),e.toDataURL(r[n]||"image/jpeg")}function k(t){return x.apply(this,arguments)}function x(){return x=Object(h["a"])(u.a.mark((function t(e){var n;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(d["b"])(e);case 2:return n=t.sent,t.abrupt("return",new Promise((function(t,e){var r=new Image;r.src=window.URL.createObjectURL(n),r.crossOrigin="anonymous",r.onload=function(){t(w(r))},r.onerror=e})));case 4:case"end":return t.stop()}}),t)}))),x.apply(this,arguments)}var O=n("4712"),S=function(){function t(e,n){Object(l["a"])(this,t),Object(p["a"])(this,"publickey","-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDHdsyxT66pDG4p73yope7jxA92\nc0AT4qIJ/xtbBcHkFPK77upnsfDTJiVEuQDH+MiMeb+XhCLNKZGp0yaUU6GlxZdp\n+nLW8b7Kmijr3iepaDhcbVTsYBWchaWUXauj9Lrhz58/6AE/NF0aMolxIGpsi+ST\n2hSHPu3GSXMdhPCkWQIDAQAB\n-----END PUBLIC KEY-----"),Object(p["a"])(this,"validatekey",""),Object(p["a"])(this,"opener",null),Object(p["a"])(this,"shareholder",{sz:"",sh:""}),Object(p["a"])(this,"user",{id:"",password:""}),Object(p["a"])(this,"tradeTypes",{B:"B",a:"0a",b:"0b",c:"0c",d:"0d",e:"0e",S:"S",f:"0f",g:"0g",h:"0h",i:"0i",j:"0j"}),Object(p["a"])(this,"status",{0:"未知",1:"未报",2:"已报",3:"部成",4:"待报",5:"已受理",6:"已成",7:"已撤"}),this.user.id=e,this.user.password=n}return Object(f["a"])(t,[{key:"market",value:function(t){var e=t.slice(0,2);return["00","30","12"].includes(e)?"sz":["60","68","11"].includes(e)?"sh":void 0}},{key:"login",value:function(){var t=Object(h["a"])(u.a.mark((function t(){var e,n,r,i,a,s;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.prev=0,this.validatekey="",e=0,n=[1,2,3,4,5];case 3:if(!(e<n.length)){t.next=27;break}return n[e],t.prev=5,t.next=8,this.captcha();case 8:return r=t.sent,i=r.base64,a=r.random,t.next=13,this.ocr(i);case 13:return s=t.sent,t.next=16,this.auth(this.user.id,this.user.password,s,a);case 16:return t.next=18,this.key();case 18:if(!this.validatekey){t.next=20;break}return t.abrupt("break",27);case 20:t.next=24;break;case 22:t.prev=22,t.t0=t["catch"](5);case 24:e++,t.next=3;break;case 27:console.log("#EastMoneyStockTrader# login ..."),t.next=34;break;case 30:throw t.prev=30,t.t1=t["catch"](0),console.warn("#EastMoneyStockTrader# login fail",t.t1),t.t1;case 34:case"end":return t.stop()}}),t,this,[[0,30],[5,22]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"ocr",value:function(){var t=Object(h["a"])(u.a.mark((function t(e){return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.abrupt("return",O["a"].recognize(e));case 4:throw t.prev=4,t.t0=t["catch"](0),console.warn("#EastMoneyStockTrader# ocr fail",t.t0),t.t0;case 8:case"end":return t.stop()}}),t,null,[[0,4]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"captcha",value:function(){var t=Object(h["a"])(u.a.mark((function t(){var e,n,r;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e=Math.random(),n="https://jy.xzsec.com/Login/YZM?randNum=".concat(e),t.next=5,k(n);case 5:return r=t.sent,console.log("#EastMoneyStockTrader# captcha ...",e,r),t.abrupt("return",{base64:r,random:e});case 10:throw t.prev=10,t.t0=t["catch"](0),console.warn("#EastMoneyStockTrader# captcha fail",t.t0),t.t0;case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"auth",value:function(){var t=Object(h["a"])(u.a.mark((function t(e,n,r,i){var a,s,o,c,h;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a="https://jy.xzsec.com/Login/Authentication?validatekey=",s=new m.a,s.setPublicKey(this.publickey),o=s.encrypt(n),c={userId:e,password:o,identifyCode:r,randNumber:i,duration:"1800",authCode:"",type:"Z"},t.next=8,d["a"].post(a,c,{dataType:"json"});case 8:if(h=t.sent,0!==h.Status){t.next=13;break}console.log("#EastMoneyStockTrader# auth ..."),t.next=14;break;case 13:throw h;case 14:t.next=20;break;case 16:throw t.prev=16,t.t0=t["catch"](0),console.warn("#EastMoneyStockTrader# auth fail",t.t0),t.t0;case 20:case"end":return t.stop()}}),t,this,[[0,16]])})));function e(e,n,r,i){return t.apply(this,arguments)}return e}()},{key:"key",value:function(){var t=Object(h["a"])(u.a.mark((function t(){var e,n,r,i;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e="https://jy.xzsec.com/Trade/Buy",t.next=4,d["a"].get(e,null);case 4:if(n=t.sent,!n){t.next=16;break}if(r=document.createElement("div"),r.innerHTML=n,i=r.querySelector("#em_validatekey"),!i||!i.value){t.next=13;break}this.validatekey=i.value,t.next=14;break;case 13:throw{status:-1,message:"密钥获取异常，请重新登录!"};case 14:return console.log("#EastMoneyStockTrader# load key ...",this.validatekey),t.abrupt("return",this.validatekey);case 16:t.next=22;break;case 18:throw t.prev=18,t.t0=t["catch"](0),console.warn("#EastMoneyStockTrader# load key fail",t.t0),t.t0;case 22:case"end":return t.stop()}}),t,this,[[0,18]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"check",value:function(){var t=Object(h["a"])(u.a.mark((function t(){return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.validatekey){t.next=4;break}return t.next=3,this.login();case 3:throw{status:-2,message:"会话已超时，请重新登录!"};case 4:return t.abrupt("return",!!this.validatekey);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"hook",value:function(){var t=Object(h["a"])(u.a.mark((function t(e){return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(-2!==e.Status){t.next=3;break}throw this.validatekey="",{status:-2,message:"会话已超时，请重新登录!"};case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"trade",value:function(){var t=Object(h["a"])(u.a.mark((function t(e,n,r,i,a){var s,o,c,h,l;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.check();case 3:return t.next=5,this.position(n);case 5:return s=t.sent,o="https://jy.xzsec.com/Trade/SubmitTrade?validatekey=".concat(this.validatekey),this.market(n),c={stockCode:n,amount:i,tradeType:e,zqmc:r,price:a},a||(h=[this.tradeTypes.B,this.tradeTypes.a,this.tradeTypes.b,this.tradeTypes.c,this.tradeTypes.d,this.tradeTypes.e],h.includes(e)?c.price=s.sell.price[0]:c.price=s.buy.price[0]),t.next=12,d["a"].post(o,c,{dataType:"json"});case 12:if(l=t.sent,this.hook(l),0!==l.Status){t.next=21;break}return console.log("#EastMoneyStockTrader# trade-[".concat(e,"]: ").concat(n," ").concat(r," ").concat(a," ").concat(i," ")),t.next=18,Object(g["a"])(500);case 18:return t.abrupt("return",l.Data[0].Wtbh);case 21:throw l;case 22:t.next=28;break;case 24:throw t.prev=24,t.t0=t["catch"](0),console.warn("#EastMoneyStockTrader# trade-[".concat(e,"]: ").concat(n," ").concat(r," ").concat(a," ").concat(i," fail"),t.t0),t.t0;case 28:case"end":return t.stop()}}),t,this,[[0,24]])})));function e(e,n,r,i,a){return t.apply(this,arguments)}return e}()},{key:"limitorder",value:function(){var t=Object(h["a"])(u.a.mark((function t(e,n,r,i){var a;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.trade(e,n,r,i);case 2:return a=t.sent,t.next=5,Object(g["a"])(500);case 5:return t.next=7,this.revoke([a]);case 7:return t.next=9,Object(g["a"])(500);case 9:case"end":return t.stop()}}),t,this)})));function e(e,n,r,i){return t.apply(this,arguments)}return e}()},{key:"buy",value:function(){var t=Object(h["a"])(u.a.mark((function t(e,n,r){var i;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=e.slice(0,2),!["11","12"].includes(i)){t.next=3;break}return t.abrupt("return",this.limitorder(this.tradeTypes.B,e,n,r));case 3:return t.abrupt("return",this.trade(this.tradeTypes.d,e,n,r));case 4:case"end":return t.stop()}}),t,this)})));function e(e,n,r){return t.apply(this,arguments)}return e}()},{key:"sell",value:function(){var t=Object(h["a"])(u.a.mark((function t(e,n,r){var i;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=e.slice(0,2),!["11","12"].includes(i)){t.next=3;break}return t.abrupt("return",this.limitorder(this.tradeTypes.S,e,n,r));case 3:return t.abrupt("return",this.trade(this.tradeTypes.i,e,n,r));case 4:case"end":return t.stop()}}),t,this)})));function e(e,n,r){return t.apply(this,arguments)}return e}()},{key:"query",value:function(){var t=Object(h["a"])(u.a.mark((function t(e){var n,r,i,a,s,o,c,h,l;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.check();case 3:return n="https://jy.xzsec.com/Search/GetOrdersData?validatekey=".concat(this.validatekey),r={qqhs:10,dwc:""},t.next=7,d["a"].post(n,r,{dataType:"json"});case 7:if(i=t.sent,this.hook(i),0!==i.Status){t.next=37;break}a=!0,s=!1,o=void 0,t.prev=13,c=i.Data[Symbol.iterator]();case 15:if(a=(h=c.next()).done){t.next=23;break}if(l=h.value,l.Wtbh!==e){t.next=20;break}return console.log("#EastMoneyStockTrader# query ".concat(e,": code ").concat(l.Zqdm," ").concat(l.Zqmc," status ").concat(l.Mmsm,"-").concat(l.Wtzt," deal ").concat(l.Cjsl,"/").concat(l.Wtsl)),t.abrupt("return",l.Wtzt);case 20:a=!0,t.next=15;break;case 23:t.next=29;break;case 25:t.prev=25,t.t0=t["catch"](13),s=!0,o=t.t0;case 29:t.prev=29,t.prev=30,a||null==c["return"]||c["return"]();case 32:if(t.prev=32,!s){t.next=35;break}throw o;case 35:return t.finish(32);case 36:return t.finish(29);case 37:throw console.log("#EastMoneyStockTrader# query ".concat(e," status 未知 ")),"未知";case 41:throw t.prev=41,t.t1=t["catch"](0),console.warn("#EastMoneyStockTrader# query ".concat(e," fail"),t.t1),t.t1;case 45:case"end":return t.stop()}}),t,this,[[0,41],[13,25,29,37],[30,,32,36]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"revoke",value:function(){var t=Object(h["a"])(u.a.mark((function t(e){var n,r,i,a,s,o,c,h,l,f,p;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.check();case 3:for(n="https://jy.xzsec.com/Trade/RevokeOrders?validatekey=".concat(this.validatekey),r=b()().format("YYYYMMDD"),i=[],a=!0,s=!1,o=void 0,t.prev=9,c=e[Symbol.iterator]();!(a=(h=c.next()).done);a=!0)l=h.value,i.push("".concat(r,"_").concat(l));t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](9),s=!0,o=t.t0;case 17:t.prev=17,t.prev=18,a||null==c["return"]||c["return"]();case 20:if(t.prev=20,!s){t.next=23;break}throw o;case 23:return t.finish(20);case 24:return t.finish(17);case 25:return f={revokes:i.join(",")},t.next=28,d["a"].post(n,f);case 28:p=t.sent,console.log("#EastMoneyStockTrader# revoke ",p),t.next=36;break;case 32:throw t.prev=32,t.t1=t["catch"](0),console.warn("#EastMoneyStockTrader# revoke: ".concat(e.join(",")," fail"),t.t1),t.t1;case 36:case"end":return t.stop()}}),t,this,[[0,32],[9,13,17,25],[18,,20,24]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"revokelist",value:function(){var t=Object(h["a"])(u.a.mark((function t(e){var n,r,i,a,s,o,c,h,l,f;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.check();case 3:return n="https://jy.xzsec.com/Trade/GetRevokeList?validatekey=".concat(this.validatekey),t.next=6,d["a"].post(n,null,{dataType:"json"});case 6:if(r=t.sent,this.hook(r),0!==r.Status){t.next=34;break}for(i=null,a=[],s=!0,o=!1,c=void 0,t.prev=14,h=r.Data[Symbol.iterator]();!(s=(l=h.next()).done);s=!0)f=l.value,a.push(f.Wtbh),f.Wtbh===e&&(i=f.Wtbh);t.next=22;break;case 18:t.prev=18,t.t0=t["catch"](14),o=!0,c=t.t0;case 22:t.prev=22,t.prev=23,s||null==h["return"]||h["return"]();case 25:if(t.prev=25,!o){t.next=28;break}throw c;case 28:return t.finish(25);case 29:return t.finish(22);case 30:return console.log("#EastMoneyStockTrader# revokelist ",i||a),t.abrupt("return",e?i:a);case 34:throw r;case 35:t.next=41;break;case 37:throw t.prev=37,t.t1=t["catch"](0),console.warn("#EastMoneyStockTrader# revokelist ".concat(e||""," fail"),t.t1),t.t1;case 41:case"end":return t.stop()}}),t,this,[[0,37],[14,18,22,30],[23,,25,29]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"stocklist",value:function(){var t=Object(h["a"])(u.a.mark((function t(e){var n,r,i,a,s,o,c,h,l,f,p,v,b;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.check();case 3:return n="https://jy.xzsec.com/Search/GetStockList?validatekey=".concat(this.validatekey),t.next=6,d["a"].get(n,null,{dataType:"json"});case 6:if(r=t.sent,this.hook(r),0!==r.Status){t.next=34;break}for(i={code:e,name:"",amount:{total:0,available:0,unavailable:0}},a=[],s=!0,o=!1,c=void 0,t.prev=14,h=r.Data[Symbol.iterator]();!(s=(l=h.next()).done);s=!0)f=l.value,p=f.Zqdm,v=f.Zqmc,b={total:+f.Zqsl,available:+f.Kysl,unavailable:+f.Djsl},e===p&&(i={code:p,name:v,amount:b}),a.push({code:p,name:v,amount:b});t.next=22;break;case 18:t.prev=18,t.t0=t["catch"](14),o=!0,c=t.t0;case 22:t.prev=22,t.prev=23,s||null==h["return"]||h["return"]();case 25:if(t.prev=25,!o){t.next=28;break}throw c;case 28:return t.finish(25);case 29:return t.finish(22);case 30:return console.log("#EastMoneyStockTrader# stocklist : ",i||a),t.abrupt("return",e?i:a);case 34:throw r;case 35:t.next=41;break;case 37:throw t.prev=37,t.t1=t["catch"](0),console.warn("#EastMoneyStockTrader# stocklist ".concat(e||""," fail"),t.t1),t.t1;case 41:case"end":return t.stop()}}),t,this,[[0,37],[14,18,22,30],[23,,25,29]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"position",value:function(){var t=Object(h["a"])(u.a.mark((function t(e){var n,r,i,a,s,o,c,h;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n=this.market(e).toUpperCase(),r="https://hsmarket.eastmoney.com/api/SHSZQuoteSnapshot?id=".concat(e,"&market=").concat(n,"&callback"),t.next=5,d["a"].get(r,null);case 5:for(i=t.sent,i=i.slice(1,-2),a=JSON.parse(i),s={buy:{price:[],amount:[]},sell:{price:[],amount:[]}},o=0,c=[1,2,3,4,5];o<c.length;o++)h=c[o],s.buy.price.push(+a.fivequote["buy".concat(h)]),s.buy.amount.push(+a.fivequote["buy".concat(h,"_count")]),s.sell.price.push(+a.fivequote["sale".concat(h)]),s.sell.amount.push(+a.fivequote["sale".concat(h,"_count")]);return console.log("#EastMoneyStockTrader# position ".concat(e,": "),s),t.abrupt("return",s);case 14:throw t.prev=14,t.t0=t["catch"](0),console.warn("#EastMoneyStockTrader# position ".concat(e," fail"),t.t0),t.t0;case 18:case"end":return t.stop()}}),t,this,[[0,14]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"account",value:function(){var t=Object(h["a"])(u.a.mark((function t(){var e,n,r,i,a;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.check();case 3:return e="https://jy.xzsec.com/Com/queryAssetAndPositionV1?validatekey=".concat(this.validatekey),n={moneyType:"RMB"},t.next=7,d["a"].post(e,n,{dataType:"json"});case 7:return r=t.sent,this.hook(r),i={money:{available:0,unavailable:0},profit:{today:0,all:0},capital:{stock:0,money:0}},0===r.Status&&(a=r.Data[0],i.money.available=+a.Kyzj,i.money.unavailable=+a.Djzj,i.profit.today=+(a.Dryk||0),i.profit.all=+a.Ljyk,i.capital.stock=+a.Zxsz,i.capital.money=+a.Zzc,console.log("#EastMoneyStockTrader# account ",i)),t.abrupt("return",i);case 14:throw t.prev=14,t.t0=t["catch"](0),console.warn("#EastMoneyStockTrader# account fail",t.t0),t.t0;case 18:case"end":return t.stop()}}),t,this,[[0,14]])})));function e(){return t.apply(this,arguments)}return e}()}]),t}(),j=n("1797"),T=n("9313"),E=n("90d5"),_=n("a002"),R=n.n(_),C="__Walle_Stock_Bot_Positions",A=function(){function t(){Object(l["a"])(this,t),Object(p["a"])(this,"trader",void 0)}return Object(f["a"])(t,[{key:"load",value:function(){var t=Object(h["a"])(u.a.mark((function t(){return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{this.trader=new S(j["a"].trader.account.id,j["a"].trader.account.password)}catch(e){console.warn("#Trader# load ",e)}case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"autologin",value:function(){var t=Object(h["a"])(u.a.mark((function t(){var e;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,"off"!==j["a"].trader.status){t.next=3;break}return t.abrupt("return");case 3:if(!T["a"].isWeekend()){t.next=5;break}return t.abrupt("return");case 5:if(e=+b()().format("HHmmss"),!(e>=15e4)){t.next=8;break}return t.abrupt("return");case 8:if(!T["a"].isTradingTime()){t.next=16;break}return t.prev=9,t.next=12,this.login();case 12:t.next=16;break;case 14:t.prev=14,t.t0=t["catch"](9);case 16:if(!(e<92500)){t.next=26;break}return t.next=19,T["a"].until("092500");case 19:return t.prev=19,t.next=22,this.trader.login();case 22:t.next=26;break;case 24:t.prev=24,t.t1=t["catch"](19);case 26:if(!(e<13e4)){t.next=36;break}return t.next=29,T["a"].until("130000");case 29:return t.prev=29,t.next=32,this.trader.login();case 32:t.next=36;break;case 34:t.prev=34,t.t2=t["catch"](29);case 36:t.next=41;break;case 38:t.prev=38,t.t3=t["catch"](0),console.warn("#Trader# autologin ",t.t3);case 41:case"end":return t.stop()}}),t,this,[[0,38],[9,14],[19,24],[29,34]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"login",value:function(){var t=Object(h["a"])(u.a.mark((function t(){return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,"off"!==j["a"].trader.status){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,this.trader.key();case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t["catch"](3),t.next=12,this.trader.check();case 12:t.next=17;break;case 14:t.prev=14,t.t1=t["catch"](0),console.warn("#Trader# login ",t.t1);case 17:case"end":return t.stop()}}),t,this,[[0,14],[3,8]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"account",value:function(){var t=Object(h["a"])(u.a.mark((function t(){return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("off"!==j["a"].trader.status){t.next=2;break}return t.abrupt("return",{money:{available:0,unavailable:0},profit:{today:0,all:0},capital:{stock:0,money:0}});case 2:return t.abrupt("return",this.trader.account());case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"position",value:function(){var t=Object(h["a"])(u.a.mark((function t(e){return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("off"!==j["a"].trader.status){t.next=2;break}return t.abrupt("return",{buy:{price:[],amount:[]},sell:{price:[],amount:[]}});case 2:return t.abrupt("return",this.trader.position(e));case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"stocklist",value:function(){var t=Object(h["a"])(u.a.mark((function t(e){return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("off"!==j["a"].trader.status){t.next=2;break}return t.abrupt("return",{code:e,name:"",amount:{total:0,available:0,unavailable:0}});case 2:return t.abrupt("return",this.trader.stocklist(e));case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"buy",value:function(){var t=Object(h["a"])(u.a.mark((function t(e,n,r){var i,a,s,o,c,h=arguments;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=!(h.length>3&&void 0!==h[3])||h[3],t.prev=1,"off"!==j["a"].trader.status){t.next=4;break}return t.abrupt("return");case 4:if(!i){t.next=6;break}return t.abrupt("return",this.trader.buy(e,n,r));case 6:return t.next=8,this.trader.stocklist(e);case 8:a=t.sent,a||(a={code:e,name:n,amount:{total:0,available:0,unavailable:0}}),s=r;case 11:return t.next=14,this.trader.buy(e,n,s);case 14:return t.next=16,this.trader.stocklist(e);case 16:if(o=t.sent,c=o.amount.total-a.amount.total,c!==r){t.next=20;break}return t.abrupt("return");case 20:s=r-c,t.next=11;break;case 23:t.next=28;break;case 25:t.prev=25,t.t0=t["catch"](1),console.warn("#Trader# buy ",t.t0);case 28:case"end":return t.stop()}}),t,this,[[1,25]])})));function e(e,n,r){return t.apply(this,arguments)}return e}()},{key:"sell",value:function(){var t=Object(h["a"])(u.a.mark((function t(e,n,r){var i,a,s,o;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,"off"!==j["a"].trader.status){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,this.trader.stocklist(e);case 5:if(i=t.sent,i){t.next=8;break}return t.abrupt("return");case 8:if(i.amount.available){t.next=10;break}return t.abrupt("return");case 10:r||(r=i.amount.available),r>i.amount.available&&(r=i.amount.available),a=r;case 13:return t.next=16,this.trader.sell(e,n,a);case 16:return t.next=18,this.trader.stocklist(e);case 18:if(s=t.sent,s){t.next=21;break}return t.abrupt("return");case 21:if(s.amount.available){t.next=23;break}return t.abrupt("return");case 23:if(o=i.amount.available-s.amount.available,o!==r){t.next=26;break}return t.abrupt("return");case 26:a=r-o,t.next=13;break;case 29:t.next=34;break;case 31:t.prev=31,t.t0=t["catch"](0),console.warn("#Trader# sell ",t.t0);case 34:case"end":return t.stop()}}),t,this,[[0,31]])})));function e(e,n,r){return t.apply(this,arguments)}return e}()},{key:"liquidation",value:function(){var t=Object(h["a"])(u.a.mark((function t(e){var n,r,i,a,s,o,c;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,"off"!==j["a"].trader.status){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,this.trader.stocklist();case 5:n=t.sent,r=!0,i=!1,a=void 0,t.prev=9,s=n[Symbol.iterator]();case 11:if(r=(o=s.next()).done){t.next=25;break}if(c=o.value,e){t.next=18;break}return t.next=16,this.sell(c.code,c.name,c.amount.available);case 16:t.next=22;break;case 18:if("t0"!==e){t.next=22;break}if(!c.code.startsWith("11")&&!c.code.startsWith("12")){t.next=22;break}return t.next=22,this.sell(c.code,c.name,c.amount.available);case 22:r=!0,t.next=11;break;case 25:t.next=31;break;case 27:t.prev=27,t.t0=t["catch"](9),i=!0,a=t.t0;case 31:t.prev=31,t.prev=32,r||null==s["return"]||s["return"]();case 34:if(t.prev=34,!i){t.next=37;break}throw a;case 37:return t.finish(34);case 38:return t.finish(31);case 39:t.next=44;break;case 41:t.prev=41,t.t1=t["catch"](0),console.warn("#Trader# liquidation ",t.t1);case 44:case"end":return t.stop()}}),t,this,[[0,41],[9,27,31,39],[32,,34,38]])})));function e(e){return t.apply(this,arguments)}return e}()}]),t}(),D=function(t){function e(){var t,n;Object(l["a"])(this,e);for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return n=Object(r["a"])(this,(t=Object(a["a"])(e)).call.apply(t,[this].concat(o))),Object(p["a"])(Object(i["a"])(n),"positions",{}),n}return Object(o["a"])(e,t),Object(f["a"])(e,[{key:"load",value:function(){var t=Object(h["a"])(u.a.mark((function t(){var n;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.a.getItem(C);case 3:return n=t.sent,n&&(this.positions=n),t.abrupt("return",Object(s["a"])(Object(a["a"])(e.prototype),"load",this).call(this));case 8:t.prev=8,t.t0=t["catch"](0),console.warn("#TraderWarpper# load ",t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function n(){return t.apply(this,arguments)}return n}()},{key:"save",value:function(){var t=Object(h["a"])(u.a.mark((function t(){var e,n,r,i;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(n in e=b()().subtract(3,"months").format("YYYYMMDD"),this.positions)for(r in this.positions[n])i=this.positions[n][r],+i.date<+e&&delete this.positions[n][r];return t.abrupt("return",R.a.setItem(C,this.positions));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"start",value:function(){var t=Object(h["a"])(u.a.mark((function t(){return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,"off"!==j["a"].trader.status){t.next=3;break}return t.abrupt("return");case 3:this.autologin(),this.monitor(),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.warn("#Auto-Trader# ",t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"monitor",value:function(){var t=Object(h["a"])(u.a.mark((function t(){var e=this;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,"off"!==j["a"].trader.stoploss){t.next=3;break}return t.abrupt("return");case 3:T["a"].interval(Object(h["a"])(u.a.mark((function t(){var n,r,i,a,s,o,c,h,l,f,p,d,v,y;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=b()().format("YYYYMMDD"),r=0,i=["capture","interval"];case 2:if(!(r<i.length)){t.next=35;break}return a=i[r],t.prev=4,s=e.positions[a]||{},t.next=8,E["a"].captureStocks(Object.keys(s));case 8:if(o=t.sent,Object.keys(s).length){t.next=11;break}return t.abrupt("continue",32);case 11:c={},t.t0=u.a.keys(s);case 13:if((t.t1=t.t0()).done){t.next=26;break}if(h=t.t1.value,l=o[h],f=l.name,l.price,p=l.change,d=+s[h].price,v=+o[h].price,0!==v){t.next=20;break}return t.abrupt("continue",13);case 20:if(!(+s[h].date>=+n)){t.next=22;break}return t.abrupt("continue",13);case 22:y=(v-d)/d*100,+y<=-3&&+p<-1&&(console.info("#Auto-Trader monitor# ".concat(a," stoploss stock ").concat(y.toFixed(2)),h,f,p),c[h]=o[h]),t.next=13;break;case 26:return t.next=28,e.sellStocks(a,c);case 28:t.next=32;break;case 30:t.prev=30,t.t2=t["catch"](4);case 32:r++,t.next=2;break;case 35:case"end":return t.stop()}}),t,null,[[4,30]])}))),null,300),t.next=8;break;case 6:t.prev=6,t.t0=t["catch"](0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"calcAmount",value:function(t,e,n){var r=t.startsWith("11")||t.startsWith("12");try{if(r){var i=(n||j["a"].trader.bond.amount)/e;return+Number(Math.floor(i/j["a"].trader.bond.unit)*j["a"].trader.bond.unit).toFixed(0)}var a=(n||j["a"].trader.stock.amount)/e;return+Number(Math.floor(a/j["a"].trader.stock.unit)*j["a"].trader.stock.unit).toFixed(0)}catch(s){return r?10:100}}},{key:"buy",value:function(){var t=Object(h["a"])(u.a.mark((function t(n){var r,i,o,c,h,l,f,p,d,v,y=arguments;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=y.length>1&&void 0!==y[1]?y[1]:{code:"",name:"",price:0},i=y.length>2?y[2]:void 0,o=!(y.length>3&&void 0!==y[3])||y[3],t.prev=3,c=r.code,h=r.name,l=void 0===h?"":h,f=r.price,"off"!==j["a"].trader[n].status){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,Object(s["a"])(Object(a["a"])(e.prototype),"stocklist",this).call(this,c);case 9:return p=t.sent,i||(i=this.calcAmount(c,1.03*f)),t.next=13,Object(s["a"])(Object(a["a"])(e.prototype),"buy",this).call(this,c,l,i,o);case 13:return t.next=15,Object(s["a"])(Object(a["a"])(e.prototype),"stocklist",this).call(this,c);case 15:return d=t.sent,v=b()().format("YYYYMMDD"),i=d.amount.total-p.amount.total,this.positions[n]||(this.positions[n]={}),this.positions[n][c]={code:c,name:l,price:f,amount:i,date:v},t.next=22,this.save();case 22:t.next=27;break;case 24:t.prev=24,t.t0=t["catch"](3),console.warn("#TraderWarpper# buy ",t.t0);case 27:case"end":return t.stop()}}),t,this,[[3,24]])})));function n(e){return t.apply(this,arguments)}return n}()},{key:"buyStocks",value:function(){var t=Object(h["a"])(u.a.mark((function t(n,r){var i,o,c,h,l,f,p,d,v,b;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,"off"!==j["a"].trader[n].status){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,Object(s["a"])(Object(a["a"])(e.prototype),"account",this).call(this);case 5:i=t.sent,o=.9*i.capital.money,c=o*j["a"].trader[n].position,h=0,l=Object.values(r);case 9:if(!(h<l.length)){t.next=17;break}return f=l[h],p=f.code,d=f.name,v=f.price,b=this.calcAmount(p,1.03*v,c),t.next=14,this.buy(n,{code:p,name:d,price:v},b);case 14:h++,t.next=9;break;case 17:t.next=22;break;case 19:t.prev=19,t.t0=t["catch"](0),console.warn("#TraderWarpper# buyStocks ",t.t0);case 22:case"end":return t.stop()}}),t,this,[[0,19]])})));function n(e,n){return t.apply(this,arguments)}return n}()},{key:"sell",value:function(){var t=Object(h["a"])(u.a.mark((function t(n){var r,i,o,c,h,l=arguments;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=l.length>1&&void 0!==l[1]?l[1]:{code:"",name:""},i=l.length>2?l[2]:void 0,t.prev=2,o=r.code,c=r.name,h=void 0===c?"":c,"off"!==j["a"].trader[n].status){t.next=6;break}return t.abrupt("return");case 6:if(this.positions[n]||(this.positions[n]={}),this.positions[n][o]||(this.positions[n][o]={}),i=i||this.positions[n][o].amount,!i){t.next=12;break}return t.next=12,Object(s["a"])(Object(a["a"])(e.prototype),"sell",this).call(this,o,h,i);case 12:return delete this.positions[n][o],t.next=15,this.save();case 15:t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](2),console.warn("#TraderWarpper# sell ",t.t0);case 20:case"end":return t.stop()}}),t,this,[[2,17]])})));function n(e){return t.apply(this,arguments)}return n}()},{key:"sellStocks",value:function(){var t=Object(h["a"])(u.a.mark((function t(e,n){var r,i,a,s,o;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,"off"!==j["a"].trader[e].status){t.next=3;break}return t.abrupt("return");case 3:r=0,i=Object.values(n);case 4:if(!(r<i.length)){t.next=11;break}return a=i[r],s=a.code,o=a.name,t.next=8,this.sell(e,{code:s,name:o});case 8:r++,t.next=4;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),console.warn("#TraderWarpper# sellStocks ",t.t0);case 16:case"end":return t.stop()}}),t,this,[[0,13]])})));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"liquidation",value:function(){var t=Object(h["a"])(u.a.mark((function t(n){return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,"off"!==j["a"].trader[n].status){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,Object(s["a"])(Object(a["a"])(e.prototype),"liquidation",this).call(this,n);case 5:return delete this.positions[n],t.next=8,this.save();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.warn("#TraderWarpper# sell ",t.t0);case 13:case"end":return t.stop()}}),t,this,[[0,10]])})));function n(e){return t.apply(this,arguments)}return n}()}]),e}(A);e["a"]=new D},"0d3b6":function(t,e,n){var r=n("d039"),i=n("b622"),a=n("c430"),s=i("iterator");t.exports=!r((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,r){e["delete"]("b"),n+=r+t})),a&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},1:function(t,e){},"127d":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n("d3b7"),n("4795");var r=function(t){return new Promise((function(e){setTimeout(e,t)}))}},1797:function(t,e,n){"use strict";n("caad"),n("2532");var r=n("a34a"),i=n.n(r),a=(n("96cf"),n("1da1")),s=n("d4ec"),o=n("bee2"),c=n("ade3"),u=n("a002"),h=n.n(u),l=h.a.createInstance({driver:h.a.LOCALSTORAGE}),f=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(s["a"])(this,t),Object(c["a"])(this,"key",void 0),Object(c["a"])(this,"data",{}),Object(c["a"])(this,"initValue",void 0),Object(c["a"])(this,"forceOverride",!1),this.key=e,this.initValue=n,this.forceOverride=r}return Object(o["a"])(t,[{key:"proxy",value:function(){var t=this,e=function(){return t.load()},n=function(){return t.update()},r=!0,i={set:function(e,n,r){return t.data[n]=r,t.save(),!0},get:function(i,a){return"load"===a&&r?(r=!1,e):"update"===a?n:t.data[a]}};return new Proxy({},i)}},{key:"load",value:function(){var t=Object(a["a"])(i.a.mark((function t(){var e;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.forceOverride){t.next=3;break}return t.next=3,window.localStorage.setItem("localforage/"+this.key,JSON.stringify(this.initValue,null,"\t"));case 3:return t.next=5,l.getItem(this.key);case 5:return e=t.sent,this.data=e||this.initValue,t.abrupt("return",this.data);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"update",value:function(){return this.save()}},{key:"save",value:function(){return window.localStorage.setItem("localforage/"+this.key,JSON.stringify(this.data,null,"\t"))}}]),t}(),p={markets:["60","00","30","68","11","12"],captures:[{capture:"09:40",trace:["14:40"]},{capture:"14:30",trace:["14:40"]}],intervals:[{capture:"interval",trace:["14:40"],interval:180}],temps:[],validators:[{name:"v0",capture:["base"],interval:["base"],rule:{base:{},fundamental:{eps:">=0.2",bvps:">=2.5",roe:">5.0"},"pre-trace":{change:">-0.3",rate:">-0.3"},gene:{}}},{name:"v1",capture:["base"],interval:["base"],rule:{base:{change:">=3.0",rate:">0"},fundamental:{eps:">=0.2",bvps:">=2.5",roe:">5.0"},gene:{}}},{name:"v2",capture:["base"],interval:["base"],rule:{base:{change:">=3.0",rate:">=5.0"},fundamental:{eps:">=0.2",bvps:">=2.5",roe:">5.0"},gene:{}}},{name:"v3",capture:["base"],interval:["base"],rule:{base:{change:">=3.0",rate:">=10.0"},fundamental:{eps:">=0.2",bvps:">=2.5",roe:">5.0"},gene:{}}},{name:"v4",capture:["base"],interval:["base"],rule:{base:{change:">=3.0",rate:">=15.0"},fundamental:{eps:">=0.2",bvps:">=2.5",roe:">5.0"},gene:{}}}],trader:{status:"off",stoploss:"off",stock:{amount:1e4,unit:100},bond:{amount:1e4,unit:10},capture:{status:"off",position:.05,target:"09:40-v2/netinflowrate-top10"},interval:{status:"off",position:.1,target:"interval-v0/trend-netinflow-digger"},t0:{status:"off"},account:{id:"",password:""}},mail:{status:"on",host:"smtp.163.com",username:"walle0notification",password:"XWEMIBMYSYBFLBAH",from:"walle0notification@163.com",to:["walle0notification@163.com","walle.notification@foxmail.com"]},captcha:{appCode:"8D0E01E33D6495EF845870AD2E2888E2",appKey:"AKID744e8ae785a48ff9417ba04aa8d38a29",appSecret:"aa6d3237789d82ca16cd13291e669964"}},d=parent.location.hash||location.hash,v=d.includes("9527");e["a"]=new f("__Walle_Stock_Bot_Config",p,v).proxy()},1985:function(t,e,n){(function(t,r){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(a){e&&e.nodeType,t&&t.nodeType;var s="object"==typeof r&&r;s.global!==s&&s.window!==s&&s.self;var o,c=2147483647,u=36,h=1,l=26,f=38,p=700,d=72,v=128,b="-",y=/^xn--/,m=/[^\x20-\x7E]/,g=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},k=u-h,x=Math.floor,O=String.fromCharCode;function S(t){throw new RangeError(w[t])}function j(t,e){var n=t.length,r=[];while(n--)r[n]=e(t[n]);return r}function T(t,e){var n=t.split("@"),r="";n.length>1&&(r=n[0]+"@",t=n[1]),t=t.replace(g,".");var i=t.split("."),a=j(i,e).join(".");return r+a}function E(t){var e,n,r=[],i=0,a=t.length;while(i<a)e=t.charCodeAt(i++),e>=55296&&e<=56319&&i<a?(n=t.charCodeAt(i++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--)):r.push(e);return r}function _(t){return j(t,(function(t){var e="";return t>65535&&(t-=65536,e+=O(t>>>10&1023|55296),t=56320|1023&t),e+=O(t),e})).join("")}function R(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:u}function C(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function A(t,e,n){var r=0;for(t=n?x(t/p):t>>1,t+=x(t/e);t>k*l>>1;r+=u)t=x(t/k);return x(r+(k+1)*t/(t+f))}function D(t){var e,n,r,i,a,s,o,f,p,y,m=[],g=t.length,w=0,k=v,O=d;for(n=t.lastIndexOf(b),n<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&S("not-basic"),m.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<g;){for(a=w,s=1,o=u;;o+=u){if(i>=g&&S("invalid-input"),f=R(t.charCodeAt(i++)),(f>=u||f>x((c-w)/s))&&S("overflow"),w+=f*s,p=o<=O?h:o>=O+l?l:o-O,f<p)break;y=u-p,s>x(c/y)&&S("overflow"),s*=y}e=m.length+1,O=A(w-a,e,0==a),x(w/e)>c-k&&S("overflow"),k+=x(w/e),w%=e,m.splice(w++,0,k)}return _(m)}function M(t){var e,n,r,i,a,s,o,f,p,y,m,g,w,k,j,T=[];for(t=E(t),g=t.length,e=v,n=0,a=d,s=0;s<g;++s)m=t[s],m<128&&T.push(O(m));r=i=T.length,i&&T.push(b);while(r<g){for(o=c,s=0;s<g;++s)m=t[s],m>=e&&m<o&&(o=m);for(w=r+1,o-e>x((c-n)/w)&&S("overflow"),n+=(o-e)*w,e=o,s=0;s<g;++s)if(m=t[s],m<e&&++n>c&&S("overflow"),m==e){for(f=n,p=u;;p+=u){if(y=p<=a?h:p>=a+l?l:p-a,f<y)break;j=f-y,k=u-y,T.push(O(C(y+j%k,0))),f=x(j/k)}T.push(O(C(f,0))),a=A(n,w,r==i),n=0,++r}++n,++e}return T.join("")}function B(t){return T(t,(function(t){return y.test(t)?D(t.slice(4).toLowerCase()):t}))}function q(t){return T(t,(function(t){return m.test(t)?"xn--"+M(t):t}))}o={version:"1.4.1",ucs2:{decode:E,encode:_},decode:D,encode:M,toASCII:q,toUnicode:B},i=function(){return o}.call(e,n,e,t),void 0===i||(t.exports=i)})()}).call(this,n("62e4")(t),n("c8ba"))},"1d50":function(t,e,n){"use strict";n.r(e);n("d3b7");var r=n("a34a"),i=n.n(r),a=(n("96cf"),n("1da1")),s=n("1157"),o=n.n(s);window.$=o.a,window.jQuery=o.a;o.a,n("dd2e"),n("32d2"),n("032a");var c=n("a002"),u=n.n(c),h=n("1797"),l=n("1e4d"),f=n("9596"),p=n("4712"),d=n("0d3b");function v(){return b.apply(this,arguments)}function b(){return b=Object(a["a"])(i.a.mark((function t(){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h["a"].load();case 2:return t.next=4,l["a"].load();case 4:return t.next=6,f["a"].load();case 6:return t.next=8,p["a"].load();case 8:return t.next=10,d["a"].load();case 10:case"end":return t.stop()}}),t)}))),b.apply(this,arguments)}function y(){window.dispatchEvent(new CustomEvent("__Walle_Bootstrap_Ready_Event"))}u.a.config({driver:u.a.LOCALSTORAGE}),Object(a["a"])(i.a.mark((function t(){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v();case 2:return t.next=4,n.e("chunk-1159d398").then(n.bind(null,"0ae6"));case 4:t.next=7;break;case 7:return t.next=9,y();case 9:case"end":return t.stop()}}),t)})))()},"1e4d":function(t,e,n){"use strict";n("99af"),n("a630"),n("caad"),n("b64b"),n("d3b7"),n("6062"),n("2532"),n("3ca3"),n("ddb0");var r=n("a34a"),i=n.n(r),a=(n("96cf"),n("1da1")),s=n("d4ec"),o=n("bee2"),c=n("ade3"),u=n("a002"),h=n.n(u),l=n("90d5"),f="__Walle_Stock_Bot_Whitelist",p=function(){function t(){Object(s["a"])(this,t),Object(c["a"])(this,"markets",{}),Object(c["a"])(this,"_stocks",[]),Object(c["a"])(this,"_bonds",[]),Object(c["a"])(this,"_bondOfStockMap",{}),Object(c["a"])(this,"_stockOfBondMap",{}),Object(c["a"])(this,"_futures",[]),Object(c["a"])(this,"_whitelist",[])}return Object(o["a"])(t,[{key:"load",value:function(){var t=Object(a["a"])(i.a.mark((function t(){var e,n,r;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e=parent.location.hash||location.hash,n=e.includes("9528"),!n){t.next=10;break}return t.next=6,l["a"].captureWhitelist();case 6:return this.markets=t.sent,t.next=9,this.save();case 9:return t.abrupt("return");case 10:return t.next=12,this.read();case 12:if(r=t.sent,!r){t.next=16;break}return t.next=16,this.update();case 16:this.createStocks(),this.createBonds(),this.createFutures(),this.createWhitelist(),console.info("#Whitelist# load markets-stocks ".concat(this._stocks.length," bonds-stocks ").concat(this._bonds.length," whitelist-stocks ").concat(this._whitelist.length," ... ")),t.next=26;break;case 23:t.prev=23,t.t0=t["catch"](0),console.warn("#Whitelist# load fail ",t.t0);case 26:case"end":return t.stop()}}),t,this,[[0,23]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"update",value:function(){var t=Object(a["a"])(i.a.mark((function t(){var e;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l["a"].captureWhitelist(["all","bond"]);case 2:e=t.sent,e["all"]&&e["all"].length&&(this.markets["all"]=e["all"]),e["bond"]&&Object.keys(e["bond"]).length&&(this.markets["bond"]=e["bond"]),this.save();case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"read",value:function(){var t=Object(a["a"])(i.a.mark((function t(){var e;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h.a.getItem(f);case 2:if(e=t.sent,e){t.next=6;break}return console.log("#Whitelist# markets not exist!"),t.abrupt("return");case 6:return this.markets=e,t.abrupt("return",this.markets);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"save",value:function(){var t=Object(a["a"])(i.a.mark((function t(){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",h.a.setItem(f,this.markets));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"createWhitelist",value:function(){var t=[];for(var e in this.markets)"all"!==e&&"bond"!==e&&"future"!==e&&(t=t.concat(this.markets[e]));this._whitelist=Array.from(new Set(t))}},{key:"createBonds",value:function(){for(var t in this._bonds=Object.keys(this.markets["bond"]),this.markets["bond"]){var e=this.markets["bond"][t];this._stockOfBondMap[t]=e,this._bondOfStockMap[e]=t}}},{key:"createStocks",value:function(){this._stocks=this.markets["all"]}},{key:"createFutures",value:function(){this._futures=this.markets["futures"]}},{key:"whitelist",value:function(){return this._whitelist}},{key:"bonds",value:function(){return this._bonds}},{key:"futures",value:function(){return this._futures}},{key:"stocks",value:function(){return this._stocks}},{key:"stocksOfBonds",value:function(){return Object.keys(this._bondOfStockMap)}},{key:"bondOfStock",value:function(t){return this._bondOfStockMap[t]}},{key:"stockOfBond",value:function(t){return this._stockOfBondMap[t]}}]),t}();e["a"]=new p},"1fb5":function(t,e,n){"use strict";e.byteLength=h,e.toByteArray=f,e.fromByteArray=v;for(var r=[],i=[],a="undefined"!==typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,c=s.length;o<c;++o)r[o]=s[o],i[s.charCodeAt(o)]=o;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");-1===n&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function h(t){var e=u(t),n=e[0],r=e[1];return 3*(n+r)/4-r}function l(t,e,n){return 3*(e+n)/4-n}function f(t){var e,n,r=u(t),s=r[0],o=r[1],c=new a(l(t,s,o)),h=0,f=o>0?s-4:s;for(n=0;n<f;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],c[h++]=e>>16&255,c[h++]=e>>8&255,c[h++]=255&e;return 2===o&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,c[h++]=255&e),1===o&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,c[h++]=e>>8&255,c[h++]=255&e),c}function p(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function d(t,e,n){for(var r,i=[],a=e;a<n;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),i.push(p(r));return i.join("")}function v(t){for(var e,n=t.length,i=n%3,a=[],s=16383,o=0,c=n-i;o<c;o+=s)a.push(d(t,o,o+s>c?c:o+s));return 1===i?(e=t[n-1],a.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],a.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},2:function(t,e){},"24f8":function(t,e,n){var r=n("9490"),i=n("0b16"),a=t.exports;for(var s in r)r.hasOwnProperty(s)&&(a[s]=r[s]);function o(t){if("string"===typeof t&&(t=i.parse(t)),t.protocol||(t.protocol="https:"),"https:"!==t.protocol)throw new Error('Protocol "'+t.protocol+'" not supported. Expected "https:"');return t}a.request=function(t,e){return t=o(t),r.request.call(this,t,e)},a.get=function(t,e){return t=o(t),r.get.call(this,t,e)}},"257e":function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",(function(){return r}))},"25f0":function(t,e,n){"use strict";var r=n("6eeb"),i=n("825a"),a=n("d039"),s=n("ad6d"),o="toString",c=RegExp.prototype,u=c[o],h=a((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),l=u.name!=o;(h||l)&&r(RegExp.prototype,o,(function(){var t=i(this),e=String(t.source),n=t.flags,r=String(void 0===n&&t instanceof RegExp&&!("flags"in c)?s.call(t):n);return"/"+e+"/"+r}),{unsafe:!0})},"262e":function(t,e,n){"use strict";function r(t,e){return r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(t,e)}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}n.d(e,"a",(function(){return i}))},"27bf":function(t,e,n){"use strict";t.exports=s;var r=n("b19a"),i=Object.create(n("3a7c"));function a(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function s(t){if(!(this instanceof s))return new s(t);r.call(this,t),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"===typeof t.transform&&(this._transform=t.transform),"function"===typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",o)}function o(){var t=this;"function"===typeof this._flush?this._flush((function(e,n){c(t,e,n)})):c(this,null,null)}function c(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=n("3fb5"),i.inherits(s,r),s.prototype.push=function(t,e){return this._transformState.needTransform=!1,r.prototype.push.call(this,t,e)},s.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},s.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},s.prototype._destroy=function(t,e){var n=this;r.prototype._destroy.call(this,t,(function(t){e(t),n.emit("close")}))}},2894:function(t,e,n){"use strict";n("a4d3"),n("e01a"),n("d28b"),n("99af"),n("a630"),n("caad"),n("fb6a"),n("4e82"),n("b64b"),n("d3b7"),n("6062"),n("2532"),n("3ca3"),n("ddb0");var r=n("a34a"),i=n.n(r),a=n("2909"),s=(n("96cf"),n("1da1")),o=n("d4ec"),c=n("bee2"),u=n("ade3"),h=n("9313"),l=n("1e4d"),f=n("90d5"),p=n("c1df"),d=n.n(p),v=500,b="1.000001",y=function(){function t(){Object(o["a"])(this,t),Object(u["a"])(this,"crawlers",[]),Object(u["a"])(this,"codes",[]),Object(u["a"])(this,"isRunning",!1)}return Object(c["a"])(t,[{key:"start",value:function(t){var e=this;return Object(s["a"])(i.a.mark((function n(){var r,s,o,c,u;return i.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.prev=0,h["a"].isWeekend()){n.next=10;break}if(r=+d()().format("HHmmss"),!(r>=15e4)){n.next=6;break}return n.abrupt("return");case 6:return n.next=8,h["a"].until("093000");case 8:n.next=11;break;case 10:return n.abrupt("return");case 11:if(e.crawlers.length){n.next=20;break}if(e.codes=t?Array.from(new Set(t)):[].concat(Object(a["a"])(l["a"].stocks()),Object(a["a"])(l["a"].bonds())),e.codes.length){n.next=15;break}return n.abrupt("return");case 15:for(e.codes.unshift(b,"399001"),s=Math.ceil(e.codes.length/v),o=0;o<s;o++)c=e.codes.slice(o*v,(o+1)*v),u=f["a"].sseStart(c),e.crawlers.push(u);e.keepAlive(),e.isRunning=!0;case 20:return n.next=23,h["a"].until("150000");case 23:console.log("#Pool# auto stop ..."),e.stop();case 25:n.next=30;break;case 27:n.prev=27,n.t0=n["catch"](0),console.warn("#Pool# start exception: ",n.t0);case 30:case"end":return n.stop()}}),n,null,[[0,27]])})))(),this}},{key:"stop",value:function(){var t=!0,e=!1,n=void 0;try{for(var r,i=this.crawlers[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var a=r.value;a.stop()}}catch(s){e=!0,n=s}finally{try{t||null==i["return"]||i["return"]()}finally{if(e)throw n}}}},{key:"keepAlive",value:function(){var t=this;h["a"].interval((function(){for(var e in t.crawlers){var n=t.crawlers[e];n.isAlive()||(console.warn("#Pool# crawler[".concat(e,"] restart ...")),n.start())}}),null,60)}},{key:"has",value:function(t){if(!this.isRunning)return!1;var e=!0,n=!1,r=void 0;try{for(var i,a=t[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var s=i.value;if(!this.codes.includes(s))return!1}}catch(o){n=!0,r=o}finally{try{e||null==a["return"]||a["return"]()}finally{if(n)throw r}}return!0}},{key:"market",value:function(){return this.isRunning?this.crawlers[0].getStock(b):{}}},{key:"check",value:function(t,e){var n=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var o=a.value;if(!e[o])return console.warn("#Pool# check miss ".concat(o," ...")),!1}}catch(c){r=!0,i=c}finally{try{n||null==s["return"]||s["return"]()}finally{if(r)throw i}}return!0}},{key:"bonds",value:function(t){return t=t||l["a"].bonds(),this.stocks(t)}},{key:"stocks",value:function(t){if(!this.isRunning)return{};t=t||l["a"].stocks();var e={},n=!0,r=!1,i=void 0;try{for(var a,s=this.crawlers[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var o=a.value,c=o.getStocks(t);Object.assign(e,c)}}catch(u){r=!0,i=u}finally{try{n||null==s["return"]||s["return"]()}finally{if(r)throw i}}return this.check(t,e),e}},{key:"all",value:function(){return this.stocks(this.codes)}},{key:"list",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:400;t=t||this.stocks();var i=Object.keys(t).sort((function(n,r){return+t[r][e]-+t[n][e]})),a=i.slice((n-1)*r,n*r),s=[],o=!0,c=!1,u=void 0;try{for(var h,l=a[Symbol.iterator]();!(o=(h=l.next()).done);o=!0){var f=h.value;s.push(t[f])}}catch(p){c=!0,u=p}finally{try{o||null==l["return"]||l["return"]()}finally{if(c)throw u}}return console.log("#Pool# sortBy [".concat(e,"] page=").concat(n," limit=").concat(r," ... ")),s}},{key:"listOfStocks",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:400,r=this.stocks();return this.list(r,t,e,n)}},{key:"listOfBonds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:400,r=this.bonds();return this.list(r,t,e,n)}},{key:"show",value:function(t){console.table(this.stocks([t]))}}]),t}();e["a"]=new y},2909:function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function i(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function s(t){return r(t)||i(t)||a()}n.d(e,"a",(function(){return s}))},"2b3d":function(t,e,n){"use strict";n("3ca3");var r,i=n("23e7"),a=n("83ab"),s=n("0d3b6"),o=n("da84"),c=n("37e8"),u=n("6eeb"),h=n("19aa"),l=n("5135"),f=n("60da"),p=n("4df4"),d=n("6547").codeAt,v=n("5fb2"),b=n("d44e"),y=n("9861"),m=n("69f3"),g=o.URL,w=y.URLSearchParams,k=y.getState,x=m.set,O=m.getterFor("URL"),S=Math.floor,j=Math.pow,T="Invalid authority",E="Invalid scheme",_="Invalid host",R="Invalid port",C=/[A-Za-z]/,A=/[\d+\-.A-Za-z]/,D=/\d/,M=/^(0x|0X)/,B=/^[0-7]+$/,q=/^\d+$/,L=/^[\dA-Fa-f]+$/,I=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,P=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,N=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,U=/[\u0009\u000A\u000D]/g,F=function(t,e){var n,r,i;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return _;if(n=V(e.slice(1,-1)),!n)return _;t.host=n}else if($(t)){if(e=v(e),I.test(e))return _;if(n=H(e),null===n)return _;t.host=n}else{if(P.test(e))return _;for(n="",r=p(e),i=0;i<r.length;i++)n+=Z(r[i],z);t.host=n}},H=function(t){var e,n,r,i,a,s,o,c=t.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),e=c.length,e>4)return t;for(n=[],r=0;r<e;r++){if(i=c[r],""==i)return t;if(a=10,i.length>1&&"0"==i.charAt(0)&&(a=M.test(i)?16:8,i=i.slice(8==a?1:2)),""===i)s=0;else{if(!(10==a?q:8==a?B:L).test(i))return t;s=parseInt(i,a)}n.push(s)}for(r=0;r<e;r++)if(s=n[r],r==e-1){if(s>=j(256,5-e))return null}else if(s>255)return null;for(o=n.pop(),r=0;r<n.length;r++)o+=n[r]*j(256,3-r);return o},V=function(t){var e,n,r,i,a,s,o,c=[0,0,0,0,0,0,0,0],u=0,h=null,l=0,f=function(){return t.charAt(l)};if(":"==f()){if(":"!=t.charAt(1))return;l+=2,u++,h=u}while(f()){if(8==u)return;if(":"!=f()){e=n=0;while(n<4&&L.test(f()))e=16*e+parseInt(f(),16),l++,n++;if("."==f()){if(0==n)return;if(l-=n,u>6)return;r=0;while(f()){if(i=null,r>0){if(!("."==f()&&r<4))return;l++}if(!D.test(f()))return;while(D.test(f())){if(a=parseInt(f(),10),null===i)i=a;else{if(0==i)return;i=10*i+a}if(i>255)return;l++}c[u]=256*c[u]+i,r++,2!=r&&4!=r||u++}if(4!=r)return;break}if(":"==f()){if(l++,!f())return}else if(f())return;c[u++]=e}else{if(null!==h)return;l++,u++,h=u}}if(null!==h){s=u-h,u=7;while(0!=u&&s>0)o=c[u],c[u--]=c[h+s-1],c[h+--s]=o}else if(8!=u)return;return c},Y=function(t){for(var e=null,n=1,r=null,i=0,a=0;a<8;a++)0!==t[a]?(i>n&&(e=r,n=i),r=null,i=0):(null===r&&(r=a),++i);return i>n&&(e=r,n=i),e},W=function(t){var e,n,r,i;if("number"==typeof t){for(e=[],n=0;n<4;n++)e.unshift(t%256),t=S(t/256);return e.join(".")}if("object"==typeof t){for(e="",r=Y(t),n=0;n<8;n++)i&&0===t[n]||(i&&(i=!1),r===n?(e+=n?":":"::",i=!0):(e+=t[n].toString(16),n<7&&(e+=":")));return"["+e+"]"}return t},z={},K=f({},z,{" ":1,'"':1,"<":1,">":1,"`":1}),G=f({},K,{"#":1,"?":1,"{":1,"}":1}),J=f({},G,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Z=function(t,e){var n=d(t,0);return n>32&&n<127&&!l(e,t)?t:encodeURIComponent(t)},X={ftp:21,file:null,http:80,https:443,ws:80,wss:443},$=function(t){return l(X,t.scheme)},Q=function(t){return""!=t.username||""!=t.password},tt=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},et=function(t,e){var n;return 2==t.length&&C.test(t.charAt(0))&&(":"==(n=t.charAt(1))||!e&&"|"==n)},nt=function(t){var e;return t.length>1&&et(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},rt=function(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&et(e[0],!0)||e.pop()},it=function(t){return"."===t||"%2e"===t.toLowerCase()},at=function(t){return t=t.toLowerCase(),".."===t||"%2e."===t||".%2e"===t||"%2e%2e"===t},st={},ot={},ct={},ut={},ht={},lt={},ft={},pt={},dt={},vt={},bt={},yt={},mt={},gt={},wt={},kt={},xt={},Ot={},St={},jt={},Tt={},Et=function(t,e,n,i){var a,s,o,c,u=n||st,h=0,f="",d=!1,v=!1,b=!1;n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(N,"")),e=e.replace(U,""),a=p(e);while(h<=a.length){switch(s=a[h],u){case st:if(!s||!C.test(s)){if(n)return E;u=ct;continue}f+=s.toLowerCase(),u=ot;break;case ot:if(s&&(A.test(s)||"+"==s||"-"==s||"."==s))f+=s.toLowerCase();else{if(":"!=s){if(n)return E;f="",u=ct,h=0;continue}if(n&&($(t)!=l(X,f)||"file"==f&&(Q(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=f,n)return void($(t)&&X[t.scheme]==t.port&&(t.port=null));f="","file"==t.scheme?u=gt:$(t)&&i&&i.scheme==t.scheme?u=ut:$(t)?u=pt:"/"==a[h+1]?(u=ht,h++):(t.cannotBeABaseURL=!0,t.path.push(""),u=St)}break;case ct:if(!i||i.cannotBeABaseURL&&"#"!=s)return E;if(i.cannotBeABaseURL&&"#"==s){t.scheme=i.scheme,t.path=i.path.slice(),t.query=i.query,t.fragment="",t.cannotBeABaseURL=!0,u=Tt;break}u="file"==i.scheme?gt:lt;continue;case ut:if("/"!=s||"/"!=a[h+1]){u=lt;continue}u=dt,h++;break;case ht:if("/"==s){u=vt;break}u=Ot;continue;case lt:if(t.scheme=i.scheme,s==r)t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query=i.query;else if("/"==s||"\\"==s&&$(t))u=ft;else if("?"==s)t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query="",u=jt;else{if("#"!=s){t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.path.pop(),u=Ot;continue}t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query=i.query,t.fragment="",u=Tt}break;case ft:if(!$(t)||"/"!=s&&"\\"!=s){if("/"!=s){t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,u=Ot;continue}u=vt}else u=dt;break;case pt:if(u=dt,"/"!=s||"/"!=f.charAt(h+1))continue;h++;break;case dt:if("/"!=s&&"\\"!=s){u=vt;continue}break;case vt:if("@"==s){d&&(f="%40"+f),d=!0,o=p(f);for(var y=0;y<o.length;y++){var m=o[y];if(":"!=m||b){var g=Z(m,J);b?t.password+=g:t.username+=g}else b=!0}f=""}else if(s==r||"/"==s||"?"==s||"#"==s||"\\"==s&&$(t)){if(d&&""==f)return T;h-=p(f).length+1,f="",u=bt}else f+=s;break;case bt:case yt:if(n&&"file"==t.scheme){u=kt;continue}if(":"!=s||v){if(s==r||"/"==s||"?"==s||"#"==s||"\\"==s&&$(t)){if($(t)&&""==f)return _;if(n&&""==f&&(Q(t)||null!==t.port))return;if(c=F(t,f),c)return c;if(f="",u=xt,n)return;continue}"["==s?v=!0:"]"==s&&(v=!1),f+=s}else{if(""==f)return _;if(c=F(t,f),c)return c;if(f="",u=mt,n==yt)return}break;case mt:if(!D.test(s)){if(s==r||"/"==s||"?"==s||"#"==s||"\\"==s&&$(t)||n){if(""!=f){var w=parseInt(f,10);if(w>65535)return R;t.port=$(t)&&w===X[t.scheme]?null:w,f=""}if(n)return;u=xt;continue}return R}f+=s;break;case gt:if(t.scheme="file","/"==s||"\\"==s)u=wt;else{if(!i||"file"!=i.scheme){u=Ot;continue}if(s==r)t.host=i.host,t.path=i.path.slice(),t.query=i.query;else if("?"==s)t.host=i.host,t.path=i.path.slice(),t.query="",u=jt;else{if("#"!=s){nt(a.slice(h).join(""))||(t.host=i.host,t.path=i.path.slice(),rt(t)),u=Ot;continue}t.host=i.host,t.path=i.path.slice(),t.query=i.query,t.fragment="",u=Tt}}break;case wt:if("/"==s||"\\"==s){u=kt;break}i&&"file"==i.scheme&&!nt(a.slice(h).join(""))&&(et(i.path[0],!0)?t.path.push(i.path[0]):t.host=i.host),u=Ot;continue;case kt:if(s==r||"/"==s||"\\"==s||"?"==s||"#"==s){if(!n&&et(f))u=Ot;else if(""==f){if(t.host="",n)return;u=xt}else{if(c=F(t,f),c)return c;if("localhost"==t.host&&(t.host=""),n)return;f="",u=xt}continue}f+=s;break;case xt:if($(t)){if(u=Ot,"/"!=s&&"\\"!=s)continue}else if(n||"?"!=s)if(n||"#"!=s){if(s!=r&&(u=Ot,"/"!=s))continue}else t.fragment="",u=Tt;else t.query="",u=jt;break;case Ot:if(s==r||"/"==s||"\\"==s&&$(t)||!n&&("?"==s||"#"==s)){if(at(f)?(rt(t),"/"==s||"\\"==s&&$(t)||t.path.push("")):it(f)?"/"==s||"\\"==s&&$(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&et(f)&&(t.host&&(t.host=""),f=f.charAt(0)+":"),t.path.push(f)),f="","file"==t.scheme&&(s==r||"?"==s||"#"==s))while(t.path.length>1&&""===t.path[0])t.path.shift();"?"==s?(t.query="",u=jt):"#"==s&&(t.fragment="",u=Tt)}else f+=Z(s,G);break;case St:"?"==s?(t.query="",u=jt):"#"==s?(t.fragment="",u=Tt):s!=r&&(t.path[0]+=Z(s,z));break;case jt:n||"#"!=s?s!=r&&("'"==s&&$(t)?t.query+="%27":t.query+="#"==s?"%23":Z(s,z)):(t.fragment="",u=Tt);break;case Tt:s!=r&&(t.fragment+=Z(s,K));break}h++}},_t=function(t){var e,n,r=h(this,_t,"URL"),i=arguments.length>1?arguments[1]:void 0,s=String(t),o=x(r,{type:"URL"});if(void 0!==i)if(i instanceof _t)e=O(i);else if(n=Et(e={},String(i)),n)throw TypeError(n);if(n=Et(o,s,null,e),n)throw TypeError(n);var c=o.searchParams=new w,u=k(c);u.updateSearchParams(o.query),u.updateURL=function(){o.query=String(c)||null},a||(r.href=Ct.call(r),r.origin=At.call(r),r.protocol=Dt.call(r),r.username=Mt.call(r),r.password=Bt.call(r),r.host=qt.call(r),r.hostname=Lt.call(r),r.port=It.call(r),r.pathname=Pt.call(r),r.search=Nt.call(r),r.searchParams=Ut.call(r),r.hash=Ft.call(r))},Rt=_t.prototype,Ct=function(){var t=O(this),e=t.scheme,n=t.username,r=t.password,i=t.host,a=t.port,s=t.path,o=t.query,c=t.fragment,u=e+":";return null!==i?(u+="//",Q(t)&&(u+=n+(r?":"+r:"")+"@"),u+=W(i),null!==a&&(u+=":"+a)):"file"==e&&(u+="//"),u+=t.cannotBeABaseURL?s[0]:s.length?"/"+s.join("/"):"",null!==o&&(u+="?"+o),null!==c&&(u+="#"+c),u},At=function(){var t=O(this),e=t.scheme,n=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(r){return"null"}return"file"!=e&&$(t)?e+"://"+W(t.host)+(null!==n?":"+n:""):"null"},Dt=function(){return O(this).scheme+":"},Mt=function(){return O(this).username},Bt=function(){return O(this).password},qt=function(){var t=O(this),e=t.host,n=t.port;return null===e?"":null===n?W(e):W(e)+":"+n},Lt=function(){var t=O(this).host;return null===t?"":W(t)},It=function(){var t=O(this).port;return null===t?"":String(t)},Pt=function(){var t=O(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Nt=function(){var t=O(this).query;return t?"?"+t:""},Ut=function(){return O(this).searchParams},Ft=function(){var t=O(this).fragment;return t?"#"+t:""},Ht=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(a&&c(Rt,{href:Ht(Ct,(function(t){var e=O(this),n=String(t),r=Et(e,n);if(r)throw TypeError(r);k(e.searchParams).updateSearchParams(e.query)})),origin:Ht(At),protocol:Ht(Dt,(function(t){var e=O(this);Et(e,String(t)+":",st)})),username:Ht(Mt,(function(t){var e=O(this),n=p(String(t));if(!tt(e)){e.username="";for(var r=0;r<n.length;r++)e.username+=Z(n[r],J)}})),password:Ht(Bt,(function(t){var e=O(this),n=p(String(t));if(!tt(e)){e.password="";for(var r=0;r<n.length;r++)e.password+=Z(n[r],J)}})),host:Ht(qt,(function(t){var e=O(this);e.cannotBeABaseURL||Et(e,String(t),bt)})),hostname:Ht(Lt,(function(t){var e=O(this);e.cannotBeABaseURL||Et(e,String(t),yt)})),port:Ht(It,(function(t){var e=O(this);tt(e)||(t=String(t),""==t?e.port=null:Et(e,t,mt))})),pathname:Ht(Pt,(function(t){var e=O(this);e.cannotBeABaseURL||(e.path=[],Et(e,t+"",xt))})),search:Ht(Nt,(function(t){var e=O(this);t=String(t),""==t?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",Et(e,t,jt)),k(e.searchParams).updateSearchParams(e.query)})),searchParams:Ht(Ut),hash:Ht(Ft,(function(t){var e=O(this);t=String(t),""!=t?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",Et(e,t,Tt)):e.fragment=null}))}),u(Rt,"toJSON",(function(){return Ct.call(this)}),{enumerable:!0}),u(Rt,"toString",(function(){return Ct.call(this)}),{enumerable:!0}),g){var Vt=g.createObjectURL,Yt=g.revokeObjectURL;Vt&&u(_t,"createObjectURL",(function(t){return Vt.apply(g,arguments)})),Yt&&u(_t,"revokeObjectURL",(function(t){return Yt.apply(g,arguments)}))}b(_t,"URL"),i({global:!0,forced:!s,sham:!a},{URL:_t})},"304f":function(t,e,n){},"32d2":function(t,e,n){"use strict";n("d3b7"),n("4795"),n("304f");var r=n("9801"),i=n.n(r);window.toastr=i.a;var a={timeOut:0,extendedTimeOut:0,closeButton:!0,newestOnTop:!1,positionClass:"toast-bottom-right"};i.a.confirm=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return r=Object.assign({},a,r),new Promise((function(a){r.onclick=function(){a(),n&&n()},r.onCloseClick=function(){i.a.clear()};var s=r.type||"info";i.a[s](t,e,r)}))},i.a.loading=function(t,e){var n=Object.assign({},a,{positionClass:"toast-bottom-center"}),r=i.a.info(t||"",e||"loading ...",n);return new Promise((function(t){return setTimeout(t(r),100)}))},i.a.clearAll=function(t){t?i.a.getContainer().children(".toast-".concat(t)).remove():i.a.getContainer().remove()},e["a"]=i.a},"35e8":function(t,e,n){"use strict";t.exports={isString:function(t){return"string"===typeof t},isObject:function(t){return"object"===typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},"3a7c":function(t,e,n){(function(t){function n(t){return Array.isArray?Array.isArray(t):"[object Array]"===b(t)}function r(t){return"boolean"===typeof t}function i(t){return null===t}function a(t){return null==t}function s(t){return"number"===typeof t}function o(t){return"string"===typeof t}function c(t){return"symbol"===typeof t}function u(t){return void 0===t}function h(t){return"[object RegExp]"===b(t)}function l(t){return"object"===typeof t&&null!==t}function f(t){return"[object Date]"===b(t)}function p(t){return"[object Error]"===b(t)||t instanceof Error}function d(t){return"function"===typeof t}function v(t){return null===t||"boolean"===typeof t||"number"===typeof t||"string"===typeof t||"symbol"===typeof t||"undefined"===typeof t}function b(t){return Object.prototype.toString.call(t)}e.isArray=n,e.isBoolean=r,e.isNull=i,e.isNullOrUndefined=a,e.isNumber=s,e.isString=o,e.isSymbol=c,e.isUndefined=u,e.isRegExp=h,e.isObject=l,e.isDate=f,e.isError=p,e.isFunction=d,e.isPrimitive=v,e.isBuffer=t.isBuffer}).call(this,n("b639").Buffer)},"3ec6":function(t,e,n){"use strict";n("99af");var r=n("a34a"),i=n.n(r),a=(n("96cf"),n("1da1")),s=n("d4ec"),o=n("bee2"),c=n("ade3"),u=(n("0d03"),n("d3b7"),n("ac1f"),n("25f0"),n("5319"),n("b868")),h=n("91e5"),l=function(){function t(){Object(s["a"])(this,t),Object(c["a"])(this,"requestType","jsonp"),Object(c["a"])(this,"_wss",void 0)}return Object(o["a"])(t,[{key:"use",value:function(t,e){this.requestType=t,e&&(this._wss=e)}},{key:"capture",value:function(){var t=Object(a["a"])(i.a.mark((function t(e,n){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this[this.requestType](e,n));case 1:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"ajax",value:function(){var t=Object(a["a"])(i.a.mark((function t(e){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",u["a"].get(e));case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"jsonp",value:function(){var t=Object(a["a"])(i.a.mark((function t(e){var n,r=arguments;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:"_",t.next=3,Object(h["a"])(e);case 3:return t.abrupt("return",window[n]);case 4:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"node",value:function(){var t=Object(a["a"])(i.a.mark((function t(e){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){var i=n("24f8"),a="",s=i.get(e,(function(e){e.on("data",(function(t){a+=t.toString()})),e.on("end",(function(){t(a)}))}));s.on("error",r)})));case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"wss",value:function(){var t=Object(a["a"])(i.a.mark((function t(e,n){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=n.replace("hq_str_",""),t.abrupt("return",this._wss.response(n));case 2:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()}]),t}();n("caad"),n("fb6a"),n("2532");function f(t){"1.000001"===t&&(t="sh000001");var e=t.slice(0,2).toLowerCase();return["sz","00","30","12"].includes(e)?"sz":["sh","60","68","11"].includes(e)?"sh":void 0}function p(t){var e=t.replace(/\d+/g,"").toLowerCase(),n=["ss","zn","al","cu","rb","bu","pb","hc","fu","ni","au","ru","wr","ag","sp","sn"],r=["nr","sc","lu","bc"],i=["m","b","a","i","v","l","jd","eb","pp","c","cs","jm","rr","j","y","pg","fb","p","eg","lh","bb"],a=["rm","ma","sa","cj","cy","fg","rs","ri","cf","wh","jr","sm","sr","ta","zc","pf","oi","sf","ap","pk","ur"],s=["tm","tf","ts","ic","if","ih"];return[].concat(n,r,i,a,s).includes(e)}n("1276");var d=function(){function t(e){Object(s["a"])(this,t),"1.000001"===e&&(e="sh000001"),this.code=e}return Object(o["a"])(t,[{key:"use",value:function(t){this.request=t}},{key:"handle",value:function(){var t=Object(a["a"])(i.a.mark((function t(e,n){var r;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.request.capture(e,"hq_str_"+n);case 2:return r=t.sent,r.includes('"')&&(r=r.split('"')[1]),t.abrupt("return",r.split(","));case 5:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"captureCnStock",value:function(){var t=Object(a["a"])(i.a.mark((function t(){var e,n,r;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.code.toLowerCase(),n="http://hq.sinajs.cn/list=".concat(e),t.next=4,this.handle(n,e);case 4:return r=t.sent,t.abrupt("return",{name:r[0],open:r[1],preclose:r[2],close:r[3],high:r[4],low:r[5],volume:r[8]});case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"captureCnFuture",value:function(){var t=Object(a["a"])(i.a.mark((function t(){var e,n,r;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="nf_".concat(this.code.toUpperCase()),n="http://hq.sinajs.cn/list=".concat(e),t.next=4,this.handle(n,e);case 4:if(r=t.sent,50!==r.length){t.next=7;break}return t.abrupt("return",{name:r[49],open:r[0],preclose:r[14],close:r[3],high:r[1],low:r[2],volume:r[4]});case 7:return t.abrupt("return",{name:r[0],open:r[2],preclose:r[10],close:r[8],high:r[3],low:r[4],volume:r[14]});case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"captureGlobalFuture",value:function(){var t=Object(a["a"])(i.a.mark((function t(){var e,n,r;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="hf_".concat(this.code.toUpperCase()),n="http://hq.sinajs.cn/list=".concat(e),t.next=4,this.handle(n,e);case 4:return r=t.sent,t.abrupt("return",{name:r[13],open:r[8],preclose:r[7],close:r[0],high:r[4],low:r[5],volume:r[14]});case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),t}(),v=(n("a4d3"),n("e01a"),n("d28b"),n("3ca3"),n("ddb0"),function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;Object(s["a"])(this,t),Object(c["a"])(this,"code",void 0),Object(c["a"])(this,"level",void 0),Object(c["a"])(this,"length",100),Object(c["a"])(this,"request",void 0),this.code=e,this.level=n,this.length=r}return Object(o["a"])(t,[{key:"use",value:function(t){this.request=t}},{key:"captureCnStock",value:function(){var e=Object(a["a"])(i.a.mark((function e(){var n;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.level=t.LEVEL_CN_STOCK[this.level],n="https://quotes.sina.cn/cn/api/jsonp.php/_=/CN_MarketDataService.getKLineData?symbol=".concat(this.code,"&scale=").concat(this.level,"&ma=no&datalen=").concat(this.length),e.abrupt("return",this.handle(n));case 3:case"end":return e.stop()}}),e,this)})));function n(){return e.apply(this,arguments)}return n}()},{key:"captureCnFuture",value:function(){var e=Object(a["a"])(i.a.mark((function e(){var n,r;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.LEVEL_CN_FUTURE[this.level],r="https://stock2.finance.sina.com.cn/futures/api/jsonp.php/_=/InnerFuturesNewService.getFewMinLine?symbol=".concat(this.code,"&type=").concat(n),["day","week","month"].includes(this.level)&&(r="https://stock2.finance.sina.com.cn/futures/api/jsonp.php/_=/InnerFuturesNewService.getDailyKLine?symbol=".concat(this.code)),e.abrupt("return",this.handle(r));case 4:case"end":return e.stop()}}),e,this)})));function n(){return e.apply(this,arguments)}return n}()},{key:"captureGlobalFuture",value:function(){var e=Object(a["a"])(i.a.mark((function e(){var n,r;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.LEVEL_GLOBAL_FUTURE[this.level],r="https://gu.sina.cn/ft/api/jsonp.php/_=/GlobalService.getMink?symbol=".concat(this.code,"&type=").concat(n),["day","week","month"].includes(this.level)&&(r="https://stock2.finance.sina.com.cn/futures/api/jsonp.php/_=/GlobalFuturesService.getGlobalFuturesDailyKLine?symbol=".concat(this.code)),e.abrupt("return",this.handle(r));case 4:case"end":return e.stop()}}),e,this)})));function n(){return e.apply(this,arguments)}return n}()},{key:"handle",value:function(){var t=Object(a["a"])(i.a.mark((function t(e){var n,r,a,s,o,c,u,h,l,f;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=[],t.next=3,this.request.capture(e,"_");case 3:for(r=t.sent,"string"===typeof r&&(a="/*<script>location.href='//sina.com';<\/script>*/_=(",s=");",r=r.slice(a.length+1,-s.length),r=JSON.parse(r)),o=!0,c=!1,u=void 0,t.prev=8,h=r[Symbol.iterator]();!(o=(l=h.next()).done);o=!0)f=l.value,n.push({day:f.d||f.date||f.day,close:f.c||f.close,open:f.o||f.open,high:f.h||f.high,low:f.l||f.low,volume:f.v||f.volume});t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](8),c=!0,u=t.t0;case 16:t.prev=16,t.prev=17,o||null==h["return"]||h["return"]();case 19:if(t.prev=19,!c){t.next=22;break}throw u;case 22:return t.finish(19);case 23:return t.finish(16);case 24:return t.abrupt("return",n);case 25:case"end":return t.stop()}}),t,this,[[8,12,16,24],[17,,19,23]])})));function e(e){return t.apply(this,arguments)}return e}()}]),t}());Object(c["a"])(v,"LEVEL_CN_STOCK",{min1:"1",min5:"5",min15:"15",min30:"30",min60:"60",min120:"120",min240:"240",day:"240",week:"1200",month:"7200",year:"86400"}),Object(c["a"])(v,"LEVEL_CN_FUTURE",{min1:"1",min5:"5",min15:"15",min30:"30",min60:"60",min120:"120",min240:"240",day:"day",week:"week",month:"month",year:"year"}),Object(c["a"])(v,"LEVEL_GLOBAL_FUTURE",{min1:"1",min5:"5",min15:"15",min30:"30",min60:"60",min120:"120",min240:"240",day:"day",week:"week",month:"month",year:"year"});n("a15b"),n("d81d"),n("2ca0"),n("4795");var b=n("3835"),y=function(){function t(){Object(s["a"])(this,t),Object(c["a"])(this,"codes",void 0),Object(c["a"])(this,"wss",void 0),Object(c["a"])(this,"url",void 0),Object(c["a"])(this,"pool",{}),Object(c["a"])(this,"callbacks",{open:null,message:null,close:null}),Object(c["a"])(this,"request",new l),this.request.use("wss",this)}return Object(o["a"])(t,[{key:"code2symbol",value:function(t){return f(t)?t:p(t)?"nf_"+t.toUpperCase():"hf_"+t.toUpperCase()}},{key:"symbol2code",value:function(t){return t.startsWith("nf_")?t.replace("nf_","").toLowerCase():t.startsWith("hf_")?t.replace("hf_","").toLowerCase():t.toLowerCase()}},{key:"start",value:function(){var t=Object(a["a"])(i.a.mark((function t(e){var n,r,a,s=this;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.length){t.next=2;break}return t.abrupt("return");case 2:this.codes=e,n=e.map((function(t){return s.code2symbol(t)})),r="http:"===location.protocol?"ws://w.sinajs.cn/wskt":"wss://w.sinajs.cn/wskt",a="?list="+n.join(","),this.url=r+a,this.wss=new WebSocket(this.url),this.wss.onopen=function(t){console.log("#SinaStockWss# ".concat(s.url," connection open ...")),s.callbacks.open&&s.callbacks.open()},this.wss.onmessage=function(t){s.onMessage(t.data),s.callbacks.message&&s.callbacks.message()},this.wss.onclose=function(t){console.log("#SinaStockWss# ".concat(s.url," connection close ..."),t.code,t.reason,t.wasClean),s.callbacks.close&&s.callbacks.close(),console.log("#SinaStockWss# wss restart ..."),s.start(s.codes)},this.intervalOfPing=setInterval((function(){s.wss.send("")}),6e4);case 12:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"onMessage",value:function(){var t=Object(a["a"])(i.a.mark((function t(e){var n,r,a,s;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.split("="),r=Object(b["a"])(n,2),a=r[0],s=r[1],this.pool[a]=s;case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"on",value:function(t,e){this.callbacks[t]=e}},{key:"isRunning",value:function(){return this.wss&&1===+this.wss.readyState}},{key:"stop",value:function(){var t=Object(a["a"])(i.a.mark((function t(){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.codes=[],this.intervalOfPing&&clearInterval(this.intervalOfPing),t.abrupt("return",this.wss&&this.wss.close());case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"response",value:function(){var t=Object(a["a"])(i.a.mark((function t(e){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.pool[e]);case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"ohlcvs",value:function(){var t=Object(a["a"])(i.a.mark((function t(){var e,n,r;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e={},t.t0=i.a.keys(this.pool);case 2:if((t.t1=t.t0()).done){t.next=10;break}return n=t.t1.value,r=this.symbol2code(n),t.next=7,this.ohlcv(r);case 7:e[r]=t.sent,t.next=2;break;case 10:return t.abrupt("return",e);case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"ohlcv",value:function(){var t=Object(a["a"])(i.a.mark((function t(e){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.captureStock(e);case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t["catch"](0),console.warn("#SinaWssCrawler# ohlcv ",t.t0);case 9:case"end":return t.stop()}}),t,this,[[0,6]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"captureStock",value:function(){var t=Object(a["a"])(i.a.mark((function t(e){var n;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,"1.000001"===e&&(e="sh000001"),n=new d(e),n.use(this.request),!f(e)){t.next=6;break}return t.abrupt("return",n.captureCnStock());case 6:if(!p(e)){t.next=8;break}return t.abrupt("return",n.captureCnFuture());case 8:return t.abrupt("return",n.captureGlobalFuture());case 11:t.prev=11,t.t0=t["catch"](0),console.warn("#SinaWssCrawler# capture ".concat(e," fail"),t.t0);case 14:case"end":return t.stop()}}),t,this,[[0,11]])})));function e(e){return t.apply(this,arguments)}return e}()}]),t}(),m=n("c1df"),g=n.n(m),w=n("7366"),k=n.n(w),x=function(){function t(e,n){var r=this;Object(s["a"])(this,t),Object(c["a"])(this,"code",void 0),Object(c["a"])(this,"wss",new y),Object(c["a"])(this,"ohlcvOfLastKline",null),Object(c["a"])(this,"klines",[]),this.code=e,n&&(this.klines=k()(n)),this.wss.on("message",(function(){return r.onMessage.apply(r,arguments)}))}return Object(o["a"])(t,[{key:"start",value:function(){var t=Object(a["a"])(i.a.mark((function t(){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.code){t.next=2;break}return t.abrupt("return");case 2:if(this.klines.length){t.next=6;break}return t.next=5,this.load();case 5:this.klines=t.sent;case 6:return this.wss.start([this.code]),t.abrupt("return",this.wss);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"stop",value:function(){var t=Object(a["a"])(i.a.mark((function t(){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.code=null,this.wss.stop();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"load",value:function(){var t=Object(a["a"])(i.a.mark((function t(){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S.captureKline(this.code,"min1",9999);case 2:return this.klines=t.sent,t.abrupt("return",this.klines);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"all",value:function(){var t=Object(a["a"])(i.a.mark((function t(){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.klines);case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"last3",value:function(){var t=Object(a["a"])(i.a.mark((function t(){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.klines.slice(-3));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"merge",value:function(t,e){t&&e&&(t.high=""+Math.max(t.high,e.close),t.low=""+Math.min(t.low,e.close),t.volume=""+(e.volume-this.ohlcvOfLastKline.volume),t.close=""+e.close)}},{key:"onMessage",value:function(){var t=Object(a["a"])(i.a.mark((function t(){var e,n,r,a,s;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.wss.ohlcv(this.code);case 2:if(e=t.sent,n=this.klines[this.klines.length-1],this.ohlcvOfLastKline||(this.ohlcvOfLastKline=e),!e||!n){t.next=13;break}if(r=g()().format("YYYYMMDDHHmm"),a=g()(n.day).format("YYYYMMDDHHmm"),s=g()(n.day).add(1,"minutes").format("YYYYMMDDHHmm"),r!==a){t.next=12;break}return this.merge(n,e),t.abrupt("return");case 12:r===s&&(this.ohlcvOfLastKline=e,this.klines.push({day:g()().format("YYYY-MM-DD HH:mm:00"),open:e.close,close:e.close,high:e.close,low:e.close,volume:"0"}));case 13:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),t}(),O=function(){function t(){Object(s["a"])(this,t),Object(c["a"])(this,"request",new l),Object(c["a"])(this,"wss",new y),Object(c["a"])(this,"wssKlineGenerator",{})}return Object(o["a"])(t,[{key:"use",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"jsonp";this.request.use(t)}},{key:"startWss",value:function(){var t=Object(a["a"])(i.a.mark((function t(e){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.wss.start(e);case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"stopWss",value:function(){var t=Object(a["a"])(i.a.mark((function t(){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.wss.stop();case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"startWssKline",value:function(){var t=Object(a["a"])(i.a.mark((function t(e,n){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.wssKlineGenerator[e]=new x(e,n),t.abrupt("return",this.wssKlineGenerator[e].start());case 2:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"stopWssKline",value:function(){var t=Object(a["a"])(i.a.mark((function t(e){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.wssKlineGenerator[e]&&this.wssKlineGenerator[e].stop();case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"captureStock",value:function(){var t=Object(a["a"])(i.a.mark((function t(e){var n,r;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,"1.000001"===e&&(e="sh000001"),!this.wss.isRunning()){t.next=8;break}return t.next=5,this.wss.ohlcv(e);case 5:if(n=t.sent,!n){t.next=8;break}return t.abrupt("return",n);case 8:if(r=new d(e),r.use(this.request),console.log("#SinaStockCrawler# capture ".concat(e," ")),!f(e)){t.next=13;break}return t.abrupt("return",r.captureCnStock());case 13:if(!p(e)){t.next=15;break}return t.abrupt("return",r.captureCnFuture());case 15:return t.abrupt("return",r.captureGlobalFuture());case 18:t.prev=18,t.t0=t["catch"](0),console.warn("#SinaStockCrawler# capture ".concat(e," fail"),t.t0);case 21:case"end":return t.stop()}}),t,this,[[0,18]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"captureKline",value:function(){var t=Object(a["a"])(i.a.mark((function t(e,n,r){var a;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,"1.000001"===e&&(e="sh000001"),console.log("#SinaKLineCrawler# capture kline ".concat(e," ").concat(n," ").concat(r," ...")),!("min1"===n&&r<10)){t.next=6;break}if(!this.wssKlineGenerator[e]){t.next=6;break}return t.abrupt("return",this.wssKlineGenerator[e].last3());case 6:if(a=new v(e,n,r),a.use(this.request),!f(e)){t.next=10;break}return t.abrupt("return",a.captureCnStock());case 10:if(!p(e)){t.next=12;break}return t.abrupt("return",a.captureCnFuture());case 12:return t.abrupt("return",a.captureGlobalFuture());case 15:t.prev=15,t.t0=t["catch"](0),console.warn("#SinaKLineCrawler# capture kline ".concat(e," ").concat(n," ").concat(r," fail"),t.t0);case 18:case"end":return t.stop()}}),t,this,[[0,15]])})));function e(e,n,r){return t.apply(this,arguments)}return e}()}]),t}(),S=e["a"]=new O},"3fb5":function(t,e){"function"===typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},"429b":function(t,e,n){t.exports=n("faa1").EventEmitter},4362:function(t,e,n){e.nextTick=function(t){var e=Array.prototype.slice.call(arguments);e.shift(),setTimeout((function(){t.apply(null,e)}),0)},e.platform=e.arch=e.execPath=e.title="browser",e.pid=1,e.browser=!0,e.env={},e.argv=[],e.binding=function(t){throw new Error("No such module. (Possibly not yet loaded)")},function(){var t,r="/";e.cwd=function(){return r},e.chdir=function(e){t||(t=n("df7c")),r=t.resolve(e,r)}}(),e.exit=e.kill=e.umask=e.dlopen=e.uptime=e.memoryUsage=e.uvCounters=function(){},e.features={}},"45eb":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("7e84");function i(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=Object(r["a"])(t),null===t)break;return t}function a(t,e,n){return a="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=i(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(n):a.value}},a(t,e,n||t)}},4681:function(t,e,n){"use strict";var r=n("966d");function i(t,e){var n=this,i=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return i||a?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||r.nextTick(s,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?(r.nextTick(s,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)})),this)}function a(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function s(t,e){t.emit("error",e)}t.exports={destroy:i,undestroy:a}},4712:function(t,e,n){"use strict";var r=n("a34a"),i=n.n(r),a=(n("96cf"),n("1da1")),s=n("d4ec"),o=n("bee2"),c=n("ade3"),u=n("b868"),h=n("1797"),l=function(){function t(e,n,r){Object(s["a"])(this,t),Object(c["a"])(this,"url","http://apigateway.jianjiaoshuju.com/api/v_1/yzmCustomized.html"),Object(c["a"])(this,"appCode","8D0E01E33D6495EF845870AD2E2888E2"),Object(c["a"])(this,"appKey","AKID744e8ae785a48ff9417ba04aa8d38a29"),Object(c["a"])(this,"appSecret","aa6d3237789d82ca16cd13291e669964"),this.appCode=e,this.appKey=n,this.appSecret=r}return Object(o["a"])(t,[{key:"load",value:function(){var t=Object(a["a"])(i.a.mark((function t(){var e,n,r,a;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{h["a"].captcha&&(e=h["a"].captcha,n=e.appCode,r=e.appKey,a=e.appSecret,this.appCode=n,this.appKey=r,this.appSecret=a)}catch(i){console.warn("#Captcha load#",i)}case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"recognize",value:function(){var t=Object(a["a"])(i.a.mark((function t(e){var n,r,a,s,o,c=arguments;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:"dn",r=c.length>2&&void 0!==c[2]?c[2]:4,t.prev=2,e){t.next=5;break}return t.abrupt("return");case 5:return a={appCode:this.appCode,appKey:this.appKey,appSecret:this.appSecret},s={pri_id:n,v_pic:e,number:r},t.next=9,u["a"].post(this.url,s,{headers:a,dataType:"json"});case 9:if(o=t.sent,console.log("#Captcha# recognize ",o["v_code"],o["msg"],o["errCode"]),!o["v_code"]){t.next=15;break}return t.abrupt("return",o["v_code"]);case 15:throw o;case 16:t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](2),console.warn("#Captcha#",t.t0);case 21:case"end":return t.stop()}}),t,this,[[2,18]])})));function e(e){return t.apply(this,arguments)}return e}()}]),t}();Object(c["a"])(l,"TYPE",{ne:"ne",dn:"dn",de:"de"}),e["a"]=new l},"498a":function(t,e,n){"use strict";var r=n("23e7"),i=n("58a8").trim,a=n("c8d2");r({target:"String",proto:!0,forced:a("trim")},{trim:function(){return i(this)}})},"4df4":function(t,e,n){"use strict";var r=n("0366"),i=n("7b0b"),a=n("9bdd"),s=n("e95a"),o=n("50c4"),c=n("8418"),u=n("35a1");t.exports=function(t){var e,n,h,l,f,p,d=i(t),v="function"==typeof this?this:Array,b=arguments.length,y=b>1?arguments[1]:void 0,m=void 0!==y,g=u(d),w=0;if(m&&(y=r(y,b>2?arguments[2]:void 0,2)),void 0==g||v==Array&&s(g))for(e=o(d.length),n=new v(e);e>w;w++)p=m?y(d[w],w):d[w],c(n,w,p);else for(l=g.call(d),f=l.next,n=new v;!(h=f.call(l)).done;w++)p=m?a(l,y,[h.value,w],!0):h.value,c(n,w,p);return n.length=w,n}},"53a8":function(t,e){t.exports=r;var n=Object.prototype.hasOwnProperty;function r(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var i in r)n.call(r,i)&&(t[i]=r[i])}return t}},"5e1a":function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n("8707").Buffer,a=n(2);function s(t,e,n){t.copy(e,n)}t.exports=function(){function t(){r(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";var e=this.head,n=""+e.data;while(e=e.next)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;var e=i.allocUnsafe(t>>>0),n=this.head,r=0;while(n)s(n.data,e,r),r+=n.data.length,n=n.next;return e},t}(),a&&a.inspect&&a.inspect.custom&&(t.exports.prototype[a.inspect.custom]=function(){var t=a.inspect({length:this.length});return this.constructor.name+" "+t})},"5fb2":function(t,e,n){"use strict";var r=2147483647,i=36,a=1,s=26,o=38,c=700,u=72,h=128,l="-",f=/[^\0-\u007E]/,p=/[.\u3002\uFF0E\uFF61]/g,d="Overflow: input needs wider integers to process",v=i-a,b=Math.floor,y=String.fromCharCode,m=function(t){var e=[],n=0,r=t.length;while(n<r){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=t.charCodeAt(n++);56320==(64512&a)?e.push(((1023&i)<<10)+(1023&a)+65536):(e.push(i),n--)}else e.push(i)}return e},g=function(t){return t+22+75*(t<26)},w=function(t,e,n){var r=0;for(t=n?b(t/c):t>>1,t+=b(t/e);t>v*s>>1;r+=i)t=b(t/v);return b(r+(v+1)*t/(t+o))},k=function(t){var e=[];t=m(t);var n,o,c=t.length,f=h,p=0,v=u;for(n=0;n<t.length;n++)o=t[n],o<128&&e.push(y(o));var k=e.length,x=k;k&&e.push(l);while(x<c){var O=r;for(n=0;n<t.length;n++)o=t[n],o>=f&&o<O&&(O=o);var S=x+1;if(O-f>b((r-p)/S))throw RangeError(d);for(p+=(O-f)*S,f=O,n=0;n<t.length;n++){if(o=t[n],o<f&&++p>r)throw RangeError(d);if(o==f){for(var j=p,T=i;;T+=i){var E=T<=v?a:T>=v+s?s:T-v;if(j<E)break;var _=j-E,R=i-E;e.push(y(g(E+_%R))),j=b(_/R)}e.push(y(g(j))),v=w(p,S,x==k),p=0,++x}}++p,++f}return e.join("")};t.exports=function(t){var e,n,r=[],i=t.toLowerCase().replace(p,".").split(".");for(e=0;e<i.length;e++)n=i[e],r.push(f.test(n)?"xn--"+k(n):n);return r.join(".")}},6062:function(t,e,n){"use strict";var r=n("6d61"),i=n("6566");t.exports=r("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},6304:function(t,e,n){n("d3b7"),window.Email={send:function(t){return new Promise((function(e,n){t.nocache=Math.floor(1e6*Math.random()+1),t.Action="Send";var r=JSON.stringify(t);Email.ajaxPost("https://smtpjs.com/v3/smtpjs.aspx?",r,(function(t){e(t)}))}))},ajaxPost:function(t,e,n){var r=Email.createCORSRequest("POST",t);r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.onload=function(){var t=r.responseText;null!=n&&n(t)},r.send(e)},ajax:function(t,e){var n=Email.createCORSRequest("GET",t);n.onload=function(){var t=n.responseText;null!=e&&e(t)},n.send()},createCORSRequest:function(t,e){var n=new XMLHttpRequest;return"withCredentials"in n?n.open(t,e,!0):"undefined"!=typeof XDomainRequest?(n=new XDomainRequest).open(t,e):n=null,n}}},6566:function(t,e,n){"use strict";var r=n("9bf2").f,i=n("7c73"),a=n("e2cc"),s=n("0366"),o=n("19aa"),c=n("2266"),u=n("7dd0"),h=n("2626"),l=n("83ab"),f=n("f183").fastKey,p=n("69f3"),d=p.set,v=p.getterFor;t.exports={getConstructor:function(t,e,n,u){var h=t((function(t,r){o(t,h,e),d(t,{type:e,index:i(null),first:void 0,last:void 0,size:0}),l||(t.size=0),void 0!=r&&c(r,t[u],t,n)})),p=v(e),b=function(t,e,n){var r,i,a=p(t),s=y(t,e);return s?s.value=n:(a.last=s={index:i=f(e,!0),key:e,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=s),r&&(r.next=s),l?a.size++:t.size++,"F"!==i&&(a.index[i]=s)),t},y=function(t,e){var n,r=p(t),i=f(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return a(h.prototype,{clear:function(){var t=this,e=p(t),n=e.index,r=e.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete n[r.index],r=r.next;e.first=e.last=void 0,l?e.size=0:t.size=0},delete:function(t){var e=this,n=p(e),r=y(e,t);if(r){var i=r.next,a=r.previous;delete n.index[r.index],r.removed=!0,a&&(a.next=i),i&&(i.previous=a),n.first==r&&(n.first=i),n.last==r&&(n.last=a),l?n.size--:e.size--}return!!r},forEach:function(t){var e,n=p(this),r=s(t,arguments.length>1?arguments[1]:void 0,3);while(e=e?e.next:n.first){r(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!y(this,t)}}),a(h.prototype,n?{get:function(t){var e=y(this,t);return e&&e.value},set:function(t,e){return b(this,0===t?0:t,e)}}:{add:function(t){return b(this,t=0===t?0:t,t)}}),l&&r(h.prototype,"size",{get:function(){return p(this).size}}),h},setStrong:function(t,e,n){var r=e+" Iterator",i=v(e),a=v(r);u(t,e,(function(t,e){d(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){var t=a(this),e=t.kind,n=t.last;while(n&&n.removed)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),h(e)}}},"6d61":function(t,e,n){"use strict";var r=n("23e7"),i=n("da84"),a=n("94ca"),s=n("6eeb"),o=n("f183"),c=n("2266"),u=n("19aa"),h=n("861d"),l=n("d039"),f=n("1c7e"),p=n("d44e"),d=n("7156");t.exports=function(t,e,n){var v=-1!==t.indexOf("Map"),b=-1!==t.indexOf("Weak"),y=v?"set":"add",m=i[t],g=m&&m.prototype,w=m,k={},x=function(t){var e=g[t];s(g,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(b&&!h(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return b&&!h(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(b&&!h(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(a(t,"function"!=typeof m||!(b||g.forEach&&!l((function(){(new m).entries().next()})))))w=n.getConstructor(e,t,v,y),o.REQUIRED=!0;else if(a(t,!0)){var O=new w,S=O[y](b?{}:-0,1)!=O,j=l((function(){O.has(1)})),T=f((function(t){new m(t)})),E=!b&&l((function(){var t=new m,e=5;while(e--)t[y](e,e);return!t.has(-0)}));T||(w=e((function(e,n){u(e,w,t);var r=d(new m,e,w);return void 0!=n&&c(n,r[y],r,v),r})),w.prototype=g,g.constructor=w),(j||E)&&(x("delete"),x("has"),v&&x("get")),(E||S)&&x(y),b&&g.clear&&delete g.clear}return k[t]=w,r({global:!0,forced:w!=m},k),p(w,t),b||n.setStrong(w,t,v),w}},"720d":function(t,e,n){(function(t,n){n(e)})(0,(function(t){"use strict";var e="0123456789abcdefghijklmnopqrstuvwxyz";function n(t){return e.charAt(t)}function r(t,e){return t&e}function i(t,e){return t|e}function a(t,e){return t^e}function s(t,e){return t&~e}function o(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function c(t){var e=0;while(0!=t)t&=t-1,++e;return e}var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h="=";function l(t){var e,n,r="";for(e=0;e+3<=t.length;e+=3)n=parseInt(t.substring(e,e+3),16),r+=u.charAt(n>>6)+u.charAt(63&n);e+1==t.length?(n=parseInt(t.substring(e,e+1),16),r+=u.charAt(n<<2)):e+2==t.length&&(n=parseInt(t.substring(e,e+2),16),r+=u.charAt(n>>2)+u.charAt((3&n)<<4));while((3&r.length)>0)r+=h;return r}function f(t){var e,r="",i=0,a=0;for(e=0;e<t.length;++e){if(t.charAt(e)==h)break;var s=u.indexOf(t.charAt(e));s<0||(0==i?(r+=n(s>>2),a=3&s,i=1):1==i?(r+=n(a<<2|s>>4),a=15&s,i=2):2==i?(r+=n(a),r+=n(s>>2),a=3&s,i=3):(r+=n(a<<2|s>>4),r+=n(15&s),i=0))}return 1==i&&(r+=n(a<<2)),r}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var p,d=function(t,e){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},d(t,e)};function v(t,e){function n(){this.constructor=t}d(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var b,y={decode:function(t){var e;if(void 0===p){var n="0123456789ABCDEF",r=" \f\n\r\t \u2028\u2029";for(p={},e=0;e<16;++e)p[n.charAt(e)]=e;for(n=n.toLowerCase(),e=10;e<16;++e)p[n.charAt(e)]=e;for(e=0;e<r.length;++e)p[r.charAt(e)]=-1}var i=[],a=0,s=0;for(e=0;e<t.length;++e){var o=t.charAt(e);if("="==o)break;if(o=p[o],-1!=o){if(void 0===o)throw new Error("Illegal character at offset "+e);a|=o,++s>=2?(i[i.length]=a,a=0,s=0):a<<=4}}if(s)throw new Error("Hex encoding incomplete: 4 bits missing");return i}},m={decode:function(t){var e;if(void 0===b){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r="= \f\n\r\t \u2028\u2029";for(b=Object.create(null),e=0;e<64;++e)b[n.charAt(e)]=e;for(e=0;e<r.length;++e)b[r.charAt(e)]=-1}var i=[],a=0,s=0;for(e=0;e<t.length;++e){var o=t.charAt(e);if("="==o)break;if(o=b[o],-1!=o){if(void 0===o)throw new Error("Illegal character at offset "+e);a|=o,++s>=4?(i[i.length]=a>>16,i[i.length]=a>>8&255,i[i.length]=255&a,a=0,s=0):a<<=6}}switch(s){case 1:throw new Error("Base64 encoding incomplete: at least 2 bits missing");case 2:i[i.length]=a>>10;break;case 3:i[i.length]=a>>16,i[i.length]=a>>8&255;break}return i},re:/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,unarmor:function(t){var e=m.re.exec(t);if(e)if(e[1])t=e[1];else{if(!e[2])throw new Error("RegExp out of sync");t=e[2]}return m.decode(t)}},g=1e13,w=function(){function t(t){this.buf=[+t||0]}return t.prototype.mulAdd=function(t,e){var n,r,i=this.buf,a=i.length;for(n=0;n<a;++n)r=i[n]*t+e,r<g?e=0:(e=0|r/g,r-=e*g),i[n]=r;e>0&&(i[n]=e)},t.prototype.sub=function(t){var e,n,r=this.buf,i=r.length;for(e=0;e<i;++e)n=r[e]-t,n<0?(n+=g,t=1):t=0,r[e]=n;while(0===r[r.length-1])r.pop()},t.prototype.toString=function(t){if(10!=(t||10))throw new Error("only base 10 is supported");for(var e=this.buf,n=e[e.length-1].toString(),r=e.length-2;r>=0;--r)n+=(g+e[r]).toString().substring(1);return n},t.prototype.valueOf=function(){for(var t=this.buf,e=0,n=t.length-1;n>=0;--n)e=e*g+t[n];return e},t.prototype.simplify=function(){var t=this.buf;return 1==t.length?t[0]:this},t}(),k="…",x=/^(\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,O=/^(\d\d\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/;function S(t,e){return t.length>e&&(t=t.substring(0,e)+k),t}var j,T=function(){function t(e,n){this.hexDigits="0123456789ABCDEF",e instanceof t?(this.enc=e.enc,this.pos=e.pos):(this.enc=e,this.pos=n)}return t.prototype.get=function(t){if(void 0===t&&(t=this.pos++),t>=this.enc.length)throw new Error("Requesting byte offset "+t+" on a stream of length "+this.enc.length);return"string"===typeof this.enc?this.enc.charCodeAt(t):this.enc[t]},t.prototype.hexByte=function(t){return this.hexDigits.charAt(t>>4&15)+this.hexDigits.charAt(15&t)},t.prototype.hexDump=function(t,e,n){for(var r="",i=t;i<e;++i)if(r+=this.hexByte(this.get(i)),!0!==n)switch(15&i){case 7:r+="  ";break;case 15:r+="\n";break;default:r+=" "}return r},t.prototype.isASCII=function(t,e){for(var n=t;n<e;++n){var r=this.get(n);if(r<32||r>176)return!1}return!0},t.prototype.parseStringISO=function(t,e){for(var n="",r=t;r<e;++r)n+=String.fromCharCode(this.get(r));return n},t.prototype.parseStringUTF=function(t,e){for(var n="",r=t;r<e;){var i=this.get(r++);n+=i<128?String.fromCharCode(i):i>191&&i<224?String.fromCharCode((31&i)<<6|63&this.get(r++)):String.fromCharCode((15&i)<<12|(63&this.get(r++))<<6|63&this.get(r++))}return n},t.prototype.parseStringBMP=function(t,e){for(var n,r,i="",a=t;a<e;)n=this.get(a++),r=this.get(a++),i+=String.fromCharCode(n<<8|r);return i},t.prototype.parseTime=function(t,e,n){var r=this.parseStringISO(t,e),i=(n?x:O).exec(r);return i?(n&&(i[1]=+i[1],i[1]+=+i[1]<70?2e3:1900),r=i[1]+"-"+i[2]+"-"+i[3]+" "+i[4],i[5]&&(r+=":"+i[5],i[6]&&(r+=":"+i[6],i[7]&&(r+="."+i[7]))),i[8]&&(r+=" UTC","Z"!=i[8]&&(r+=i[8],i[9]&&(r+=":"+i[9]))),r):"Unrecognized time: "+r},t.prototype.parseInteger=function(t,e){var n,r=this.get(t),i=r>127,a=i?255:0,s="";while(r==a&&++t<e)r=this.get(t);if(n=e-t,0===n)return i?-1:0;if(n>4){s=r,n<<=3;while(0==(128&(+s^a)))s=+s<<1,--n;s="("+n+" bit)\n"}i&&(r-=256);for(var o=new w(r),c=t+1;c<e;++c)o.mulAdd(256,this.get(c));return s+o.toString()},t.prototype.parseBitString=function(t,e,n){for(var r=this.get(t),i=(e-t-1<<3)-r,a="("+i+" bit)\n",s="",o=t+1;o<e;++o){for(var c=this.get(o),u=o==e-1?r:0,h=7;h>=u;--h)s+=c>>h&1?"1":"0";if(s.length>n)return a+S(s,n)}return a+s},t.prototype.parseOctetString=function(t,e,n){if(this.isASCII(t,e))return S(this.parseStringISO(t,e),n);var r=e-t,i="("+r+" byte)\n";n/=2,r>n&&(e=t+n);for(var a=t;a<e;++a)i+=this.hexByte(this.get(a));return r>n&&(i+=k),i},t.prototype.parseOID=function(t,e,n){for(var r="",i=new w,a=0,s=t;s<e;++s){var o=this.get(s);if(i.mulAdd(128,127&o),a+=7,!(128&o)){if(""===r)if(i=i.simplify(),i instanceof w)i.sub(80),r="2."+i.toString();else{var c=i<80?i<40?0:1:2;r=c+"."+(i-40*c)}else r+="."+i.toString();if(r.length>n)return S(r,n);i=new w,a=0}}return a>0&&(r+=".incomplete"),r},t}(),E=function(){function t(t,e,n,r,i){if(!(r instanceof _))throw new Error("Invalid tag value.");this.stream=t,this.header=e,this.length=n,this.tag=r,this.sub=i}return t.prototype.typeName=function(){switch(this.tag.tagClass){case 0:switch(this.tag.tagNumber){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString"}return"Universal_"+this.tag.tagNumber.toString();case 1:return"Application_"+this.tag.tagNumber.toString();case 2:return"["+this.tag.tagNumber.toString()+"]";case 3:return"Private_"+this.tag.tagNumber.toString()}},t.prototype.content=function(t){if(void 0===this.tag)return null;void 0===t&&(t=1/0);var e=this.posContent(),n=Math.abs(this.length);if(!this.tag.isUniversal())return null!==this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(e,e+n,t);switch(this.tag.tagNumber){case 1:return 0===this.stream.get(e)?"false":"true";case 2:return this.stream.parseInteger(e,e+n);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(e,e+n,t);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(e,e+n,t);case 6:return this.stream.parseOID(e,e+n,t);case 16:case 17:return null!==this.sub?"("+this.sub.length+" elem)":"(no elem)";case 12:return S(this.stream.parseStringUTF(e,e+n),t);case 18:case 19:case 20:case 21:case 22:case 26:return S(this.stream.parseStringISO(e,e+n),t);case 30:return S(this.stream.parseStringBMP(e,e+n),t);case 23:case 24:return this.stream.parseTime(e,e+n,23==this.tag.tagNumber)}return null},t.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null===this.sub?"null":this.sub.length)+"]"},t.prototype.toPrettyString=function(t){void 0===t&&(t="");var e=t+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(e+="+"),e+=this.length,this.tag.tagConstructed?e+=" (constructed)":!this.tag.isUniversal()||3!=this.tag.tagNumber&&4!=this.tag.tagNumber||null===this.sub||(e+=" (encapsulates)"),e+="\n",null!==this.sub){t+="  ";for(var n=0,r=this.sub.length;n<r;++n)e+=this.sub[n].toPrettyString(t)}return e},t.prototype.posStart=function(){return this.stream.pos},t.prototype.posContent=function(){return this.stream.pos+this.header},t.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},t.prototype.toHexString=function(){return this.stream.hexDump(this.posStart(),this.posEnd(),!0)},t.decodeLength=function(t){var e=t.get(),n=127&e;if(n==e)return n;if(n>6)throw new Error("Length over 48 bits not supported at position "+(t.pos-1));if(0===n)return null;e=0;for(var r=0;r<n;++r)e=256*e+t.get();return e},t.prototype.getHexStringValue=function(){var t=this.toHexString(),e=2*this.header,n=2*this.length;return t.substr(e,n)},t.decode=function(e){var n;n=e instanceof T?e:new T(e,0);var r=new T(n),i=new _(n),a=t.decodeLength(n),s=n.pos,o=s-r.pos,c=null,u=function(){var e=[];if(null!==a){var r=s+a;while(n.pos<r)e[e.length]=t.decode(n);if(n.pos!=r)throw new Error("Content size is not correct for container starting at offset "+s)}else try{for(;;){var i=t.decode(n);if(i.tag.isEOC())break;e[e.length]=i}a=s-n.pos}catch(o){throw new Error("Exception while decoding undefined length content: "+o)}return e};if(i.tagConstructed)c=u();else if(i.isUniversal()&&(3==i.tagNumber||4==i.tagNumber))try{if(3==i.tagNumber&&0!=n.get())throw new Error("BIT STRINGs with unused bits cannot encapsulate.");c=u();for(var h=0;h<c.length;++h)if(c[h].tag.isEOC())throw new Error("EOC is not supposed to be actual content.")}catch(l){c=null}if(null===c){if(null===a)throw new Error("We can't skip over an invalid tag with undefined length at offset "+s);n.pos=s+Math.abs(a)}return new t(r,o,a,i,c)},t}(),_=function(){function t(t){var e=t.get();if(this.tagClass=e>>6,this.tagConstructed=0!==(32&e),this.tagNumber=31&e,31==this.tagNumber){var n=new w;do{e=t.get(),n.mulAdd(128,127&e)}while(128&e);this.tagNumber=n.simplify()}}return t.prototype.isUniversal=function(){return 0===this.tagClass},t.prototype.isEOC=function(){return 0===this.tagClass&&0===this.tagNumber},t}(),R=0xdeadbeefcafe,C=15715070==(16777215&R),A=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],D=(1<<26)/A[A.length-1],M=function(){function t(t,e,n){null!=t&&("number"==typeof t?this.fromNumber(t,e,n):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}return t.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var r,i=(1<<e)-1,a=!1,s="",o=this.t,c=this.DB-o*this.DB%e;if(o-- >0){c<this.DB&&(r=this[o]>>c)>0&&(a=!0,s=n(r));while(o>=0)c<e?(r=(this[o]&(1<<c)-1)<<e-c,r|=this[--o]>>(c+=this.DB-e)):(r=this[o]>>(c-=e)&i,c<=0&&(c+=this.DB,--o)),r>0&&(a=!0),a&&(s+=n(r))}return a?s:"0"},t.prototype.negate=function(){var e=P();return t.ZERO.subTo(this,e),e},t.prototype.abs=function(){return this.s<0?this.negate():this},t.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;if(e=n-t.t,0!=e)return this.s<0?-e:e;while(--n>=0)if(0!=(e=this[n]-t[n]))return e;return 0},t.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+J(this[this.t-1]^this.s&this.DM)},t.prototype.mod=function(e){var n=P();return this.abs().divRemTo(e,null,n),this.s<0&&n.compareTo(t.ZERO)>0&&e.subTo(n,n),n},t.prototype.modPowInt=function(t,e){var n;return n=t<256||e.isEven()?new q(e):new L(e),this.exp(t,n)},t.prototype.clone=function(){var t=P();return this.copyTo(t),t},t.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},t.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},t.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},t.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},t.prototype.toByteArray=function(){var t=this.t,e=[];e[0]=this.s;var n,r=this.DB-t*this.DB%8,i=0;if(t-- >0){r<this.DB&&(n=this[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);while(t>=0)r<8?(n=(this[t]&(1<<r)-1)<<8-r,n|=this[--t]>>(r+=this.DB-8)):(n=this[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(e[i++]=n)}return e},t.prototype.equals=function(t){return 0==this.compareTo(t)},t.prototype.min=function(t){return this.compareTo(t)<0?this:t},t.prototype.max=function(t){return this.compareTo(t)>0?this:t},t.prototype.and=function(t){var e=P();return this.bitwiseTo(t,r,e),e},t.prototype.or=function(t){var e=P();return this.bitwiseTo(t,i,e),e},t.prototype.xor=function(t){var e=P();return this.bitwiseTo(t,a,e),e},t.prototype.andNot=function(t){var e=P();return this.bitwiseTo(t,s,e),e},t.prototype.not=function(){for(var t=P(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},t.prototype.shiftLeft=function(t){var e=P();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},t.prototype.shiftRight=function(t){var e=P();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},t.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+o(this[t]);return this.s<0?this.t*this.DB:-1},t.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,n=0;n<this.t;++n)t+=c(this[n]^e);return t},t.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)},t.prototype.setBit=function(t){return this.changeBit(t,i)},t.prototype.clearBit=function(t){return this.changeBit(t,s)},t.prototype.flipBit=function(t){return this.changeBit(t,a)},t.prototype.add=function(t){var e=P();return this.addTo(t,e),e},t.prototype.subtract=function(t){var e=P();return this.subTo(t,e),e},t.prototype.multiply=function(t){var e=P();return this.multiplyTo(t,e),e},t.prototype.divide=function(t){var e=P();return this.divRemTo(t,e,null),e},t.prototype.remainder=function(t){var e=P();return this.divRemTo(t,null,e),e},t.prototype.divideAndRemainder=function(t){var e=P(),n=P();return this.divRemTo(t,e,n),[e,n]},t.prototype.modPow=function(t,e){var n,r,i=t.bitLength(),a=G(1);if(i<=0)return a;n=i<18?1:i<48?3:i<144?4:i<768?5:6,r=i<8?new q(e):e.isEven()?new I(e):new L(e);var s=[],o=3,c=n-1,u=(1<<n)-1;if(s[1]=r.convert(this),n>1){var h=P();r.sqrTo(s[1],h);while(o<=u)s[o]=P(),r.mulTo(h,s[o-2],s[o]),o+=2}var l,f,p=t.t-1,d=!0,v=P();i=J(t[p])-1;while(p>=0){i>=c?l=t[p]>>i-c&u:(l=(t[p]&(1<<i+1)-1)<<c-i,p>0&&(l|=t[p-1]>>this.DB+i-c)),o=n;while(0==(1&l))l>>=1,--o;if((i-=o)<0&&(i+=this.DB,--p),d)s[l].copyTo(a),d=!1;else{while(o>1)r.sqrTo(a,v),r.sqrTo(v,a),o-=2;o>0?r.sqrTo(a,v):(f=a,a=v,v=f),r.mulTo(v,s[l],a)}while(p>=0&&0==(t[p]&1<<i))r.sqrTo(a,v),f=a,a=v,v=f,--i<0&&(i=this.DB-1,--p)}return r.revert(a)},t.prototype.modInverse=function(e){var n=e.isEven();if(this.isEven()&&n||0==e.signum())return t.ZERO;var r=e.clone(),i=this.clone(),a=G(1),s=G(0),o=G(0),c=G(1);while(0!=r.signum()){while(r.isEven())r.rShiftTo(1,r),n?(a.isEven()&&s.isEven()||(a.addTo(this,a),s.subTo(e,s)),a.rShiftTo(1,a)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);while(i.isEven())i.rShiftTo(1,i),n?(o.isEven()&&c.isEven()||(o.addTo(this,o),c.subTo(e,c)),o.rShiftTo(1,o)):c.isEven()||c.subTo(e,c),c.rShiftTo(1,c);r.compareTo(i)>=0?(r.subTo(i,r),n&&a.subTo(o,a),s.subTo(c,s)):(i.subTo(r,i),n&&o.subTo(a,o),c.subTo(s,c))}return 0!=i.compareTo(t.ONE)?t.ZERO:c.compareTo(e)>=0?c.subtract(e):c.signum()<0?(c.addTo(e,c),c.signum()<0?c.add(e):c):c},t.prototype.pow=function(t){return this.exp(t,new B)},t.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),n=t.s<0?t.negate():t.clone();if(e.compareTo(n)<0){var r=e;e=n,n=r}var i=e.getLowestSetBit(),a=n.getLowestSetBit();if(a<0)return e;i<a&&(a=i),a>0&&(e.rShiftTo(a,e),n.rShiftTo(a,n));while(e.signum()>0)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),e.compareTo(n)>=0?(e.subTo(n,e),e.rShiftTo(1,e)):(n.subTo(e,n),n.rShiftTo(1,n));return a>0&&n.lShiftTo(a,n),n},t.prototype.isProbablePrime=function(t){var e,n=this.abs();if(1==n.t&&n[0]<=A[A.length-1]){for(e=0;e<A.length;++e)if(n[0]==A[e])return!0;return!1}if(n.isEven())return!1;e=1;while(e<A.length){var r=A[e],i=e+1;while(i<A.length&&r<D)r*=A[i++];r=n.modInt(r);while(e<i)if(r%A[e++]==0)return!1}return n.millerRabin(t)},t.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},t.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},t.prototype.fromString=function(e,n){var r;if(16==n)r=4;else if(8==n)r=3;else if(256==n)r=8;else if(2==n)r=1;else if(32==n)r=5;else{if(4!=n)return void this.fromRadix(e,n);r=2}this.t=0,this.s=0;var i=e.length,a=!1,s=0;while(--i>=0){var o=8==r?255&+e[i]:K(e,i);o<0?"-"==e.charAt(i)&&(a=!0):(a=!1,0==s?this[this.t++]=o:s+r>this.DB?(this[this.t-1]|=(o&(1<<this.DB-s)-1)<<s,this[this.t++]=o>>this.DB-s):this[this.t-1]|=o<<s,s+=r,s>=this.DB&&(s-=this.DB))}8==r&&0!=(128&+e[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),a&&t.ZERO.subTo(this,this)},t.prototype.clamp=function(){var t=this.s&this.DM;while(this.t>0&&this[this.t-1]==t)--this.t},t.prototype.dlShiftTo=function(t,e){var n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s},t.prototype.drShiftTo=function(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s},t.prototype.lShiftTo=function(t,e){for(var n=t%this.DB,r=this.DB-n,i=(1<<r)-1,a=Math.floor(t/this.DB),s=this.s<<n&this.DM,o=this.t-1;o>=0;--o)e[o+a+1]=this[o]>>r|s,s=(this[o]&i)<<n;for(o=a-1;o>=0;--o)e[o]=0;e[a]=s,e.t=this.t+a+1,e.s=this.s,e.clamp()},t.prototype.rShiftTo=function(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)e.t=0;else{var r=t%this.DB,i=this.DB-r,a=(1<<r)-1;e[0]=this[n]>>r;for(var s=n+1;s<this.t;++s)e[s-n-1]|=(this[s]&a)<<i,e[s-n]=this[s]>>r;r>0&&(e[this.t-n-1]|=(this.s&a)<<i),e.t=this.t-n,e.clamp()}},t.prototype.subTo=function(t,e){var n=0,r=0,i=Math.min(t.t,this.t);while(n<i)r+=this[n]-t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){r-=t.s;while(n<this.t)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{r+=this.s;while(n<t.t)r-=t[n],e[n++]=r&this.DM,r>>=this.DB;r-=t.s}e.s=r<0?-1:0,r<-1?e[n++]=this.DV+r:r>0&&(e[n++]=r),e.t=n,e.clamp()},t.prototype.multiplyTo=function(e,n){var r=this.abs(),i=e.abs(),a=r.t;n.t=a+i.t;while(--a>=0)n[a]=0;for(a=0;a<i.t;++a)n[a+r.t]=r.am(0,i[a],n,a,0,r.t);n.s=0,n.clamp(),this.s!=e.s&&t.ZERO.subTo(n,n)},t.prototype.squareTo=function(t){var e=this.abs(),n=t.t=2*e.t;while(--n>=0)t[n]=0;for(n=0;n<e.t-1;++n){var r=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,r,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()},t.prototype.divRemTo=function(e,n,r){var i=e.abs();if(!(i.t<=0)){var a=this.abs();if(a.t<i.t)return null!=n&&n.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=P());var s=P(),o=this.s,c=e.s,u=this.DB-J(i[i.t-1]);u>0?(i.lShiftTo(u,s),a.lShiftTo(u,r)):(i.copyTo(s),a.copyTo(r));var h=s.t,l=s[h-1];if(0!=l){var f=l*(1<<this.F1)+(h>1?s[h-2]>>this.F2:0),p=this.FV/f,d=(1<<this.F1)/f,v=1<<this.F2,b=r.t,y=b-h,m=null==n?P():n;s.dlShiftTo(y,m),r.compareTo(m)>=0&&(r[r.t++]=1,r.subTo(m,r)),t.ONE.dlShiftTo(h,m),m.subTo(s,s);while(s.t<h)s[s.t++]=0;while(--y>=0){var g=r[--b]==l?this.DM:Math.floor(r[b]*p+(r[b-1]+v)*d);if((r[b]+=s.am(0,g,r,y,0,h))<g){s.dlShiftTo(y,m),r.subTo(m,r);while(r[b]<--g)r.subTo(m,r)}}null!=n&&(r.drShiftTo(h,n),o!=c&&t.ZERO.subTo(n,n)),r.t=h,r.clamp(),u>0&&r.rShiftTo(u,r),o<0&&t.ZERO.subTo(r,r)}}},t.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return e=e*(2-(15&t)*e)&15,e=e*(2-(255&t)*e)&255,e=e*(2-((65535&t)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e},t.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},t.prototype.exp=function(e,n){if(e>4294967295||e<1)return t.ONE;var r=P(),i=P(),a=n.convert(this),s=J(e)-1;a.copyTo(r);while(--s>=0)if(n.sqrTo(r,i),(e&1<<s)>0)n.mulTo(i,a,r);else{var o=r;r=i,i=o}return n.revert(r)},t.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},t.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),n=Math.pow(t,e),r=G(n),i=P(),a=P(),s="";this.divRemTo(r,i,a);while(i.signum()>0)s=(n+a.intValue()).toString(t).substr(1)+s,i.divRemTo(r,i,a);return a.intValue().toString(t)+s},t.prototype.fromRadix=function(e,n){this.fromInt(0),null==n&&(n=10);for(var r=this.chunkSize(n),i=Math.pow(n,r),a=!1,s=0,o=0,c=0;c<e.length;++c){var u=K(e,c);u<0?"-"==e.charAt(c)&&0==this.signum()&&(a=!0):(o=n*o+u,++s>=r&&(this.dMultiply(i),this.dAddOffset(o,0),s=0,o=0))}s>0&&(this.dMultiply(Math.pow(n,s)),this.dAddOffset(o,0)),a&&t.ZERO.subTo(this,this)},t.prototype.fromNumber=function(e,n,r){if("number"==typeof n)if(e<2)this.fromInt(1);else{this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(t.ONE.shiftLeft(e-1),i,this),this.isEven()&&this.dAddOffset(1,0);while(!this.isProbablePrime(n))this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(t.ONE.shiftLeft(e-1),this)}else{var a=[],s=7&e;a.length=1+(e>>3),n.nextBytes(a),s>0?a[0]&=(1<<s)-1:a[0]=0,this.fromString(a,256)}},t.prototype.bitwiseTo=function(t,e,n){var r,i,a=Math.min(t.t,this.t);for(r=0;r<a;++r)n[r]=e(this[r],t[r]);if(t.t<this.t){for(i=t.s&this.DM,r=a;r<this.t;++r)n[r]=e(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=a;r<t.t;++r)n[r]=e(i,t[r]);n.t=t.t}n.s=e(this.s,t.s),n.clamp()},t.prototype.changeBit=function(e,n){var r=t.ONE.shiftLeft(e);return this.bitwiseTo(r,n,r),r},t.prototype.addTo=function(t,e){var n=0,r=0,i=Math.min(t.t,this.t);while(n<i)r+=this[n]+t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){r+=t.s;while(n<this.t)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{r+=this.s;while(n<t.t)r+=t[n],e[n++]=r&this.DM,r>>=this.DB;r+=t.s}e.s=r<0?-1:0,r>0?e[n++]=r:r<-1&&(e[n++]=this.DV+r),e.t=n,e.clamp()},t.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},t.prototype.dAddOffset=function(t,e){if(0!=t){while(this.t<=e)this[this.t++]=0;this[e]+=t;while(this[e]>=this.DV)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},t.prototype.multiplyLowerTo=function(t,e,n){var r=Math.min(this.t+t.t,e);n.s=0,n.t=r;while(r>0)n[--r]=0;for(var i=n.t-this.t;r<i;++r)n[r+this.t]=this.am(0,t[r],n,r,0,this.t);for(i=Math.min(t.t,e);r<i;++r)this.am(0,t[r],n,r,0,e-r);n.clamp()},t.prototype.multiplyUpperTo=function(t,e,n){--e;var r=n.t=this.t+t.t-e;n.s=0;while(--r>=0)n[r]=0;for(r=Math.max(e-this.t,0);r<t.t;++r)n[this.t+r-e]=this.am(e-r,t[r],n,0,0,this.t+r-e);n.clamp(),n.drShiftTo(1,n)},t.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,n=this.s<0?t-1:0;if(this.t>0)if(0==e)n=this[0]%t;else for(var r=this.t-1;r>=0;--r)n=(e*n+this[r])%t;return n},t.prototype.millerRabin=function(e){var n=this.subtract(t.ONE),r=n.getLowestSetBit();if(r<=0)return!1;var i=n.shiftRight(r);e=e+1>>1,e>A.length&&(e=A.length);for(var a=P(),s=0;s<e;++s){a.fromInt(A[Math.floor(Math.random()*A.length)]);var o=a.modPow(i,this);if(0!=o.compareTo(t.ONE)&&0!=o.compareTo(n)){var c=1;while(c++<r&&0!=o.compareTo(n))if(o=o.modPowInt(2,this),0==o.compareTo(t.ONE))return!1;if(0!=o.compareTo(n))return!1}}return!0},t.prototype.square=function(){var t=P();return this.squareTo(t),t},t.prototype.gcda=function(t,e){var n=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(n.compareTo(r)<0){var i=n;n=r,r=i}var a=n.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)e(n);else{a<s&&(s=a),s>0&&(n.rShiftTo(s,n),r.rShiftTo(s,r));var o=function(){(a=n.getLowestSetBit())>0&&n.rShiftTo(a,n),(a=r.getLowestSetBit())>0&&r.rShiftTo(a,r),n.compareTo(r)>=0?(n.subTo(r,n),n.rShiftTo(1,n)):(r.subTo(n,r),r.rShiftTo(1,r)),n.signum()>0?setTimeout(o,0):(s>0&&r.lShiftTo(s,r),setTimeout((function(){e(r)}),0))};setTimeout(o,10)}},t.prototype.fromNumberAsync=function(e,n,r,a){if("number"==typeof n)if(e<2)this.fromInt(1);else{this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(t.ONE.shiftLeft(e-1),i,this),this.isEven()&&this.dAddOffset(1,0);var s=this,o=function(){s.dAddOffset(2,0),s.bitLength()>e&&s.subTo(t.ONE.shiftLeft(e-1),s),s.isProbablePrime(n)?setTimeout((function(){a()}),0):setTimeout(o,0)};setTimeout(o,0)}else{var c=[],u=7&e;c.length=1+(e>>3),n.nextBytes(c),u>0?c[0]&=(1<<u)-1:c[0]=0,this.fromString(c,256)}},t}(),B=function(){function t(){}return t.prototype.convert=function(t){return t},t.prototype.revert=function(t){return t},t.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n)},t.prototype.sqrTo=function(t,e){t.squareTo(e)},t}(),q=function(){function t(t){this.m=t}return t.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},t.prototype.revert=function(t){return t},t.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},t.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},t}(),L=function(){function t(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}return t.prototype.convert=function(t){var e=P();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(M.ZERO)>0&&this.m.subTo(e,e),e},t.prototype.revert=function(t){var e=P();return t.copyTo(e),this.reduce(e),e},t.prototype.reduce=function(t){while(t.t<=this.mt2)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],r=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;n=e+this.m.t,t[n]+=this.m.am(0,r,t,e,0,this.m.t);while(t[n]>=t.DV)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},t.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},t}(),I=function(){function t(t){this.m=t,this.r2=P(),this.q3=P(),M.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t)}return t.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=P();return t.copyTo(e),this.reduce(e),e},t.prototype.revert=function(t){return t},t.prototype.reduce=function(t){t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);while(t.compareTo(this.r2)<0)t.dAddOffset(1,this.m.t+1);t.subTo(this.r2,t);while(t.compareTo(this.m)>=0)t.subTo(this.m,t)},t.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},t}();function P(){return new M(null)}function N(t,e){return new M(t,e)}function U(t,e,n,r,i,a){while(--a>=0){var s=e*this[t++]+n[r]+i;i=Math.floor(s/67108864),n[r++]=67108863&s}return i}function F(t,e,n,r,i,a){var s=32767&e,o=e>>15;while(--a>=0){var c=32767&this[t],u=this[t++]>>15,h=o*c+u*s;c=s*c+((32767&h)<<15)+n[r]+(1073741823&i),i=(c>>>30)+(h>>>15)+o*u+(i>>>30),n[r++]=1073741823&c}return i}function H(t,e,n,r,i,a){var s=16383&e,o=e>>14;while(--a>=0){var c=16383&this[t],u=this[t++]>>14,h=o*c+u*s;c=s*c+((16383&h)<<14)+n[r]+i,i=(c>>28)+(h>>14)+o*u,n[r++]=268435455&c}return i}C&&"Microsoft Internet Explorer"==navigator.appName?(M.prototype.am=F,j=30):C&&"Netscape"!=navigator.appName?(M.prototype.am=U,j=26):(M.prototype.am=H,j=28),M.prototype.DB=j,M.prototype.DM=(1<<j)-1,M.prototype.DV=1<<j;var V=52;M.prototype.FV=Math.pow(2,V),M.prototype.F1=V-j,M.prototype.F2=2*j-V;var Y,W,z=[];for(Y="0".charCodeAt(0),W=0;W<=9;++W)z[Y++]=W;for(Y="a".charCodeAt(0),W=10;W<36;++W)z[Y++]=W;for(Y="A".charCodeAt(0),W=10;W<36;++W)z[Y++]=W;function K(t,e){var n=z[t.charCodeAt(e)];return null==n?-1:n}function G(t){var e=P();return e.fromInt(t),e}function J(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}M.ZERO=G(0),M.ONE=G(1);var Z=function(){function t(){this.i=0,this.j=0,this.S=[]}return t.prototype.init=function(t){var e,n,r;for(e=0;e<256;++e)this.S[e]=e;for(n=0,e=0;e<256;++e)n=n+this.S[e]+t[e%t.length]&255,r=this.S[e],this.S[e]=this.S[n],this.S[n]=r;this.i=0,this.j=0},t.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]},t}();function X(){return new Z}var $,Q,tt=256,et=null;if(null==et){et=[],Q=0;var nt=void 0;if(window.crypto&&window.crypto.getRandomValues){var rt=new Uint32Array(256);for(window.crypto.getRandomValues(rt),nt=0;nt<rt.length;++nt)et[Q++]=255&rt[nt]}var it=function(t){if(this.count=this.count||0,this.count>=256||Q>=tt)window.removeEventListener?window.removeEventListener("mousemove",it,!1):window.detachEvent&&window.detachEvent("onmousemove",it);else try{var e=t.x+t.y;et[Q++]=255&e,this.count+=1}catch(n){}};window.addEventListener?window.addEventListener("mousemove",it,!1):window.attachEvent&&window.attachEvent("onmousemove",it)}function at(){if(null==$){$=X();while(Q<tt){var t=Math.floor(65536*Math.random());et[Q++]=255&t}for($.init(et),Q=0;Q<et.length;++Q)et[Q]=0;Q=0}return $.next()}var st=function(){function t(){}return t.prototype.nextBytes=function(t){for(var e=0;e<t.length;++e)t[e]=at()},t}();function ot(t,e){if(e<t.length+22)return console.error("Message too long for RSA"),null;for(var n=e-t.length-6,r="",i=0;i<n;i+=2)r+="ff";var a="0001"+r+"00"+t;return N(a,16)}function ct(t,e){if(e<t.length+11)return console.error("Message too long for RSA"),null;var n=[],r=t.length-1;while(r>=0&&e>0){var i=t.charCodeAt(r--);i<128?n[--e]=i:i>127&&i<2048?(n[--e]=63&i|128,n[--e]=i>>6|192):(n[--e]=63&i|128,n[--e]=i>>6&63|128,n[--e]=i>>12|224)}n[--e]=0;var a=new st,s=[];while(e>2){s[0]=0;while(0==s[0])a.nextBytes(s);n[--e]=s[0]}return n[--e]=2,n[--e]=0,new M(n)}var ut=function(){function t(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}return t.prototype.doPublic=function(t){return t.modPowInt(this.e,this.n)},t.prototype.doPrivate=function(t){if(null==this.p||null==this.q)return t.modPow(this.d,this.n);var e=t.mod(this.p).modPow(this.dmp1,this.p),n=t.mod(this.q).modPow(this.dmq1,this.q);while(e.compareTo(n)<0)e=e.add(this.p);return e.subtract(n).multiply(this.coeff).mod(this.p).multiply(this.q).add(n)},t.prototype.setPublic=function(t,e){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=N(t,16),this.e=parseInt(e,16)):console.error("Invalid RSA public key")},t.prototype.encrypt=function(t){var e=ct(t,this.n.bitLength()+7>>3);if(null==e)return null;var n=this.doPublic(e);if(null==n)return null;var r=n.toString(16);return 0==(1&r.length)?r:"0"+r},t.prototype.setPrivate=function(t,e,n){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=N(t,16),this.e=parseInt(e,16),this.d=N(n,16)):console.error("Invalid RSA private key")},t.prototype.setPrivateEx=function(t,e,n,r,i,a,s,o){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=N(t,16),this.e=parseInt(e,16),this.d=N(n,16),this.p=N(r,16),this.q=N(i,16),this.dmp1=N(a,16),this.dmq1=N(s,16),this.coeff=N(o,16)):console.error("Invalid RSA private key")},t.prototype.generate=function(t,e){var n=new st,r=t>>1;this.e=parseInt(e,16);for(var i=new M(e,16);;){for(;;)if(this.p=new M(t-r,1,n),0==this.p.subtract(M.ONE).gcd(i).compareTo(M.ONE)&&this.p.isProbablePrime(10))break;for(;;)if(this.q=new M(r,1,n),0==this.q.subtract(M.ONE).gcd(i).compareTo(M.ONE)&&this.q.isProbablePrime(10))break;if(this.p.compareTo(this.q)<=0){var a=this.p;this.p=this.q,this.q=a}var s=this.p.subtract(M.ONE),o=this.q.subtract(M.ONE),c=s.multiply(o);if(0==c.gcd(i).compareTo(M.ONE)){this.n=this.p.multiply(this.q),this.d=i.modInverse(c),this.dmp1=this.d.mod(s),this.dmq1=this.d.mod(o),this.coeff=this.q.modInverse(this.p);break}}},t.prototype.decrypt=function(t){var e=N(t,16),n=this.doPrivate(e);return null==n?null:ht(n,this.n.bitLength()+7>>3)},t.prototype.generateAsync=function(t,e,n){var r=new st,i=t>>1;this.e=parseInt(e,16);var a=new M(e,16),s=this,o=function(){var e=function(){if(s.p.compareTo(s.q)<=0){var t=s.p;s.p=s.q,s.q=t}var e=s.p.subtract(M.ONE),r=s.q.subtract(M.ONE),i=e.multiply(r);0==i.gcd(a).compareTo(M.ONE)?(s.n=s.p.multiply(s.q),s.d=a.modInverse(i),s.dmp1=s.d.mod(e),s.dmq1=s.d.mod(r),s.coeff=s.q.modInverse(s.p),setTimeout((function(){n()}),0)):setTimeout(o,0)},c=function(){s.q=P(),s.q.fromNumberAsync(i,1,r,(function(){s.q.subtract(M.ONE).gcda(a,(function(t){0==t.compareTo(M.ONE)&&s.q.isProbablePrime(10)?setTimeout(e,0):setTimeout(c,0)}))}))},u=function(){s.p=P(),s.p.fromNumberAsync(t-i,1,r,(function(){s.p.subtract(M.ONE).gcda(a,(function(t){0==t.compareTo(M.ONE)&&s.p.isProbablePrime(10)?setTimeout(c,0):setTimeout(u,0)}))}))};setTimeout(u,0)};setTimeout(o,0)},t.prototype.sign=function(t,e,n){var r=ft(n),i=r+e(t).toString(),a=ot(i,this.n.bitLength()/4);if(null==a)return null;var s=this.doPrivate(a);if(null==s)return null;var o=s.toString(16);return 0==(1&o.length)?o:"0"+o},t.prototype.verify=function(t,e,n){var r=N(e,16),i=this.doPublic(r);if(null==i)return null;var a=i.toString(16).replace(/^1f+00/,""),s=pt(a);return s==n(t).toString()},t}();function ht(t,e){var n=t.toByteArray(),r=0;while(r<n.length&&0==n[r])++r;if(n.length-r!=e-1||2!=n[r])return null;++r;while(0!=n[r])if(++r>=n.length)return null;var i="";while(++r<n.length){var a=255&n[r];a<128?i+=String.fromCharCode(a):a>191&&a<224?(i+=String.fromCharCode((31&a)<<6|63&n[r+1]),++r):(i+=String.fromCharCode((15&a)<<12|(63&n[r+1])<<6|63&n[r+2]),r+=2)}return i}var lt={md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",ripemd160:"3021300906052b2403020105000414"};function ft(t){return lt[t]||""}function pt(t){for(var e in lt)if(lt.hasOwnProperty(e)){var n=lt[e],r=n.length;if(t.substr(0,r)==n)return t.substr(r)}return t}
/*!
Copyright (c) 2011, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 2.9.0
*/var dt={};dt.lang={extend:function(t,e,n){if(!e||!t)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var r=function(){};if(r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t,t.superclass=e.prototype,e.prototype.constructor==Object.prototype.constructor&&(e.prototype.constructor=e),n){var i;for(i in n)t.prototype[i]=n[i];var a=function(){},s=["toString","valueOf"];try{/MSIE/.test(navigator.userAgent)&&(a=function(t,e){for(i=0;i<s.length;i+=1){var n=s[i],r=e[n];"function"===typeof r&&r!=Object.prototype[n]&&(t[n]=r)}})}catch(o){}a(t.prototype,n)}}};
/**
 * @fileOverview
 * @name asn1-1.0.js
 * @author Kenji Urushima kenji.urushima@gmail.com
 * @version asn1 1.0.13 (2017-Jun-02)
 * @since jsrsasign 2.1
 * @license <a href="https://kjur.github.io/jsrsasign/license/">MIT License</a>
 */
var vt={};"undefined"!=typeof vt.asn1&&vt.asn1||(vt.asn1={}),vt.asn1.ASN1Util=new function(){this.integerToByteHex=function(t){var e=t.toString(16);return e.length%2==1&&(e="0"+e),e},this.bigIntToMinTwosComplementsHex=function(t){var e=t.toString(16);if("-"!=e.substr(0,1))e.length%2==1?e="0"+e:e.match(/^[0-7]/)||(e="00"+e);else{var n=e.substr(1),r=n.length;r%2==1?r+=1:e.match(/^[0-7]/)||(r+=2);for(var i="",a=0;a<r;a++)i+="f";var s=new M(i,16),o=s.xor(t).add(M.ONE);e=o.toString(16).replace(/^-/,"")}return e},this.getPEMStringFromHex=function(t,e){return hextopem(t,e)},this.newObject=function(t){var e=vt,n=e.asn1,r=n.DERBoolean,i=n.DERInteger,a=n.DERBitString,s=n.DEROctetString,o=n.DERNull,c=n.DERObjectIdentifier,u=n.DEREnumerated,h=n.DERUTF8String,l=n.DERNumericString,f=n.DERPrintableString,p=n.DERTeletexString,d=n.DERIA5String,v=n.DERUTCTime,b=n.DERGeneralizedTime,y=n.DERSequence,m=n.DERSet,g=n.DERTaggedObject,w=n.ASN1Util.newObject,k=Object.keys(t);if(1!=k.length)throw"key of param shall be only one.";var x=k[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+x+":"))throw"undefined key: "+x;if("bool"==x)return new r(t[x]);if("int"==x)return new i(t[x]);if("bitstr"==x)return new a(t[x]);if("octstr"==x)return new s(t[x]);if("null"==x)return new o(t[x]);if("oid"==x)return new c(t[x]);if("enum"==x)return new u(t[x]);if("utf8str"==x)return new h(t[x]);if("numstr"==x)return new l(t[x]);if("prnstr"==x)return new f(t[x]);if("telstr"==x)return new p(t[x]);if("ia5str"==x)return new d(t[x]);if("utctime"==x)return new v(t[x]);if("gentime"==x)return new b(t[x]);if("seq"==x){for(var O=t[x],S=[],j=0;j<O.length;j++){var T=w(O[j]);S.push(T)}return new y({array:S})}if("set"==x){for(O=t[x],S=[],j=0;j<O.length;j++){T=w(O[j]);S.push(T)}return new m({array:S})}if("tag"==x){var E=t[x];if("[object Array]"===Object.prototype.toString.call(E)&&3==E.length){var _=w(E[2]);return new g({tag:E[0],explicit:E[1],obj:_})}var R={};if(void 0!==E.explicit&&(R.explicit=E.explicit),void 0!==E.tag&&(R.tag=E.tag),void 0===E.obj)throw"obj shall be specified for 'tag'.";return R.obj=w(E.obj),new g(R)}},this.jsonToASN1HEX=function(t){var e=this.newObject(t);return e.getEncodedHex()}},vt.asn1.ASN1Util.oidHexToInt=function(t){for(var e="",n=parseInt(t.substr(0,2),16),r=Math.floor(n/40),i=n%40,a=(e=r+"."+i,""),s=2;s<t.length;s+=2){var o=parseInt(t.substr(s,2),16),c=("00000000"+o.toString(2)).slice(-8);if(a+=c.substr(1,7),"0"==c.substr(0,1)){var u=new M(a,2);e=e+"."+u.toString(10),a=""}}return e},vt.asn1.ASN1Util.oidIntToHex=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},n=function(t){var n="",r=new M(t,10),i=r.toString(2),a=7-i.length%7;7==a&&(a=0);for(var s="",o=0;o<a;o++)s+="0";i=s+i;for(o=0;o<i.length-1;o+=7){var c=i.substr(o,7);o!=i.length-7&&(c="1"+c),n+=e(parseInt(c,2))}return n};if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var r="",i=t.split("."),a=40*parseInt(i[0])+parseInt(i[1]);r+=e(a),i.splice(0,2);for(var s=0;s<i.length;s++)r+=n(i[s]);return r},vt.asn1.ASN1Object=function(){var t="";this.getLengthHexFromValue=function(){if("undefined"==typeof this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+t.length+",v="+this.hV;var e=this.hV.length/2,n=e.toString(16);if(n.length%2==1&&(n="0"+n),e<128)return n;var r=n.length/2;if(r>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);var i=128+r;return i.toString(16)+n},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},vt.asn1.DERAbstractString=function(t){vt.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(this.s)},this.setStringHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof t&&("string"==typeof t?this.setString(t):"undefined"!=typeof t["str"]?this.setString(t["str"]):"undefined"!=typeof t["hex"]&&this.setStringHex(t["hex"]))},dt.lang.extend(vt.asn1.DERAbstractString,vt.asn1.ASN1Object),vt.asn1.DERAbstractTime=function(t){vt.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(t){utc=t.getTime()+6e4*t.getTimezoneOffset();var e=new Date(utc);return e},this.formatDate=function(t,e,n){var r=this.zeroPadding,i=this.localDateToUTC(t),a=String(i.getFullYear());"utc"==e&&(a=a.substr(2,2));var s=r(String(i.getMonth()+1),2),o=r(String(i.getDate()),2),c=r(String(i.getHours()),2),u=r(String(i.getMinutes()),2),h=r(String(i.getSeconds()),2),l=a+s+o+c+u+h;if(!0===n){var f=i.getMilliseconds();if(0!=f){var p=r(String(f),3);p=p.replace(/[0]+$/,""),l=l+"."+p}}return l+"Z"},this.zeroPadding=function(t,e){return t.length>=e?t:new Array(e-t.length+1).join("0")+t},this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(t)},this.setByDateValue=function(t,e,n,r,i,a){var s=new Date(Date.UTC(t,e-1,n,r,i,a,0));this.setByDate(s)},this.getFreshValueHex=function(){return this.hV}},dt.lang.extend(vt.asn1.DERAbstractTime,vt.asn1.ASN1Object),vt.asn1.DERAbstractStructured=function(t){vt.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array=t},this.appendASN1Object=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array.push(t)},this.asn1Array=new Array,"undefined"!=typeof t&&"undefined"!=typeof t["array"]&&(this.asn1Array=t["array"])},dt.lang.extend(vt.asn1.DERAbstractStructured,vt.asn1.ASN1Object),vt.asn1.DERBoolean=function(){vt.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},dt.lang.extend(vt.asn1.DERBoolean,vt.asn1.ASN1Object),vt.asn1.DERInteger=function(t){vt.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=vt.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new M(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof t&&("undefined"!=typeof t["bigint"]?this.setByBigInteger(t["bigint"]):"undefined"!=typeof t["int"]?this.setByInteger(t["int"]):"number"==typeof t?this.setByInteger(t):"undefined"!=typeof t["hex"]&&this.setValueHex(t["hex"]))},dt.lang.extend(vt.asn1.DERInteger,vt.asn1.ASN1Object),vt.asn1.DERBitString=function(t){if(void 0!==t&&"undefined"!==typeof t.obj){var e=vt.asn1.ASN1Util.newObject(t.obj);t.hex="00"+e.getEncodedHex()}vt.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(t){this.hTLV=null,this.isModified=!0,this.hV=t},this.setUnusedBitsAndHexValue=function(t,e){if(t<0||7<t)throw"unused bits shall be from 0 to 7: u = "+t;var n="0"+t;this.hTLV=null,this.isModified=!0,this.hV=n+e},this.setByBinaryString=function(t){t=t.replace(/0+$/,"");var e=8-t.length%8;8==e&&(e=0);for(var n=0;n<=e;n++)t+="0";var r="";for(n=0;n<t.length-1;n+=8){var i=t.substr(n,8),a=parseInt(i,2).toString(16);1==a.length&&(a="0"+a),r+=a}this.hTLV=null,this.isModified=!0,this.hV="0"+e+r},this.setByBooleanArray=function(t){for(var e="",n=0;n<t.length;n++)1==t[n]?e+="1":e+="0";this.setByBinaryString(e)},this.newFalseArray=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=!1;return e},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof t&&("string"==typeof t&&t.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(t):"undefined"!=typeof t["hex"]?this.setHexValueIncludingUnusedBits(t["hex"]):"undefined"!=typeof t["bin"]?this.setByBinaryString(t["bin"]):"undefined"!=typeof t["array"]&&this.setByBooleanArray(t["array"]))},dt.lang.extend(vt.asn1.DERBitString,vt.asn1.ASN1Object),vt.asn1.DEROctetString=function(t){if(void 0!==t&&"undefined"!==typeof t.obj){var e=vt.asn1.ASN1Util.newObject(t.obj);t.hex=e.getEncodedHex()}vt.asn1.DEROctetString.superclass.constructor.call(this,t),this.hT="04"},dt.lang.extend(vt.asn1.DEROctetString,vt.asn1.DERAbstractString),vt.asn1.DERNull=function(){vt.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},dt.lang.extend(vt.asn1.DERNull,vt.asn1.ASN1Object),vt.asn1.DERObjectIdentifier=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},n=function(t){var n="",r=new M(t,10),i=r.toString(2),a=7-i.length%7;7==a&&(a=0);for(var s="",o=0;o<a;o++)s+="0";i=s+i;for(o=0;o<i.length-1;o+=7){var c=i.substr(o,7);o!=i.length-7&&(c="1"+c),n+=e(parseInt(c,2))}return n};vt.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueOidString=function(t){if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var r="",i=t.split("."),a=40*parseInt(i[0])+parseInt(i[1]);r+=e(a),i.splice(0,2);for(var s=0;s<i.length;s++)r+=n(i[s]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=r},this.setValueName=function(t){var e=vt.asn1.x509.OID.name2oid(t);if(""===e)throw"DERObjectIdentifier oidName undefined: "+t;this.setValueOidString(e)},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"===typeof t?t.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(t):this.setValueName(t):void 0!==t.oid?this.setValueOidString(t.oid):void 0!==t.hex?this.setValueHex(t.hex):void 0!==t.name&&this.setValueName(t.name))},dt.lang.extend(vt.asn1.DERObjectIdentifier,vt.asn1.ASN1Object),vt.asn1.DEREnumerated=function(t){vt.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=vt.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new M(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof t&&("undefined"!=typeof t["int"]?this.setByInteger(t["int"]):"number"==typeof t?this.setByInteger(t):"undefined"!=typeof t["hex"]&&this.setValueHex(t["hex"]))},dt.lang.extend(vt.asn1.DEREnumerated,vt.asn1.ASN1Object),vt.asn1.DERUTF8String=function(t){vt.asn1.DERUTF8String.superclass.constructor.call(this,t),this.hT="0c"},dt.lang.extend(vt.asn1.DERUTF8String,vt.asn1.DERAbstractString),vt.asn1.DERNumericString=function(t){vt.asn1.DERNumericString.superclass.constructor.call(this,t),this.hT="12"},dt.lang.extend(vt.asn1.DERNumericString,vt.asn1.DERAbstractString),vt.asn1.DERPrintableString=function(t){vt.asn1.DERPrintableString.superclass.constructor.call(this,t),this.hT="13"},dt.lang.extend(vt.asn1.DERPrintableString,vt.asn1.DERAbstractString),vt.asn1.DERTeletexString=function(t){vt.asn1.DERTeletexString.superclass.constructor.call(this,t),this.hT="14"},dt.lang.extend(vt.asn1.DERTeletexString,vt.asn1.DERAbstractString),vt.asn1.DERIA5String=function(t){vt.asn1.DERIA5String.superclass.constructor.call(this,t),this.hT="16"},dt.lang.extend(vt.asn1.DERIA5String,vt.asn1.DERAbstractString),vt.asn1.DERUTCTime=function(t){vt.asn1.DERUTCTime.superclass.constructor.call(this,t),this.hT="17",this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return"undefined"==typeof this.date&&"undefined"==typeof this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{12}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date))},dt.lang.extend(vt.asn1.DERUTCTime,vt.asn1.DERAbstractTime),vt.asn1.DERGeneralizedTime=function(t){vt.asn1.DERGeneralizedTime.superclass.constructor.call(this,t),this.hT="18",this.withMillis=!1,this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{14}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date),!0===t.millis&&(this.withMillis=!0))},dt.lang.extend(vt.asn1.DERGeneralizedTime,vt.asn1.DERAbstractTime),vt.asn1.DERSequence=function(t){vt.asn1.DERSequence.superclass.constructor.call(this,t),this.hT="30",this.getFreshValueHex=function(){for(var t="",e=0;e<this.asn1Array.length;e++){var n=this.asn1Array[e];t+=n.getEncodedHex()}return this.hV=t,this.hV}},dt.lang.extend(vt.asn1.DERSequence,vt.asn1.DERAbstractStructured),vt.asn1.DERSet=function(t){vt.asn1.DERSet.superclass.constructor.call(this,t),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var t=new Array,e=0;e<this.asn1Array.length;e++){var n=this.asn1Array[e];t.push(n.getEncodedHex())}return 1==this.sortFlag&&t.sort(),this.hV=t.join(""),this.hV},"undefined"!=typeof t&&"undefined"!=typeof t.sortflag&&0==t.sortflag&&(this.sortFlag=!1)},dt.lang.extend(vt.asn1.DERSet,vt.asn1.DERAbstractStructured),vt.asn1.DERTaggedObject=function(t){vt.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(t,e,n){this.hT=e,this.isExplicit=t,this.asn1Object=n,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=n.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,e),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof t&&("undefined"!=typeof t["tag"]&&(this.hT=t["tag"]),"undefined"!=typeof t["explicit"]&&(this.isExplicit=t["explicit"]),"undefined"!=typeof t["obj"]&&(this.asn1Object=t["obj"],this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},dt.lang.extend(vt.asn1.DERTaggedObject,vt.asn1.ASN1Object);var bt=function(t){function e(n){var r=t.call(this)||this;return n&&("string"===typeof n?r.parseKey(n):(e.hasPrivateKeyProperty(n)||e.hasPublicKeyProperty(n))&&r.parsePropertiesFrom(n)),r}return v(e,t),e.prototype.parseKey=function(t){try{var e=0,n=0,r=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/,i=r.test(t)?y.decode(t):m.unarmor(t),a=E.decode(i);if(3===a.sub.length&&(a=a.sub[2].sub[0]),9===a.sub.length){e=a.sub[1].getHexStringValue(),this.n=N(e,16),n=a.sub[2].getHexStringValue(),this.e=parseInt(n,16);var s=a.sub[3].getHexStringValue();this.d=N(s,16);var o=a.sub[4].getHexStringValue();this.p=N(o,16);var c=a.sub[5].getHexStringValue();this.q=N(c,16);var u=a.sub[6].getHexStringValue();this.dmp1=N(u,16);var h=a.sub[7].getHexStringValue();this.dmq1=N(h,16);var l=a.sub[8].getHexStringValue();this.coeff=N(l,16)}else{if(2!==a.sub.length)return!1;var f=a.sub[1],p=f.sub[0];e=p.sub[0].getHexStringValue(),this.n=N(e,16),n=p.sub[1].getHexStringValue(),this.e=parseInt(n,16)}return!0}catch(d){return!1}},e.prototype.getPrivateBaseKey=function(){var t={array:[new vt.asn1.DERInteger({int:0}),new vt.asn1.DERInteger({bigint:this.n}),new vt.asn1.DERInteger({int:this.e}),new vt.asn1.DERInteger({bigint:this.d}),new vt.asn1.DERInteger({bigint:this.p}),new vt.asn1.DERInteger({bigint:this.q}),new vt.asn1.DERInteger({bigint:this.dmp1}),new vt.asn1.DERInteger({bigint:this.dmq1}),new vt.asn1.DERInteger({bigint:this.coeff})]},e=new vt.asn1.DERSequence(t);return e.getEncodedHex()},e.prototype.getPrivateBaseKeyB64=function(){return l(this.getPrivateBaseKey())},e.prototype.getPublicBaseKey=function(){var t=new vt.asn1.DERSequence({array:[new vt.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new vt.asn1.DERNull]}),e=new vt.asn1.DERSequence({array:[new vt.asn1.DERInteger({bigint:this.n}),new vt.asn1.DERInteger({int:this.e})]}),n=new vt.asn1.DERBitString({hex:"00"+e.getEncodedHex()}),r=new vt.asn1.DERSequence({array:[t,n]});return r.getEncodedHex()},e.prototype.getPublicBaseKeyB64=function(){return l(this.getPublicBaseKey())},e.wordwrap=function(t,e){if(e=e||64,!t)return t;var n="(.{1,"+e+"})( +|$\n?)|(.{1,"+e+"})";return t.match(RegExp(n,"g")).join("\n")},e.prototype.getPrivateKey=function(){var t="-----BEGIN RSA PRIVATE KEY-----\n";return t+=e.wordwrap(this.getPrivateBaseKeyB64())+"\n",t+="-----END RSA PRIVATE KEY-----",t},e.prototype.getPublicKey=function(){var t="-----BEGIN PUBLIC KEY-----\n";return t+=e.wordwrap(this.getPublicBaseKeyB64())+"\n",t+="-----END PUBLIC KEY-----",t},e.hasPublicKeyProperty=function(t){return t=t||{},t.hasOwnProperty("n")&&t.hasOwnProperty("e")},e.hasPrivateKeyProperty=function(t){return t=t||{},t.hasOwnProperty("n")&&t.hasOwnProperty("e")&&t.hasOwnProperty("d")&&t.hasOwnProperty("p")&&t.hasOwnProperty("q")&&t.hasOwnProperty("dmp1")&&t.hasOwnProperty("dmq1")&&t.hasOwnProperty("coeff")},e.prototype.parsePropertiesFrom=function(t){this.n=t.n,this.e=t.e,t.hasOwnProperty("d")&&(this.d=t.d,this.p=t.p,this.q=t.q,this.dmp1=t.dmp1,this.dmq1=t.dmq1,this.coeff=t.coeff)},e}(ut),yt=function(){function t(t){t=t||{},this.default_key_size=parseInt(t.default_key_size,10)||1024,this.default_public_exponent=t.default_public_exponent||"010001",this.log=t.log||!1,this.key=null}return t.prototype.setKey=function(t){this.log&&this.key&&console.warn("A key was already set, overriding existing."),this.key=new bt(t)},t.prototype.setPrivateKey=function(t){this.setKey(t)},t.prototype.setPublicKey=function(t){this.setKey(t)},t.prototype.decrypt=function(t){try{return this.getKey().decrypt(f(t))}catch(e){return!1}},t.prototype.encrypt=function(t){try{return l(this.getKey().encrypt(t))}catch(e){return!1}},t.prototype.sign=function(t,e,n){try{return l(this.getKey().sign(t,e,n))}catch(r){return!1}},t.prototype.verify=function(t,e,n){try{return this.getKey().verify(t,f(e),n)}catch(r){return!1}},t.prototype.getKey=function(t){if(!this.key){if(this.key=new bt,t&&"[object Function]"==={}.toString.call(t))return void this.key.generateAsync(this.default_key_size,this.default_public_exponent,t);this.key.generate(this.default_key_size,this.default_public_exponent)}return this.key},t.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey()},t.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64()},t.prototype.getPublicKey=function(){return this.getKey().getPublicKey()},t.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64()},t.version="3.0.0-rc.1",t}();window.JSEncrypt=yt,t.JSEncrypt=yt,t.default=yt,Object.defineProperty(t,"__esModule",{value:!0})}))},"776f":function(t,e,n){"use strict";n.d(e,"l",(function(){return s})),n.d(e,"k",(function(){return o})),n.d(e,"nb",(function(){return c})),n.d(e,"jb",(function(){return u})),n.d(e,"V",(function(){return h})),n.d(e,"a",(function(){return l})),n.d(e,"z",(function(){return f})),n.d(e,"T",(function(){return p})),n.d(e,"D",(function(){return d})),n.d(e,"s",(function(){return v})),n.d(e,"ob",(function(){return b})),n.d(e,"C",(function(){return y})),n.d(e,"S",(function(){return m})),n.d(e,"ab",(function(){return g})),n.d(e,"c",(function(){return w})),n.d(e,"J",(function(){return k})),n.d(e,"Z",(function(){return x})),n.d(e,"b",(function(){return O})),n.d(e,"I",(function(){return S})),n.d(e,"R",(function(){return j})),n.d(e,"P",(function(){return T})),n.d(e,"Q",(function(){return E})),n.d(e,"O",(function(){return _})),n.d(e,"u",(function(){return R})),n.d(e,"X",(function(){return C})),n.d(e,"n",(function(){return A})),n.d(e,"o",(function(){return D})),n.d(e,"p",(function(){return M})),n.d(e,"w",(function(){return B})),n.d(e,"x",(function(){return q})),n.d(e,"y",(function(){return L})),n.d(e,"f",(function(){return I})),n.d(e,"j",(function(){return P})),n.d(e,"i",(function(){return N})),n.d(e,"e",(function(){return U})),n.d(e,"g",(function(){return F})),n.d(e,"h",(function(){return H})),n.d(e,"F",(function(){return V})),n.d(e,"G",(function(){return Y})),n.d(e,"U",(function(){return W})),n.d(e,"B",(function(){return z})),n.d(e,"Y",(function(){return K})),n.d(e,"H",(function(){return G})),n.d(e,"E",(function(){return J})),n.d(e,"A",(function(){return Z})),n.d(e,"W",(function(){return X})),n.d(e,"d",(function(){return $})),n.d(e,"m",(function(){return Q})),n.d(e,"t",(function(){return tt})),n.d(e,"v",(function(){return et})),n.d(e,"hb",(function(){return nt})),n.d(e,"fb",(function(){return rt})),n.d(e,"bb",(function(){return it})),n.d(e,"ib",(function(){return at})),n.d(e,"q",(function(){return st})),n.d(e,"r",(function(){return ot})),n.d(e,"gb",(function(){return ct})),n.d(e,"cb",(function(){return ut})),n.d(e,"db",(function(){return ht})),n.d(e,"eb",(function(){return lt})),n.d(e,"K",(function(){return ft})),n.d(e,"M",(function(){return pt})),n.d(e,"N",(function(){return dt})),n.d(e,"L",(function(){return vt})),n.d(e,"pb",(function(){return bt})),n.d(e,"mb",(function(){return yt})),n.d(e,"lb",(function(){return mt})),n.d(e,"kb",(function(){return gt}));n("d81d"),n("b0c0");var r=n("d4ec"),i=n("bee2"),a=n("ade3"),s={key:"change-top10",name:"涨幅"},o={key:"change-last10",name:"跌幅"},c={key:"volume-top10",name:"成交量"},u={key:"turnover-top10",name:"换手率"},h={key:"qrr-top10",name:"量比"},l={key:"amount-top10",name:"资金净流入"},f={key:"inflow-top10",name:"资金流入"},p={key:"outflow-top10",name:"资金流出"},d={key:"lxsz-top10",name:"连续上涨"},v={key:"cxfl-top10",name:"持续放量"},b={key:"xstp-top10",name:"向上突破"},y={key:"ljqs-top10",name:"量价齐升"},m={key:"netinflow-top10",name:"主力净流入"},g={key:"supinflow-top10",name:"超大单净流入"},w={key:"biginflow-top10",name:"大单净流入"},k={key:"midinflow-top10",name:"中单净流入"},x={key:"supinflowrate-top10",name:"超大单净流入占比"},O={key:"biginflowrate-top10",name:"大单净流入占比"},S={key:"midinflowrate-top10",name:"中单净流入占比"},j={key:"netinflowrate-top10",name:"主力资金净流入率"},T={key:"netinflowrate-3days-top10",name:"3日主力资金净流入率"},E={key:"netinflowrate-5days-top10",name:"5日主力资金净流入率"},_={key:"netinflowrate-10days-top10",name:"10日主力资金净流入率"},R={key:"hgt-top10",name:"沪股通"},C={key:"sgt-top10",name:"深股通"},A={key:"concept-blocka-top10",name:"概念板块A"},D={key:"concept-blockb-top10",name:"概念板块B"},M={key:"concept-blockc-top10",name:"概念板块C"},B={key:"industry-blocka-top10",name:"行业板块A"},q={key:"industry-blockb-top10",name:"行业板块B"},L={key:"industry-blockc-top10",name:"行业板块C"},I={key:"bonds-change-top10",name:"可转债涨幅"},P={key:"bonds-netinflow-top10",name:"可转债净流入"},N={key:"bonds-netinflowrate-top10",name:"可转债净占比"},U={key:"bonds-change2-top10",name:"可转债涨幅(正股)"},F={key:"bonds-netinflow2-top10",name:"可转债净流入(正股)"},H={key:"bonds-netinflowrate2-top10",name:"可转债净占比(正股)"},V={key:"market-index",name:"上证指数"},Y={key:"market-top10",name:"权重"},W={key:"price-top10",name:"价格"},z={key:"leader-top10",name:"行业龙头"},K={key:"subnew-top10",name:"次新股"},G={key:"ma-top10",name:"均线金叉"},J={key:"macd-top10",name:"MACD金叉"},Z={key:"kdj-top10",name:"KDJ金叉"},X={key:"rsi-top10",name:"RSI金叉"},$={key:"boll-top10",name:"BOLL突破中轨"},Q={key:"compond-top10",name:"指标共振"},tt={key:"dragon-tiger-top10",name:"前日龙虎"},et={key:"hot-top10",name:"热度"},nt={key:"trend-pattern-top10",name:"趋势形态"},rt={key:"trend-netinflow-top10",name:"趋势资金"},it={key:"trend-bonds-top10",name:"趋势可转债"},at={key:"trend-stocks-top10",name:"趋势股票"},st={key:"continue-limitup-top10",name:"打板"},ot={key:"continue-riseup-top10",name:"连涨"},ct={key:"trend-pattern-digger",name:"趋势-平台突破"},ut={key:"trend-indicator-digger",name:"趋势-指标共振"},ht={key:"trend-ma-digger",name:"趋势-均线突破"},lt={key:"trend-netinflow-digger",name:"趋势-连续资金"},ft={key:"monitor-limitup-digger",name:"准涨停"},pt={key:"monitor-ma5-digger",name:"5日均线下穿"},dt={key:"monitor-ma7-digger",name:"7日均线下穿"},vt={key:"monitor-ma10-digger",name:"10日均线下穿"},bt={key:"t0-bonds-long-top10",name:"T0看多可转债"},yt={key:"trend-twist-g3-digger",name:"缠论-G3"},mt={key:"trend-twist-g2-digger",name:"缠论-G2"},gt={key:"trend-twist-g1-digger",name:"缠论-G1"},wt=function(){function t(){var e,n;Object(r["a"])(this,t),Object(a["a"])(this,"normalMap",(e={},Object(a["a"])(e,V.key,V),Object(a["a"])(e,Y.key,Y),Object(a["a"])(e,W.key,W),Object(a["a"])(e,s.key,s),Object(a["a"])(e,c.key,c),Object(a["a"])(e,u.key,u),Object(a["a"])(e,h.key,h),Object(a["a"])(e,l.key,l),Object(a["a"])(e,m.key,m),Object(a["a"])(e,j.key,j),Object(a["a"])(e,G.key,G),Object(a["a"])(e,J.key,J),Object(a["a"])(e,Z.key,Z),Object(a["a"])(e,X.key,X),Object(a["a"])(e,$.key,$),Object(a["a"])(e,Q.key,Q),Object(a["a"])(e,nt.key,nt),Object(a["a"])(e,rt.key,rt),Object(a["a"])(e,it.key,it),Object(a["a"])(e,R.key,R),Object(a["a"])(e,C.key,C),Object(a["a"])(e,A.key,A),Object(a["a"])(e,D.key,D),Object(a["a"])(e,M.key,M),Object(a["a"])(e,B.key,B),Object(a["a"])(e,q.key,q),Object(a["a"])(e,L.key,L),Object(a["a"])(e,tt.key,tt),Object(a["a"])(e,et.key,et),e)),Object(a["a"])(this,"intervalMap",(n={},Object(a["a"])(n,gt.key,gt),Object(a["a"])(n,mt.key,mt),Object(a["a"])(n,yt.key,yt),Object(a["a"])(n,ut.key,ut),Object(a["a"])(n,ht.key,ht),Object(a["a"])(n,lt.key,lt),n)),Object(a["a"])(this,"map",Object.assign({},this.normalMap,this.intervalMap))}return Object(i["a"])(t,[{key:"getBondKeys",value:function(){return[I.key,P.key,N.key,U.key,F.key,H.key]}},{key:"getNormalKeys",value:function(){var t=[];for(var e in this.normalMap)t.push(this.key(e));return t}},{key:"getIntervalKeys",value:function(){var t=[];for(var e in this.intervalMap)t.push(this.key(e));return t}},{key:"getNormalNames",value:function(){var t=[];for(var e in this.normalMap)t.push(this.name(e));return t}},{key:"getIntervalNames",value:function(){var t=[];for(var e in this.intervalMap)t.push(this.name(e));return t}},{key:"all",value:function(){return this.map}},{key:"get",value:function(t){return this.map[t]}},{key:"keys",value:function(){var t=[];for(var e in this.map)t.push(this.key(e));return t}},{key:"names",value:function(){var t={};for(var e in this.map)t.push(this.name(e));return t}},{key:"key",value:function(t){return this.map[t].key}},{key:"name",value:function(t){return this.map[t].name}},{key:"keyOf",value:function(t){for(var e in this.map){var n=this.name(e);if(n===t)return e}}}]),t}();e["qb"]=new wt},"780f":function(t,e,n){"use strict";t.exports=a;var r=n("27bf"),i=Object.create(n("3a7c"));function a(t){if(!(this instanceof a))return new a(t);r.call(this,t)}i.inherits=n("3fb5"),i.inherits(a,r),a.prototype._transform=function(t,e,n){n(null,t)}},"7d72":function(t,e,n){"use strict";var r=n("8707").Buffer,i=r.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(t){if(!t)return"utf8";var e;while(1)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function s(t){var e=a(t);if("string"!==typeof e&&(r.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}function o(t){var e;switch(this.encoding=s(t),this.encoding){case"utf16le":this.text=d,this.end=v,e=4;break;case"utf8":this.fillLast=l,e=4;break;case"base64":this.text=b,this.end=y,e=3;break;default:return this.write=m,void(this.end=g)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function c(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function u(t,e,n){var r=e.length-1;if(r<n)return 0;var i=c(e[r]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--r<n||-2===i?0:(i=c(e[r]),i>=0?(i>0&&(t.lastNeed=i-2),i):--r<n||-2===i?0:(i=c(e[r]),i>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0))}function h(t,e,n){if(128!==(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!==(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!==(192&e[2]))return t.lastNeed=2,"�"}}function l(t){var e=this.lastTotal-this.lastNeed,n=h(this,t,e);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function f(t,e){var n=u(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)}function p(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e}function d(t,e){if((t.length-e)%2===0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function v(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function b(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function y(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function m(t){return t.toString(this.encoding)}function g(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(e=this.fillLast(t),void 0===e)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=p,o.prototype.text=f,o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},"7e12":function(t,e,n){var r=n("da84"),i=n("58a8").trim,a=n("5899"),s=r.parseFloat,o=1/s(a+"-0")!==-1/0;t.exports=o?function(t){var e=i(String(t)),n=s(e);return 0===n&&"-"==e.charAt(0)?-0:n}:s},"7e84":function(t,e,n){"use strict";function r(t){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},r(t)}n.d(e,"a",(function(){return r}))},8707:function(t,e,n){var r=n("b639"),i=r.Buffer;function a(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(a(r,e),e.Buffer=s),a(i,s),s.from=function(t,e,n){if("number"===typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},s.alloc=function(t,e,n){if("number"!==typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"===typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},"8c05":function(t,e){t.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},"90d5":function(t,e,n){"use strict";n("caad"),n("0d03"),n("2532");var r=n("a34a"),i=n.n(r),a=(n("96cf"),n("1da1")),s=n("d4ec"),o=n("bee2"),c=n("ade3"),u=n("776f"),h=n("2894"),l=(n("a4d3"),n("e01a"),n("d28b"),n("99af"),n("b0c0"),n("b680"),n("d3b7"),n("ac1f"),n("3ca3"),n("1276"),n("498a"),n("ddb0"),n("b868")),f=n("c1df"),p=n.n(f),d=function(){function t(e){var n,r;Object(s["a"])(this,t),Object(c["a"])(this,"name",void 0),Object(c["a"])(this,"urls",(n={},Object(c["a"])(n,u["l"].key,"http://data.10jqka.com.cn/funds/ggzjl/field/zdf/order/desc/free/1/"),Object(c["a"])(n,u["k"].key,"http://data.10jqka.com.cn/funds/ggzjl/field/zdf/order/asc/free/1/"),Object(c["a"])(n,u["nb"].key,"http://data.10jqka.com.cn/funds/ggzjl/field/money/order/DESC/free/1/"),Object(c["a"])(n,u["jb"].key,"http://data.10jqka.com.cn/funds/ggzjl/field/hsl/order/DESC/free/1/"),Object(c["a"])(n,u["V"].key,"http://q.10jqka.com.cn/index/index/board/all/field/lb/order/desc/free/1/"),Object(c["a"])(n,u["a"].key,"http://data.10jqka.com.cn/funds/ggzjl/field/zjjlr/order/DESC/free/1/"),Object(c["a"])(n,u["z"].key,"http://data.10jqka.com.cn/funds/ggzjl/field/flowin/order/DESC/free/1/"),Object(c["a"])(n,u["T"].key,"http://data.10jqka.com.cn/funds/ggzjl/field/flowout/order/DESC/free/1/"),Object(c["a"])(n,u["D"].key,"http://data.10jqka.com.cn/rank/lxsz/field/lxts/order/desc/free/1/"),Object(c["a"])(n,u["s"].key,"http://data.10jqka.com.cn/rank/cxfl/field/count/order/desc/free/1/"),Object(c["a"])(n,u["ob"].key,"http://data.10jqka.com.cn/rank/xstp/board/5/field/ZDF/order/desc/free/1/"),Object(c["a"])(n,u["C"].key,"http://data.10jqka.com.cn/rank/ljqs/field/count/order/desc/free/1/"),n)),Object(c["a"])(this,"urlsOfWencai",(r={},Object(c["a"])(r,u["Y"].key,"http://www.iwencai.com/unifiedwap/unified-wap/result/get-stock-pick?question=次新股，主力资金排序&secondary_intent&condition_id&perpage=200"),Object(c["a"])(r,u["B"].key,"http://www.iwencai.com/unifiedwap/unified-wap/result/get-stock-pick?question=一级行业龙头，主力资金排序&secondary_intent&condition_id&perpage=200"),Object(c["a"])(r,u["H"].key,"http://www.iwencai.com/unifiedwap/unified-wap/result/get-stock-pick?question=近3交易日5日均线金叉10日均线,主力资金排序&secondary_intent&condition_id&perpage=400"),Object(c["a"])(r,u["E"].key,"http://www.iwencai.com/unifiedwap/unified-wap/result/get-stock-pick?question=近3交易日MACD零轴以上金叉,主力资金排序&secondary_intent&condition_id&perpage=400"),Object(c["a"])(r,u["A"].key,"http://www.iwencai.com/unifiedwap/unified-wap/result/get-stock-pick?question=近2交易日KDJ金叉,KDJ>55或KDJ<45,主力资金排序&secondary_intent&condition_id&perpage=400"),Object(c["a"])(r,u["W"].key,"http://www.iwencai.com/unifiedwap/unified-wap/result/get-stock-pick?question=近2交易日RSI金叉,RSI>55或RSI<45,主力资金排序&secondary_intent&condition_id&perpage=400"),Object(c["a"])(r,u["d"].key,"http://www.iwencai.com/unifiedwap/unified-wap/result/get-stock-pick?question=近2交易日BOLL突破中轨,主力资金排序&secondary_intent&condition_id&perpage=400"),Object(c["a"])(r,u["m"].key,"http://www.iwencai.com/unifiedwap/unified-wap/result/get-stock-pick?question=近2交易日rsi买入信号>0,近2交易日kdj买入信号>0,近2交易日boll突破中轨>0,主力资金排序&secondary_intent&condition_id&perpage=400"),Object(c["a"])(r,u["hb"].key,"http://www.iwencai.com/unifiedwap/unified-wap/result/get-stock-pick?question=5日均线上方,连续上涨2日以上,3日涨幅大于10,主力资金排序&secondary_intent&condition_id&perpage=400"),Object(c["a"])(r,u["fb"].key,"http://www.iwencai.com/unifiedwap/unified-wap/result/get-stock-pick?question=5日均线上方,连续主力资金流入,3日区间涨幅>5,主力资金排序&secondary_intent&condition_id&perpage=400"),Object(c["a"])(r,u["bb"].key,"http://www.iwencai.com/unifiedwap/unified-wap/result/get-stock-pick?question=可转债,前一日涨幅>0,区间涨幅>5,区间涨幅排序&secondary_intent&condition_id&perpage=400"),Object(c["a"])(r,u["ib"].key,"http://www.iwencai.com/unifiedwap/unified-wap/result/get-stock-pick?question=5日涨幅&secondary_intent&condition_id&perpage=400"),Object(c["a"])(r,u["gb"].key,"http://www.iwencai.com/unifiedwap/unified-wap/result/get-stock-pick?question=近三日出现的平台突破,连续上涨天数>2,3日涨幅>5,主力资金排序&secondary_intent&condition_id&perpage=400"),Object(c["a"])(r,u["cb"].key,"http://www.iwencai.com/unifiedwap/unified-wap/result/get-stock-pick?question=近2交易日rsi买入信号>0,近2交易日kdj买入信号>0,近2交易日boll突破中轨>0,连续上涨天数>2,3日涨幅>10,主力资金排序&secondary_intent&condition_id&perpage=400"),Object(c["a"])(r,u["db"].key,"http://www.iwencai.com/unifiedwap/unified-wap/result/get-stock-pick?question=近三日价格站上5日均线,连续上涨天数>2,3日涨幅>10,主力资金排序&secondary_intent&condition_id&perpage=400"),Object(c["a"])(r,u["eb"].key,"http://www.iwencai.com/unifiedwap/unified-wap/result/get-stock-pick?question=连续主力资金流入,3日区间涨幅>10,主力资金排序&secondary_intent&condition_id&perpage=400"),Object(c["a"])(r,u["q"].key,"http://www.iwencai.com/unifiedwap/unified-wap/result/get-stock-pick?question=前一交易日连续涨停次数&secondary_intent&condition_id&perpage=200"),Object(c["a"])(r,u["r"].key,"http://www.iwencai.com/unifiedwap/unified-wap/result/get-stock-pick?question=前20交易日涨幅&secondary_intent&condition_id&perpage=200"),Object(c["a"])(r,u["pb"].key,"http://www.iwencai.com/unifiedwap/unified-wap/result/get-stock-pick?question=可转债,3日成交量>3000000,前一日涨幅>0,区间涨幅>5,区间涨幅排序&secondary_intent&condition_id&perpage=200"),r)),this.name=e}return Object(o["a"])(t,[{key:"getUrl",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;return"".concat(this.urls[this.name],"page/").concat(t,"/size/").concat(e)}},{key:"getUrlOfWencai",value:function(){return this.urlsOfWencai[this.name]}},{key:"createStocksOfWencai",value:function(){var t=Object(a["a"])(i.a.mark((function t(e){var n,r,a,s,o,c,h,l,f,d,v,b,y,m,g,w,k,x,O,S,j,T,E;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=JSON.parse(e),r=n.data.data,r){t.next=4;break}return t.abrupt("return",[]);case 4:a=[],s=!0,o=!1,c=void 0,t.prev=8,h=r[Symbol.iterator]();case 10:if(s=(l=h.next()).done){t.next=45;break}if(f=l.value,d=(f["股票代码"]||f["可转债@可转债代码"]).split(".")[0],v=f["股票简称"]||f["可转债@可转债简称"],this.name!==u["q"].key){t.next=27;break}b="连续涨停天数[".concat(p()().format("YYYYMMDD"),"]"),y="连续涨停天数[".concat(p()().subtract(1,"day").format("YYYYMMDD"),"]"),m="连续涨停天数[".concat(p()().subtract(2,"day").format("YYYYMMDD"),"]"),g="连续涨停天数[".concat(p()().subtract(3,"day").format("YYYYMMDD"),"]"),w="连续涨停天数[".concat(p()().subtract(4,"day").format("YYYYMMDD"),"]"),k="连续涨停天数[".concat(p()().subtract(5,"day").format("YYYYMMDD"),"]"),x="连续涨停天数[".concat(p()().subtract(6,"day").format("YYYYMMDD"),"]"),O="连续涨停天数[".concat(p()().subtract(7,"day").format("YYYYMMDD"),"]"),S=f[b]||f[y]||f[m]||f[g]||f[w]||f[k]||f[x]||f[O],a.push({code:d,name:v,times:S}),t.next=42;break;case 27:if(this.name!==u["r"].key&&this.name!==u["ib"].key){t.next=41;break}j="区间涨跌幅",t.t0=i.a.keys(f);case 30:if((t.t1=t.t0()).done){t.next=37;break}if(T=t.t1.value,!T.includes("区间涨跌幅")){t.next=35;break}return j=T,t.abrupt("break",37);case 35:t.next=30;break;case 37:E=+(+f[j]).toFixed(2),a.push({code:d,name:v,changes:E}),t.next=42;break;case 41:a.push({code:d,name:v});case 42:s=!0,t.next=10;break;case 45:t.next=51;break;case 47:t.prev=47,t.t2=t["catch"](8),o=!0,c=t.t2;case 51:t.prev=51,t.prev=52,s||null==h["return"]||h["return"]();case 54:if(t.prev=54,!o){t.next=57;break}throw c;case 57:return t.finish(54);case 58:return t.finish(51);case 59:return t.abrupt("return",a);case 60:case"end":return t.stop()}}),t,this,[[8,47,51,59],[52,,54,58]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"createStocks",value:function(){var t=Object(a["a"])(i.a.mark((function t(e){var n,r,a,s,o,c,u,h,l,f,p,d,v;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(n=document.createElement("div"),n.innerHTML=e,r=n.querySelector("#J-ajax-main .m-table"),a=r.querySelectorAll("tbody tr"),s=[],o=!0,c=!1,u=void 0,t.prev=8,h=a[Symbol.iterator]();!(o=(l=h.next()).done);o=!0)f=l.value,p=f.querySelectorAll("td"),d=p[1].querySelector("a").innerText.trim(),v=p[2].querySelector("a").innerText.trim(),s.push({code:d,name:v});t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](8),c=!0,u=t.t0;case 16:t.prev=16,t.prev=17,o||null==h["return"]||h["return"]();case 19:if(t.prev=19,!c){t.next=22;break}throw u;case 22:return t.finish(19);case 23:return t.finish(16);case 24:return t.abrupt("return",s);case 25:case"end":return t.stop()}}),t,null,[[8,12,16,24],[17,,19,23]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"capture",value:function(){var t=Object(a["a"])(i.a.mark((function t(){var e,n,r;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e=[],![u["B"].key,u["Y"].key,u["H"].key,u["E"].key,u["A"].key,u["W"].key,u["d"].key,u["m"].key,u["hb"].key,u["fb"].key,u["bb"].key,u["ib"].key,u["gb"].key,u["cb"].key,u["db"].key,u["eb"].key,u["q"].key,u["r"].key,u["pb"].key].includes(this.name)){t.next=11;break}return t.next=5,l["a"].get(this.getUrlOfWencai(),null);case 5:return n=t.sent,t.next=8,this.createStocksOfWencai(n);case 8:e=t.sent,t.next=17;break;case 11:return t.next=13,l["a"].get(this.getUrl(),null);case 13:return r=t.sent,t.next=16,this.createStocks(r);case 16:e=t.sent;case 17:return console.log("#THSListCrawler# capture ".concat(this.name," ...")),t.abrupt("return",e);case 21:return t.prev=21,t.t0=t["catch"](0),console.warn("#THSListCrawler# capture ".concat(this.name," fail"),t.t0),t.abrupt("return",[]);case 25:case"end":return t.stop()}}),t,this,[[0,21]])})));function e(){return t.apply(this,arguments)}return e}()}]),t}(),v=(n("4795"),n("0cae")),b=function(){function t(e){Object(s["a"])(this,t),Object(c["a"])(this,"code","000001"),this.code=e}return Object(o["a"])(t,[{key:"waitCallback",value:function(){var t=this;return new Promise((function(e,n){var r=t.getJsonpCallback();window[r]=function(t){return e(t)},setTimeout(n,3e4)}))}},{key:"getJsonpCallback",value:function(){return"quotebridge_v2_time_hs_".concat(this.code,"_last")}},{key:"getUrl",value:function(){return"http://d.10jqka.com.cn/v2/time/hs_".concat(this.code,"/last.js")}},{key:"createStock",value:function(t){var e="hs_".concat(this.code),n=t[e],r=n.data.split(";").pop(),i=r.split(",");return new v["a"]({code:this.code,name:n.name,price:i[1]})}},{key:"capture",value:function(){var t=Object(a["a"])(i.a.mark((function t(){var e;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l["a"].get(this.getUrl(),null,{dataType:"jsonp",jsonp:this.getJsonpCallback()});case 3:return t.next=5,this.waitCallback();case 5:return e=t.sent,console.log("#THSStockCrawler# capture ".concat(this.code," "),e),t.abrupt("return",this.createStock(e));case 10:t.prev=10,t.t0=t["catch"](0),console.warn("#THSStockCrawler# capture ".concat(this.code," fail"),t.t0);case 13:case"end":return t.stop()}}),t,this,[[0,10]])})));function e(){return t.apply(this,arguments)}return e}()}]),t}(),y=function t(){Object(s["a"])(this,t),Object(c["a"])(this,"sse-50",[]),Object(c["a"])(this,"sse-180",[]),Object(c["a"])(this,"sse-380",[]),Object(c["a"])(this,"szse-100",[]),Object(c["a"])(this,"szse-300",[]),Object(c["a"])(this,"hs-300",[]),Object(c["a"])(this,"zz-500",[]),Object(c["a"])(this,"sub-new",[]),Object(c["a"])(this,"bond",{}),Object(c["a"])(this,"future",[]),Object(c["a"])(this,"all",[])},m=function(){function t(){Object(s["a"])(this,t),Object(c["a"])(this,"markets",new y),Object(c["a"])(this,"urls",{"sse-50":"http://q.10jqka.com.cn/zs/detail/code/1B0016/","sse-180":"http://q.10jqka.com.cn/zs/detail/code/1B0007/","sse-380":"http://q.10jqka.com.cn/zs/detail/code/1B0009/","szse-100":"http://q.10jqka.com.cn/zs/detail/code/399330/","szse-300":"http://q.10jqka.com.cn/zs/detail/code/399007/","hs-300":"http://q.10jqka.com.cn/zs/detail/code/1B0300/","zz-500":"http://q.10jqka.com.cn/zs/detail/code/1B0905/","sub-new":"http://q.10jqka.com.cn/gn/detail/code/300870/"})}return Object(o["a"])(t,[{key:"getUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return"".concat(this.urls[t],"page/").concat(e,"/size/").concat(n)}},{key:"createMarkets",value:function(){var t=Object(a["a"])(i.a.mark((function t(e,n){var r,a,s,o,c,u,h,l,f,p,d;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(r=document.createElement("div"),r.innerHTML=n,a=r.querySelector(".m-table"),s=a.querySelectorAll("tbody tr"),this.markets[e]||(this.markets[e]=[]),o=!0,c=!1,u=void 0,t.prev=8,h=s[Symbol.iterator]();!(o=(l=h.next()).done);o=!0)f=l.value,p=f.querySelectorAll("td"),d=p[1].querySelector("a").innerText.trim(),this.markets[e].push(d);t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](8),c=!0,u=t.t0;case 16:t.prev=16,t.prev=17,o||null==h["return"]||h["return"]();case 19:if(t.prev=19,!c){t.next=22;break}throw u;case 22:return t.finish(19);case 23:return t.finish(16);case 24:case"end":return t.stop()}}),t,this,[[8,12,16,24],[17,,19,23]])})));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"capture",value:function(){var t=Object(a["a"])(i.a.mark((function t(){var e,n;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.prev=0,t.t0=i.a.keys(this.urls);case 2:if((t.t1=t.t0()).done){t.next=12;break}return e=t.t1.value,t.next=6,l["a"].get(this.getUrl(e),null);case 6:return n=t.sent,t.next=9,this.createMarkets(e,n);case 9:console.log("#THSWhitelistCrawler# capture ".concat(e," ... "),this.markets[e]),t.next=2;break;case 12:return t.abrupt("return",this.markets);case 15:t.prev=15,t.t2=t["catch"](0),console.warn("#THSWhitelistCrawler# capture fail",t.t2);case 18:case"end":return t.stop()}}),t,this,[[0,15]])})));function e(){return t.apply(this,arguments)}return e}()}]),t}(),g=function(){function t(){Object(s["a"])(this,t)}return Object(o["a"])(t,[{key:"captureList",value:function(t){return new d(t).capture()}},{key:"captureStock",value:function(t){return new b(t).capture()}},{key:"captureWhitelist",value:function(){return(new m).capture()}}]),t}(),w=new g,k=n("3ec6"),x=n("3835"),O=function(){function t(){Object(s["a"])(this,t),Object(c["a"])(this,"blocks",{concept:[],industry:[]}),Object(c["a"])(this,"timestamp",void 0)}return Object(o["a"])(t,[{key:"getConceptUrl",value:function(){return"http://push2.eastmoney.com/api/qt/clist/get?pn=1&pz=20&po=1&np=1&fltt=2&invt=2&fid=f3&fs=m:90+t:3&fields=f12,f14,f104,f105"}},{key:"getIndustryUrl",value:function(){return"http://push2.eastmoney.com/api/qt/clist/get?pn=1&pz=20&po=1&np=1&fields=f12,f13,f14,f62&fid=f62&fs=m:90+t:2"}},{key:"createConceptBlocks",value:function(t){var e=JSON.parse(t);if(e.data&&e.data.diff){var n=!0,r=!1,i=void 0;try{for(var a,s=e.data.diff[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var o=a.value,c=["昨日涨停","昨日连板"];c.includes(o.f14)||this.blocks.concept.push({code:o.f12,name:o.f14,up:o.f104,down:o.f105})}}catch(u){r=!0,i=u}finally{try{n||null==s["return"]||s["return"]()}finally{if(r)throw i}}}}},{key:"createIndustryBlocks",value:function(t){var e=JSON.parse(t);if(e.data&&e.data.diff){var n=!0,r=!1,i=void 0;try{for(var a,s=e.data.diff[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var o=a.value;this.blocks.industry.push({code:o.f12,name:o.f14})}}catch(c){r=!0,i=c}finally{try{n||null==s["return"]||s["return"]()}finally{if(r)throw i}}}}},{key:"capture",value:function(){var t=Object(a["a"])(i.a.mark((function t(){var e,n,r,a,s;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e=(new Date).getTime(),!(this.timestamp&&e-this.timestamp<3e5)){t.next=4;break}return t.abrupt("return",this.blocks);case 4:return this.timestamp=e,t.next=7,Promise.all([l["a"].get(this.getConceptUrl(),null),l["a"].get(this.getIndustryUrl(),null)]);case 7:return n=t.sent,r=Object(x["a"])(n,2),a=r[0],s=r[1],this.createConceptBlocks(a),this.createIndustryBlocks(s),console.log("#EastMoneyBlockCrawler# capture ..."),t.abrupt("return",this.blocks);case 17:t.prev=17,t.t0=t["catch"](0),console.warn("#EastMoneyBlockCrawler# capture fail",t.t0);case 20:case"end":return t.stop()}}),t,this,[[0,17]])})));function e(){return t.apply(this,arguments)}return e}()}]),t}(),S=new O,j=function(){function t(e){Object(s["a"])(this,t),Object(c["a"])(this,"name",void 0),Object(c["a"])(this,"blocks",{concept:[],industry:[]}),Object(c["a"])(this,"count",0),Object(c["a"])(this,"stocks",[]),this.name=e}return Object(o["a"])(t,[{key:"getUrl",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n="f8,f10,f12,f14,f3,f2,f37,f62,f112,f113,f184",r=(t={},Object(c["a"])(t,u["G"].key,"http://push2.eastmoney.com/api/qt/clist/get?po=1&np=1&fltt=2&invt=2&fid=f20&fs=m:0+t:6,m:0+t:13,m:0+t:80,m:1+t:2,m:1+t:23"),Object(c["a"])(t,u["U"].key,"http://push2.eastmoney.com/api/qt/clist/get?po=1&np=1&fltt=2&invt=2&fid=f2&fs=m:0+t:6,m:0+t:13,m:0+t:80,m:1+t:2,m:1+t:23"),Object(c["a"])(t,u["l"].key,"http://push2.eastmoney.com/api/qt/clist/get?po=1&np=1&fltt=2&invt=2&fid=f3&fs=m:0+t:6,m:0+t:13,m:0+t:80,m:1+t:2,m:1+t:23"),Object(c["a"])(t,u["k"].key,"http://push2.eastmoney.com/api/qt/clist/get?po=0&np=1&fltt=2&invt=2&fid=f3&fs=m:0+t:6,m:0+t:13,m:0+t:80,m:1+t:2,m:1+t:23"),Object(c["a"])(t,u["nb"].key,"http://push2.eastmoney.com/api/qt/clist/get?po=1&np=1&fltt=2&invt=2&fid=f5&fs=m:0+t:6,m:0+t:13,m:0+t:80,m:1+t:2,m:1+t:23"),Object(c["a"])(t,u["jb"].key,"http://push2.eastmoney.com/api/qt/clist/get?po=1&np=1&fltt=2&invt=2&fid=f8&fs=m:0+t:6,m:0+t:13,m:0+t:80,m:1+t:2,m:1+t:23"),Object(c["a"])(t,u["V"].key,"http://push2.eastmoney.com/api/qt/clist/get?po=1&np=1&fltt=2&invt=2&fid=f10&fs=m:0+t:6,m:0+t:13,m:0+t:80,m:1+t:2,m:1+t:23"),Object(c["a"])(t,u["ab"].key,"http://push2.eastmoney.com/api/qt/clist/get?po=1&np=1&fltt=2&invt=2&fid0=f4001&fid=f66&fs=m:0+t:6+f:!2,m:0+t:13+f:!2,m:0+t:80+f:!2,m:1+t:2+f:!2,m:1+t:23+f:!2&stat=1"),Object(c["a"])(t,u["c"].key,"http://push2.eastmoney.com/api/qt/clist/get?po=1&np=1&fltt=2&invt=2&fid0=f4001&fid=f72&fs=m:0+t:6+f:!2,m:0+t:13+f:!2,m:0+t:80+f:!2,m:1+t:2+f:!2,m:1+t:23+f:!2&stat=1"),Object(c["a"])(t,u["J"].key,"http://push2.eastmoney.com/api/qt/clist/get?po=1&np=1&fltt=2&invt=2&fid0=f4001&fid=f78&fs=m:0+t:6+f:!2,m:0+t:13+f:!2,m:0+t:80+f:!2,m:1+t:2+f:!2,m:1+t:23+f:!2&stat=1"),Object(c["a"])(t,u["Z"].key,"http://push2.eastmoney.com/api/qt/clist/get?po=1&np=1&fltt=2&invt=2&fid0=f4001&fid=f69&fs=m:0+t:6+f:!2,m:0+t:13+f:!2,m:0+t:80+f:!2,m:1+t:2+f:!2,m:1+t:23+f:!2&stat=1"),Object(c["a"])(t,u["b"].key,"http://push2.eastmoney.com/api/qt/clist/get?po=1&np=1&fltt=2&invt=2&fid0=f4001&fid=f75&fs=m:0+t:6+f:!2,m:0+t:13+f:!2,m:0+t:80+f:!2,m:1+t:2+f:!2,m:1+t:23+f:!2&stat=1"),Object(c["a"])(t,u["I"].key,"http://push2.eastmoney.com/api/qt/clist/get?po=1&np=1&fltt=2&invt=2&fid0=f4001&fid=f81&fs=m:0+t:6+f:!2,m:0+t:13+f:!2,m:0+t:80+f:!2,m:1+t:2+f:!2,m:1+t:23+f:!2&stat=1"),Object(c["a"])(t,u["S"].key,"http://push2.eastmoney.com/api/qt/clist/get?po=1&np=1&fltt=2&invt=2&fid0=f4001&fid=f62&fs=m:0+t:6+f:!2,m:0+t:13+f:!2,m:0+t:80+f:!2,m:1+t:2+f:!2,m:1+t:23+f:!2&stat=1"),Object(c["a"])(t,u["R"].key,"http://push2.eastmoney.com/api/qt/clist/get?po=1&np=1&fltt=2&invt=2&fid0=f4001&fid=f184&fs=m:0+t:6+f:!2,m:0+t:13+f:!2,m:0+t:80+f:!2,m:1+t:2+f:!2,m:1+t:23+f:!2&stat=1"),Object(c["a"])(t,u["P"].key,"http://push2.eastmoney.com/api/qt/clist/get?po=1&np=1&fltt=2&invt=2&fid0=f4001&fid=f268&fs=m:0+t:6+f:!2,m:0+t:13+f:!2,m:0+t:80+f:!2,m:1+t:2+f:!2,m:1+t:23+f:!2&stat=3"),Object(c["a"])(t,u["Q"].key,"http://push2.eastmoney.com/api/qt/clist/get?po=1&np=1&fltt=2&invt=2&fid0=f4001&fid=f165&fs=m:0+t:6+f:!2,m:0+t:13+f:!2,m:0+t:80+f:!2,m:1+t:2+f:!2,m:1+t:23+f:!2&stat=5"),Object(c["a"])(t,u["O"].key,"http://push2.eastmoney.com/api/qt/clist/get?po=1&np=1&fltt=2&invt=2&fid0=f4001&fid=f175&fs=m:0+t:6+f:!2,m:0+t:13+f:!2,m:0+t:80+f:!2,m:1+t:2+f:!2,m:1+t:23+f:!2&stat=10"),Object(c["a"])(t,u["u"].key,"http://push2.eastmoney.com/api/qt/clist/get?po=1&np=1&fltt=2&invt=2&fid=f3&fs=b:BK0707"),Object(c["a"])(t,u["X"].key,"http://push2.eastmoney.com/api/qt/clist/get?po=1&np=1&fltt=2&invt=2&fid=f3&fs=b:BK0804"),Object(c["a"])(t,u["n"].key,"http://push2.eastmoney.com/api/qt/clist/get?po=1&np=1&fltt=2&invt=2&fid=f62&fs=b:".concat(this.blocks.concept[0])),Object(c["a"])(t,u["o"].key,"http://push2.eastmoney.com/api/qt/clist/get?po=1&np=1&fltt=2&invt=2&fid=f62&fs=b:".concat(this.blocks.concept[1])),Object(c["a"])(t,u["p"].key,"http://push2.eastmoney.com/api/qt/clist/get?po=1&np=1&fltt=2&invt=2&fid=f62&fs=b:".concat(this.blocks.concept[2])),Object(c["a"])(t,u["w"].key,"http://push2.eastmoney.com/api/qt/clist/get?po=1&np=1&fltt=2&invt=2&fid=f62&fs=b:".concat(this.blocks.industry[0])),Object(c["a"])(t,u["x"].key,"http://push2.eastmoney.com/api/qt/clist/get?po=1&np=1&fltt=2&invt=2&fid=f62&fs=b:".concat(this.blocks.industry[1])),Object(c["a"])(t,u["y"].key,"http://push2.eastmoney.com/api/qt/clist/get?po=1&np=1&fltt=2&invt=2&fid=f62&fs=b:".concat(this.blocks.industry[2])),t);return"".concat(r[this.name],"&pn=").concat(e,"&pz=",400,"&fields=").concat(n)}},{key:"createStocks",value:function(){var t=Object(a["a"])(i.a.mark((function t(e){var n,r,a,s,o,c,u,h,l,f,p,d,v,b,y,m,g,w;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=JSON.parse(e),n.data&&n.data.diff){t.next=3;break}return t.abrupt("return");case 3:for(r=!0,a=!1,s=void 0,t.prev=6,o=n.data.diff[Symbol.iterator]();!(r=(c=o.next()).done);r=!0)u=c.value,h=u["f12"],l=u["f14"],f=+u["f2"],p=+u["f3"],d=+u["f62"],v=+u["f184"],b=+u["f112"],y=+u["f113"],m=+u["f37"],g=+u["f8"],w=+u["f10"],this.stocks.push({code:h,name:l,price:f,change:p,netinflow:d,rate:v,eps:b,bvps:y,roe:m,turnover:g,qrr:w});t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](6),a=!0,s=t.t0;case 14:t.prev=14,t.prev=15,r||null==o["return"]||o["return"]();case 17:if(t.prev=17,!a){t.next=20;break}throw s;case 20:return t.finish(17);case 21:return t.finish(14);case 22:case"end":return t.stop()}}),t,this,[[6,10,14,22],[15,,17,21]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"captureBlocks",value:function(){var t=Object(a["a"])(i.a.mark((function t(){var e,n,r,a,s,o,c,u,h,l,f,p,d;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S.capture();case 2:for(e=t.sent,n=!0,r=!1,a=void 0,t.prev=6,s=e.concept[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)c=o.value,this.blocks.concept.push(c.code);t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](6),r=!0,a=t.t0;case 14:t.prev=14,t.prev=15,n||null==s["return"]||s["return"]();case 17:if(t.prev=17,!r){t.next=20;break}throw a;case 20:return t.finish(17);case 21:return t.finish(14);case 22:for(u=!0,h=!1,l=void 0,t.prev=25,f=e.industry[Symbol.iterator]();!(u=(p=f.next()).done);u=!0)d=p.value,this.blocks.industry.push(d.code);t.next=33;break;case 29:t.prev=29,t.t1=t["catch"](25),h=!0,l=t.t1;case 33:t.prev=33,t.prev=34,u||null==f["return"]||f["return"]();case 36:if(t.prev=36,!h){t.next=39;break}throw l;case 39:return t.finish(36);case 40:return t.finish(33);case 41:case"end":return t.stop()}}),t,this,[[6,10,14,22],[15,,17,21],[25,29,33,41],[34,,36,40]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"capture",value:function(){var t=Object(a["a"])(i.a.mark((function t(){var e;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,![u["n"].key,u["o"].key,u["p"].key,u["w"].key,u["x"].key,u["y"].key].includes(this.name)){t.next=4;break}return t.next=4,this.captureBlocks();case 4:return t.next=6,l["a"].get(this.getUrl(),null);case 6:return e=t.sent,t.next=9,this.createStocks(e);case 9:return console.log("#EastMoneyListCrawler# capture ".concat(this.name," ...")),t.abrupt("return",this.stocks);case 13:t.prev=13,t.t0=t["catch"](0),console.warn("#EastMoneyListCrawler# capture ".concat(this.name," fail"),t.t0);case 16:case"end":return t.stop()}}),t,this,[[0,13]])})));function e(){return t.apply(this,arguments)}return e}()}]),t}(),T=(n("fb6a"),n("5319"),n("a15b"),n("d81d"),n("99de")),E=n("7e84"),_=n("257e"),R=n("262e"),C=function(){function t(){Object(s["a"])(this,t)}return Object(o["a"])(t,[{key:"start",value:function(){}},{key:"stop",value:function(){}},{key:"isAlive",value:function(){}},{key:"url",value:function(){}},{key:"state",value:function(){}},{key:"getAllStocks",value:function(){return{}}},{key:"getStocks",value:function(t){return{}}},{key:"getStock",value:function(t){return{}}},{key:"has",value:function(t){return!1}}]),t}(),A=n("7366"),D=n.n(A),M=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{isCapture:!1,interval:void 0};return Object(s["a"])(this,e),t=Object(T["a"])(this,Object(E["a"])(e).call(this)),Object(c["a"])(Object(_["a"])(t),"codes",[]),Object(c["a"])(Object(_["a"])(t),"stocks",{}),Object(c["a"])(Object(_["a"])(t),"decimal",{}),Object(c["a"])(Object(_["a"])(t),"map",{}),Object(c["a"])(Object(_["a"])(t),"exStocks",{}),Object(c["a"])(Object(_["a"])(t),"sse",void 0),Object(c["a"])(Object(_["a"])(t),"isCapture",void 0),Object(c["a"])(Object(_["a"])(t),"interval",30),Object(c["a"])(Object(_["a"])(t),"timestamp",(new Date).getTime()),t.isCapture=r.isCapture,r.interval&&(t.interval=r.interval),t.codes=n,t}return Object(R["a"])(e,t),Object(o["a"])(e,[{key:"getSecids",value:function(){var t=[],e=!0,n=!1,r=void 0;try{for(var i,a=this.codes[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var s=i.value;if("1.000001"!==s&&"0000011"!==s){var o=L.marketCode(s),c="".concat(o,".").concat(s);t.push(c)}else t.push("1.000001")}}catch(u){n=!0,r=u}finally{try{e||null==a["return"]||a["return"]()}finally{if(n)throw r}}return t}},{key:"getUrl",value:function(){var t="f1,f2,f3,f4,f5,f6,f8,f9,f10,f12,f13,f14,f15,f16,f17,f18,f19,f37,f45,f62,f64,f65,f69,f70,f71,f75,f112,f113,f184",e=this.getSecids(),n=1e3*this.interval,r=Math.floor(98*Math.random())+1;return"https://".concat(r,".push2.eastmoney.com/api/qt/ulist/sse?invt=3&po=1&pi=0&pz=").concat(e.length,"&mpi=").concat(n,"&secids=").concat(e.join(","),"&fields=").concat(t)}},{key:"listen",value:function(){var t=Object(a["a"])(i.a.mark((function t(){var e=this;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){e.timestamp=(new Date).getTime();try{var r=e.getUrl();e.sse=new EventSource(r),e.sse.onmessage=function(n){n.event;var r=n.data;n.id,n.retry;if(e.isCapture||(e.timestamp=(new Date).getTime()),r&&(r=JSON.parse(r),r.data)){var i=r.data.diff;for(var a in i){var s=i[a],o=s["f12"],c=s["f14"],u=s["f1"];o&&c&&("上证指数"===c?(e.map[a]="1.000001",e.decimal["1.000001"]=+u):(e.map[a]=o,e.decimal[o]=+u)),e.mergeStock(e.map[a],s)}console.log("#EastMoneySSECrawler# sse message: ",r),e.isCapture&&e.stop(),e.isCapture&&t(e.stocks)}},e.sse.onerror=function(t){e.isCapture&&n()}}catch(i){console.warn("#EastMoneySSECrawler# sse error ...",i)}})));case 1:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"start",value:function(){var t=this;try{this.stop(),Object(a["a"])(i.a.mark((function e(){return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!t.codes.length){e.next=4;break}return e.next=4,t.listen();case 4:e.next=8;break;case 6:e.prev=6,e.t0=e["catch"](0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})))(),console.log("#EastMoneySSECrawler# sse start ...",this.url())}catch(e){console.warn("#EastMoneySSECrawler# sse fail",e)}return this}},{key:"isAlive",value:function(){var t=(new Date).getTime();return t-this.timestamp<3*this.interval*1e3}},{key:"url",value:function(){return this.sse.url}},{key:"state",value:function(){return this.sse.readyState}},{key:"stop",value:function(){this.sse&&this.sse.close()}},{key:"mergeStock",value:function(t,e){var n=this.stocks[t];if(!n)return this.updateExStcok(t,null,e),void(this.stocks[t]=this.createStock(t,e));this.updateExStcok(t,n,e),void 0!==e["f2"]&&(n.price=+(+e["f2"]/Math.pow(10,this.decimal[t])).toFixed(2),n.close=+(+e["f2"]/Math.pow(10,this.decimal[t])).toFixed(2)),void 0!==e["f3"]&&(n.change=+(+e["f3"]/100).toFixed(2)),void 0!==e["f15"]&&(n.high=+(+e["f15"]/Math.pow(10,this.decimal[t])).toFixed(2)),void 0!==e["f16"]&&(n.low=+(+e["f16"]/Math.pow(10,this.decimal[t])).toFixed(2)),void 0!==e["f17"]&&(n.open=+(+e["f17"]/Math.pow(10,this.decimal[t])).toFixed(2)),void 0!==e["f8"]&&(n.turnover=+(+e["f8"]/100).toFixed(2)),void 0!==e["f10"]&&(n.qrr=+(+e["f10"]/100).toFixed(2)),void 0!==e["f62"]&&(n.netinflow=+e["f62"]),void 0!==e["f184"]&&(n.rate=+(+e["f184"]/100).toFixed(2)),void 0!==e["f5"]&&(n.volume=+e["f5"]),void 0!==e["f6"]&&(n.amount=+e["f6"])}},{key:"updateExStcok",value:function(t,e,n){var r=this.exStocks[t]||{},i=n["f64"],a=n["f65"],s=n["f69"],o=n["f70"],c=n["f71"],u=n["f75"];void 0!==i&&(r.supinflow=+(+i).toFixed(2)),void 0!==a&&(r.supoutflow=+(+a).toFixed(2)),void 0!==s&&(r.supinflowrate=+(+s/100).toFixed(2)),void 0!==o&&(r.biginflow=+(+o).toFixed(2)),void 0!==c&&(r.bigoutflow=+(+c).toFixed(2)),void 0!==u&&(r.biginflowrate=+(+u/100).toFixed(2)),this.exStocks[t]=r,e&&(e.inflow=+(r.supinflow+r.biginflow).toFixed(2),e.outflow=+(r.supoutflow+r.bigoutflow).toFixed(2))}},{key:"createStock",value:function(t,e){var n={code:e["f12"],name:e["f14"],price:+(+e["f2"]/Math.pow(10,this.decimal[t])).toFixed(2),change:+(+e["f3"]/100).toFixed(2),rate:+(+e["f184"]/100).toFixed(2),roe:+(+e["f37"]).toFixed(2),eps:+(+e["f112"]).toFixed(2),bvps:+(+e["f113"]).toFixed(2),open:+(+e["f17"]/Math.pow(10,this.decimal[t])).toFixed(2),close:+(+e["f2"]/Math.pow(10,this.decimal[t])).toFixed(2),high:+(+e["f15"]/Math.pow(10,this.decimal[t])).toFixed(2),low:+(+e["f16"]/Math.pow(10,this.decimal[t])).toFixed(2),prevclose:+(+e["f18"]/Math.pow(10,this.decimal[t])).toFixed(2),turnover:+(+e["f8"]/100).toFixed(2),qrr:+(+e["f10"]/100).toFixed(2),inflow:+(+e["f64"]+ +e["f70"]).toFixed(2),outflow:+(+e["f65"]+ +e["f71"]).toFixed(2),netinflow:+e["f62"],volume:+e["f5"],amount:+e["f6"]};return new v["a"](n)}},{key:"has",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,a=t[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var s=i.value;if(!this.stocks[s])return!1}}catch(o){n=!0,r=o}finally{try{e||null==a["return"]||a["return"]()}finally{if(n)throw r}}return!0}},{key:"getAllExStocks",value:function(){return this.exStocks}},{key:"getAllStocks",value:function(){return this.stocks}},{key:"getStock",value:function(t){var e=D()(this.stocks[t]);return e.code=t,e}},{key:"getStocks",value:function(t){var e={},n=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var o=a.value;this.stocks[o]&&(e[o]=this.getStock(o))}}catch(c){r=!0,i=c}finally{try{n||null==s["return"]||s["return"]()}finally{if(r)throw i}}return e}}]),e}(C),B=function(){function t(){Object(s["a"])(this,t)}return Object(o["a"])(t,[{key:"capture",value:function(){var t=Object(a["a"])(i.a.mark((function t(e){var n,r;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.length){t.next=3;break}return t.abrupt("return",[]);case 3:return n=new M(e,{isCapture:!0}),t.next=6,n.listen();case 6:return r=t.sent,console.log("#EastMoneyStocksCrawler# EastMoneyStocksCrawler capture: ",r),t.abrupt("return",r);case 11:t.prev=11,t.t0=t["catch"](0),console.warn("#EastMoneyStocksCrawler# EastMoneyStocksCrawler capture fail",t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));function e(e){return t.apply(this,arguments)}return e}()}]),t}(),q=function(){function t(){Object(s["a"])(this,t)}return Object(o["a"])(t,[{key:"index",value:function(){var t=Object(a["a"])(i.a.mark((function t(){var e,n;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(new B).capture(["1.000001"]);case 2:return e=t.sent,n=e["1.000001"],n.code="1.000001",t.abrupt("return",[n]);case 6:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"marketCode",value:function(t){if("1.000001"===t)return"1";if("399001"===t)return"0";var e=t.slice(0,2).toLowerCase();if(["00","30","12","20"].includes(e))return"0";if(["60","68","11","90"].includes(e))return"1";e=t.replace(/\d+/g,"").toLowerCase();var n=["ss","zn","al","cu","rb","bu","pb","hc","fu","ni","au","ru","wr","ag","sp","sn"],r=["nr","sc","lu","bc"],i=["m","b","a","i","v","l","jd","eb","pp","c","cs","jm","rr","j","y","pg","fb","p","eg","lh","bb"],a=["rm","ma","sa","cj","cy","fg","rs","ri","cf","wh","jr","sm","sr","ta","zc","pf","oi","sf","ap","pk","ur"],s=["tm","tf","ts","ic","if","ih"];return n.includes(e)?"113":r.includes(e)?"142":i.includes(e)?"114":a.includes(e)?"115":s.includes(e)?"220":void 0}},{key:"isTrading",value:function(){var t=Object(a["a"])(i.a.mark((function t(){var e,n,r,a;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e="http://push2.eastmoney.com/api/qt/ulist.np/get?secids=1.000001&fields=f1,f2,f3,f4,f12,f13,f14,f107,f152",t.next=4,l["a"].get(e,null);case 4:if(n=t.sent,r=JSON.parse(n),a=r.data.diff[0].f107,![1,2,4].includes(a)){t.next=12;break}return console.log("#EastMoneyMarketIndexListCrawler# market open ..."),t.abrupt("return",!0);case 12:return console.log("#EastMoneyMarketIndexListCrawler# market close ..."),t.abrupt("return",!1);case 14:t.next=20;break;case 16:return t.prev=16,t.t0=t["catch"](0),console.warn("#EastMoneyMarketIndexListCrawler# isTrading : ",t.t0),t.abrupt("return",!0);case 20:case"end":return t.stop()}}),t,null,[[0,16]])})));function e(){return t.apply(this,arguments)}return e}()}]),t}(),L=new q,I=function(){function t(e){Object(s["a"])(this,t),Object(c["a"])(this,"originCode","000001"),Object(c["a"])(this,"code","000001"),Object(c["a"])(this,"type",void 0),this.originCode=e,this.code=e,this.type=L.marketCode(this.code),"1.000001"===e&&(this.code="000001",this.type="1")}return Object(o["a"])(t,[{key:"getCodeWithArea",value:function(){var t=L.marketCode(this.code);return"1.000001"===this.originCode&&(t="1"),"".concat(this.code).concat(t)}},{key:"getExUrl",value:function(){return"http://push2.eastmoney.com/api/qt/ulist.np/get?secids=".concat(this.type,".").concat(this.code,"&fields=f14,f37,f112,f113,f184")}},{key:"getFlowUrl",value:function(){return"http://push2.eastmoney.com/api/qt/stock/get?secid=".concat(this.type,".").concat(this.code,"&fields=f58,f135,f136,f137,f138,f139,f141,f142,f144,f145,f147,f148")}},{key:"getUrl",value:function(){var t=this.getCodeWithArea();return"http://nuff.eastmoney.com/EM_Finance2015TradeInterface/JS.ashx?id=".concat(t)}},{key:"createStock",value:function(t,e,n){t=t.slice("callback(".length,-1);var r=JSON.parse(t)["Value"],i=JSON.parse(e).data||{},a=JSON.parse(n).data||{},s=a.diff?a.diff[0]:{},o={code:this.originCode,name:r[2]||"",price:r[25]||0,change:r[29]||0,rate:+(+s["f184"]/100).toFixed(2)||0,roe:+(+s["f37"]).toFixed(2)||0,eps:+(+s["f112"]).toFixed(2)||0,bvps:+(+s["f113"]).toFixed(2)||0,open:r[28]||0,turnover:r[37]||0,qrr:r[36]||0,inflow:i["f135"]||0,outflow:i["f136"]||0,netinflow:i["f137"]||0,volume:r[31]||0};return new v["a"](o)}},{key:"capture",value:function(){var t=Object(a["a"])(i.a.mark((function t(){var e,n,r,a,s;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all([l["a"].get(this.getUrl(),null),l["a"].get(this.getFlowUrl(),null),l["a"].get(this.getExUrl(),null)]);case 3:return e=t.sent,n=Object(x["a"])(e,3),r=n[0],a=n[1],s=n[2],console.log("#EastMoneyStockCrawler# capture ".concat(this.code," ")),t.abrupt("return",this.createStock(r,a,s));case 12:t.prev=12,t.t0=t["catch"](0),console.warn("#EastMoneyStockCrawler# capture ".concat(this.code," fail"),t.t0);case 15:case"end":return t.stop()}}),t,this,[[0,12]])})));function e(){return t.apply(this,arguments)}return e}()}]),t}(),P=(n("b64b"),function(){function t(){Object(s["a"])(this,t),Object(c["a"])(this,"markets",new y),Object(c["a"])(this,"urls",{"sse-50":"http://push2.eastmoney.com/api/qt/clist/get?po=1&np=1&fltt=2&invt=2&fid=f3&fs=b:BK0611","sse-180":"http://push2.eastmoney.com/api/qt/clist/get?po=1&np=1&fltt=2&invt=2&fid=f3&fs=b:BK0612","sse-380":"http://push2.eastmoney.com/api/qt/clist/get?po=1&np=1&fltt=2&invt=2&fid=f3&fs=b:BK0705","szse-100":"http://push2.eastmoney.com/api/qt/clist/get?po=1&np=1&fltt=2&invt=2&fid=f3&fs=b:BK0743","hs-300":"http://push2.eastmoney.com/api/qt/clist/get?po=1&np=1&fltt=2&invt=2&fid=f3&fs=b:BK0500","zz-500":"http://push2.eastmoney.com/api/qt/clist/get?po=1&np=1&fltt=2&invt=2&fid=f3&fs=b:BK0701","sub-new":"http://push2.eastmoney.com/api/qt/clist/get?po=1&np=1&fltt=2&invt=2&fid=f3&fs=b:BK0501",bond:"http://push2.eastmoney.com/api/qt/clist/get?po=1&np=1&fltt=2&invt=2&fid=f3&fs=b:MK0354",future:"",all:"http://push2.eastmoney.com/api/qt/clist/get?po=1&np=1&fltt=2&invt=2&fid0=f4001&fid=f62&fs=m:0+t:6+f:!2,m:0+t:13+f:!2,m:0+t:80+f:!2,m:1+t:2+f:!2,m:1+t:23+f:!2&stat=1"})}return Object(o["a"])(t,[{key:"getUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,r="f12,f14,f232,f234",i=this.urls[t];return"".concat(i,"&pn=").concat(e,"&pz=").concat(n,"&fields=").concat(r)}},{key:"createMarkets",value:function(){var t=Object(a["a"])(i.a.mark((function t(e){var n,r,a,s,o,c,u,h,f;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l["a"].get(this.getUrl(e),null);case 2:if(n=t.sent,r=JSON.parse(n),r.data){t.next=6;break}return t.abrupt("return");case 6:for(this.markets[e]||(this.markets[e]=[]),a=!0,s=!1,o=void 0,t.prev=10,c=r.data.diff[Symbol.iterator]();!(a=(u=c.next()).done);a=!0)h=u.value,f=h["f12"],this.markets[e].push(f);t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](10),s=!0,o=t.t0;case 18:t.prev=18,t.prev=19,a||null==c["return"]||c["return"]();case 21:if(t.prev=21,!s){t.next=24;break}throw o;case 24:return t.finish(21);case 25:return t.finish(18);case 26:case"end":return t.stop()}}),t,this,[[10,14,18,26],[19,,21,25]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"createBondsOfMarkets",value:function(){var t=Object(a["a"])(i.a.mark((function t(e){var n,r,a,s,o,c,u,h,f;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l["a"].get(this.getUrl(e),null);case 2:if(n=t.sent,r=JSON.parse(n),r.data){t.next=6;break}return t.abrupt("return");case 6:for(this.markets[e]||(this.markets[e]={}),a=!0,s=!1,o=void 0,t.prev=10,c=r.data.diff[Symbol.iterator]();!(a=(u=c.next()).done);a=!0)h=u.value,f=h["f12"],this.markets[e][f]=h["f232"];t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](10),s=!0,o=t.t0;case 18:t.prev=18,t.prev=19,a||null==c["return"]||c["return"]();case 21:if(t.prev=21,!s){t.next=24;break}throw o;case 24:return t.finish(21);case 25:return t.finish(18);case 26:case"end":return t.stop()}}),t,this,[[10,14,18,26],[19,,21,25]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"createFutureOfMarkets",value:function(){var t=Object(a["a"])(i.a.mark((function t(e){var n,r,a,s,o,c,u,h,f,p,d,v,b,y;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.markets[e]||(this.markets[e]=[]),n=["113","142","114","115","220"],r=0,a=n;case 3:if(!(r<a.length)){t.next=34;break}return s=a[r],o="http://futsse.eastmoney.com/list/main/".concat(s,"?orderBy=zdf&sort=desc&pageSize=1000&pageIndex=0"),t.next=8,l["a"].get(o,null);case 8:if(c=t.sent,u=JSON.parse(c),u.list){t.next=12;break}return t.abrupt("continue",31);case 12:for(h=!0,f=!1,p=void 0,t.prev=15,d=u.list[Symbol.iterator]();!(h=(v=d.next()).done);h=!0)b=v.value,y=b.dm.slice(0,-1),this.markets[e].push(y);t.next=23;break;case 19:t.prev=19,t.t0=t["catch"](15),f=!0,p=t.t0;case 23:t.prev=23,t.prev=24,h||null==d["return"]||d["return"]();case 26:if(t.prev=26,!f){t.next=29;break}throw p;case 29:return t.finish(26);case 30:return t.finish(23);case 31:r++,t.next=3;break;case 34:case"end":return t.stop()}}),t,this,[[15,19,23,31],[24,,26,30]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"capture",value:function(){var t=Object(a["a"])(i.a.mark((function t(e){var n,r,a,s,o,c;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.prev=0,e=e||Object.keys(this.urls),n=!0,r=!1,a=void 0,t.prev=5,s=e[Symbol.iterator]();case 7:if(n=(o=s.next()).done){t.next=25;break}if(c=o.value,"bond"!==c){t.next=14;break}return t.next=12,this.createBondsOfMarkets(c);case 12:t.next=21;break;case 14:if("future"!==c){t.next=19;break}return t.next=17,this.createFutureOfMarkets(c);case 17:t.next=21;break;case 19:return t.next=21,this.createMarkets(c);case 21:console.log("#EastMoneyWhitelistCrawler# capture ".concat(c," ... "),this.markets[c]);case 22:n=!0,t.next=7;break;case 25:t.next=31;break;case 27:t.prev=27,t.t0=t["catch"](5),r=!0,a=t.t0;case 31:t.prev=31,t.prev=32,n||null==s["return"]||s["return"]();case 34:if(t.prev=34,!r){t.next=37;break}throw a;case 37:return t.finish(34);case 38:return t.finish(31);case 39:return t.abrupt("return",this.markets);case 42:t.prev=42,t.t1=t["catch"](0),console.warn("#EastMoneyWhitelistCrawler# capture fail",t.t1);case 45:case"end":return t.stop()}}),t,this,[[0,42],[5,27,31,39],[32,,34,38]])})));function e(e){return t.apply(this,arguments)}return e}()}]),t}()),N=n("a37f"),U=function(){function t(e){Object(s["a"])(this,t),Object(c["a"])(this,"code",void 0),Object(c["a"])(this,"flows",[]),this.code=e}return Object(o["a"])(t,[{key:"getUrl",value:function(){var t=L.marketCode(this.code),e="".concat(t,".").concat(this.code);"1.000001"===this.code&&(e="1.000001");var n=Math.floor(98*Math.random())+1;return"http://".concat(n,".push2his.eastmoney.com/api/qt/stock/fflow/daykline/get?secid=").concat(e,"&fields1=f1,f2,f3,f7&fields2=f51,f52,f53,f54,f55,f56,f57,f58,f59,f60,f61,f62,f63,f64,f65")}},{key:"createFlows",value:function(t){var e=JSON.parse(t);if(e.data){var n=e.data.klines,r=e.data.name,i=e.data.code,a=!0,s=!1,o=void 0;try{for(var c,u=n[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var h=c.value,l=h.split(","),f=p()(l[0]).format("YYYYMMDD"),d=l[11],v=l[12],b=l[1],y=l[6],m=l[5],g=l[10],w=l[4],k=l[9],x=new N["a"]({code:i,name:r,date:f,price:d,change:v,netinflow:b,netinflowrate:y,supinflow:m,supinflowrate:g,biginflow:w,biginflowrate:k});this.flows.push(x)}}catch(O){s=!0,o=O}finally{try{a||null==u["return"]||u["return"]()}finally{if(s)throw o}}}}},{key:"capture",value:function(){var t=Object(a["a"])(i.a.mark((function t(){var e;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l["a"].get(this.getUrl(),null);case 3:return e=t.sent,this.createFlows(e),console.log("#EastMoneyStockFlowsCrawler# capture flows ".concat(this.code," ...")),t.abrupt("return",this.flows);case 9:t.prev=9,t.t0=t["catch"](0),console.warn("#EastMoneyStockFlowsCrawler# capture ".concat(this.code," fail"),t.t0);case 12:case"end":return t.stop()}}),t,this,[[0,9]])})));function e(){return t.apply(this,arguments)}return e}()}]),t}(),F=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u["t"].key;Object(s["a"])(this,t),Object(c["a"])(this,"name",void 0),this.name=e}return Object(o["a"])(t,[{key:"getUrl",value:function(){var t=Object(a["a"])(i.a.mark((function t(){var e,n;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=p()().subtract(1,"day").format("YYYY-MM-DD"),1===+p()().day()&&(e=p()().subtract(3,"days").format("YYYY-MM-DD")),n="http://data.eastmoney.com/DataCenter_V3/stock2016/TradeDetail/pagesize=200,page=1,sortRule=-1,sortType=JmMoney,startDate=".concat(e,",endDate=").concat(e,",gpfw=0,js=.html"),t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"createStocks",value:function(){var t=Object(a["a"])(i.a.mark((function t(e){var n,r,a,s,o,c,u,h,l,f,p;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(n=JSON.parse(e),r=[],a=!0,s=!1,o=void 0,t.prev=5,c=n.data[Symbol.iterator]();!(a=(u=c.next()).done);a=!0)h=u.value,l=h["SCode"],f=h["SName"],p=+h["Chgradio"],r.push({code:l,name:f,change:p});t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](5),s=!0,o=t.t0;case 13:t.prev=13,t.prev=14,a||null==c["return"]||c["return"]();case 16:if(t.prev=16,!s){t.next=19;break}throw o;case 19:return t.finish(16);case 20:return t.finish(13);case 21:return t.abrupt("return",r);case 22:case"end":return t.stop()}}),t,null,[[5,9,13,21],[14,,16,20]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"capture",value:function(){var t=Object(a["a"])(i.a.mark((function t(){var e,n,r;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getUrl();case 3:return e=t.sent,t.next=6,l["a"].get(e,null);case 6:return n=t.sent,t.next=9,this.createStocks(n);case 9:return r=t.sent,console.log("#EastMoneyDragonTigerListCrawler# capture ".concat(this.name," ...")),t.abrupt("return",r);case 14:t.prev=14,t.t0=t["catch"](0),console.warn("#EastMoneyDragonTigerListCrawler# capture ".concat(this.name," fail"),t.t0);case 17:case"end":return t.stop()}}),t,this,[[0,14]])})));function e(){return t.apply(this,arguments)}return e}()}]),t}(),H=new F,V=function(){function t(){Object(s["a"])(this,t)}return Object(o["a"])(t,[{key:"marketCode",value:function(t){return L.marketCode(t)}},{key:"isTrading",value:function(){return L.isTrading()}},{key:"captureBlock",value:function(){return S.capture()}},{key:"captureList",value:function(t){return t===u["t"].key?H.capture():t===u["F"].key?L.index():new j(t).capture()}},{key:"captureStocks",value:function(t){return(new B).capture(t)}},{key:"captureStock",value:function(t){return new I(t).capture()}},{key:"captureWhitelist",value:function(t){return(new P).capture(t)}},{key:"captureFlows",value:function(t){return new U(t).capture()}},{key:"sseStart",value:function(t,e){return new M(t,e).start()}}]),t}(),Y=new V,W=function(){function t(){Object(s["a"])(this,t)}return Object(o["a"])(t,[{key:"marketCode",value:function(t){if("1.000001"===t)return"SH";if("399001"===t)return"SZ";var e=t.slice(0,2).toLowerCase();return["00","30","12","20"].includes(e)?"SZ":["60","68","11","90"].includes(e)?"SH":void 0}},{key:"urlOfList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=arguments.length>2?arguments[2]:void 0;return n?"https://api.jianxitouyan.com/radar/radar?direction=".concat(n,"&page=").concat(t,"&size=").concat(e):"https://api.jianxitouyan.com/radar/radarNew?page=".concat(t,"&size=").concat(e)}},{key:"urlOfStock",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n="".concat(t,".").concat(this.marketCode(t));return"https://api.jianxitouyan.com/radar/radarNew?code=".concat(n,"&size=").concat(e)}},{key:"captureList",value:function(){var t=Object(a["a"])(i.a.mark((function t(){var e,n,r,a,s=arguments;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=s.length>0&&void 0!==s[0]?s[0]:1,n=s.length>1&&void 0!==s[1]?s[1]:50,r=s.length>2?s[2]:void 0,t.prev=3,t.next=6,l["a"].get(this.urlOfList(e,n,r),null,{dataType:"json"});case 6:return a=t.sent,console.log("#GAPListCrawler# capture list ...",a.data),t.abrupt("return",a.data);case 11:return t.prev=11,t.t0=t["catch"](3),console.warn("#GAPListCrawler# capture list fail",t.t0),t.abrupt("return",[]);case 15:case"end":return t.stop()}}),t,this,[[3,11]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"captureStock",value:function(){var t=Object(a["a"])(i.a.mark((function t(e){var n;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l["a"].get(this.urlOfStock(),null,{dataType:"json"});case 3:return n=t.sent,console.log("#GAPListCrawler# capture stock ".concat(e," ..."),n.data),t.abrupt("return",n.data);case 8:t.prev=8,t.t0=t["catch"](0),console.warn("#GAPListCrawler# capture stock ".concat(e," fail"),t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(e){return t.apply(this,arguments)}return e}()}]),t}(),z=new W,K=function(){function t(){Object(s["a"])(this,t),Object(c["a"])(this,"ths",w),Object(c["a"])(this,"eastmoney",Y),Object(c["a"])(this,"sina",k["a"]),Object(c["a"])(this,"gap",z),Object(c["a"])(this,"cache",{list:{}})}return Object(o["a"])(t,[{key:"isExpired",value:function(t){if(!t)return!0;var e=(new Date).getTime();return e-t.timestamp>18e4}},{key:"isTrading",value:function(){var t=Object(a["a"])(i.a.mark((function t(){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Y.isTrading());case 1:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"captureBlock",value:function(){var t=Object(a["a"])(i.a.mark((function t(){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Y.captureBlock());case 1:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"captureList",value:function(){var t=Object(a["a"])(i.a.mark((function t(e){var n,r;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=[u["a"].key,u["z"].key,u["T"].key,u["D"].key,u["s"].key,u["ob"].key,u["C"].key,u["B"].key,u["Y"].key,u["H"].key,u["E"].key,u["A"].key,u["W"].key,u["d"].key,u["m"].key,u["hb"].key,u["fb"].key,u["bb"].key,u["ib"].key,u["gb"].key,u["cb"].key,u["db"].key,u["eb"].key,u["q"].key,u["r"].key,u["pb"].key],this.isExpired(this.cache.list[e])){t.next=3;break}return t.abrupt("return",this.cache.list[e].data);case 3:if(!n.includes(e)){t.next=9;break}return t.next=6,w.captureList(e);case 6:r=t.sent,t.next=12;break;case 9:return t.next=11,Y.captureList(e);case 11:r=t.sent;case 12:return this.cache.list[e]={data:r,timestamp:(new Date).getTime()},t.abrupt("return",r);case 14:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"captureStocks",value:function(){var t=Object(a["a"])(i.a.mark((function t(e){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!h["a"].has(e)){t.next=2;break}return t.abrupt("return",h["a"].stocks(e));case 2:return t.abrupt("return",Y.captureStocks(e));case 3:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"captureStock",value:function(){var t=Object(a["a"])(i.a.mark((function t(e){var n;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!h["a"].has([e])){t.next=2;break}return t.abrupt("return",h["a"].stocks([e])[e]);case 2:return t.next=4,Y.captureStocks([e]);case 4:return n=t.sent,t.abrupt("return",n[e]);case 6:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"captureFlows",value:function(){var t=Object(a["a"])(i.a.mark((function t(e){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Y.captureFlows(e));case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"captureKline",value:function(){var t=Object(a["a"])(i.a.mark((function t(e,n,r){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",k["a"].captureKline(e,n,r));case 1:case"end":return t.stop()}}),t)})));function e(e,n,r){return t.apply(this,arguments)}return e}()},{key:"captureWhitelist",value:function(){var t=Object(a["a"])(i.a.mark((function t(e){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Y.captureWhitelist(e));case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"sseStart",value:function(t,e){return Y.sseStart(t,e)}}]),t}();e["a"]=new K},9152:function(t,e){e.read=function(t,e,n,r,i){var a,s,o=8*i-r-1,c=(1<<o)-1,u=c>>1,h=-7,l=n?i-1:0,f=n?-1:1,p=t[e+l];for(l+=f,a=p&(1<<-h)-1,p>>=-h,h+=o;h>0;a=256*a+t[e+l],l+=f,h-=8);for(s=a&(1<<-h)-1,a>>=-h,h+=r;h>0;s=256*s+t[e+l],l+=f,h-=8);if(0===a)a=1-u;else{if(a===c)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),a-=u}return(p?-1:1)*s*Math.pow(2,a-r)},e.write=function(t,e,n,r,i,a){var s,o,c,u=8*a-i-1,h=(1<<u)-1,l=h>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:a-1,d=r?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),e+=s+l>=1?f/c:f*Math.pow(2,1-l),e*c>=2&&(s++,c/=2),s+l>=h?(o=0,s=h):s+l>=1?(o=(e*c-1)*Math.pow(2,i),s+=l):(o=e*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;t[n+p]=255&o,p+=d,o/=256,i-=8);for(s=s<<i|o,u+=i;u>0;t[n+p]=255&s,p+=d,s/=256,u-=8);t[n+p-d]|=128*v}},"91dd":function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,a){e=e||"&",n=n||"=";var s={};if("string"!==typeof t||0===t.length)return s;var o=/\+/g;t=t.split(e);var c=1e3;a&&"number"===typeof a.maxKeys&&(c=a.maxKeys);var u=t.length;c>0&&u>c&&(u=c);for(var h=0;h<u;++h){var l,f,p,d,v=t[h].replace(o,"%20"),b=v.indexOf(n);b>=0?(l=v.substr(0,b),f=v.substr(b+1)):(l=v,f=""),p=decodeURIComponent(l),d=decodeURIComponent(f),r(s,p)?i(s[p])?s[p].push(d):s[p]=[s[p],d]:s[p]=d}return s};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},"91e5":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n("d3b7");var r=n("a34a"),i=n.n(r),a=(n("96cf"),n("1da1"));function s(t,e){return o.apply(this,arguments)}function o(){return o=Object(a["a"])(i.a.mark((function t(e,n){var r;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=document.querySelector("#scripts"),r?r.innerHTML="":(r=document.createElement("div"),r.setAttribute("id","scripts"),document.body.appendChild(r)),t.abrupt("return",c(e,(function(){r.innerHTML="",n&&n()}),r));case 3:case"end":return t.stop()}}),t)}))),o.apply(this,arguments)}function c(t,e,n){return u.apply(this,arguments)}function u(){return u=Object(a["a"])(i.a.mark((function t(e,n,r){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,i){var a=document.createElement("script");a.type="text/javascript",a.src=e,a.onload=function(){t(),n&&n()},a.onerror=function(t){i(t)},(r||document.body).appendChild(a)})));case 1:case"end":return t.stop()}}),t)}))),u.apply(this,arguments)}},"925e":function(t,e,n){(function(e,r,i){var a=n("a9f1"),s=n("3fb5"),o=n("c90b"),c=n("e372"),u=n("d938"),h=o.IncomingMessage,l=o.readyStates;function f(t,e){return a.fetch&&e?"fetch":a.mozchunkedarraybuffer?"moz-chunked-arraybuffer":a.msstream?"ms-stream":a.arraybuffer&&t?"arraybuffer":a.vbArray&&t?"text:vbarray":"text"}var p=t.exports=function(t){var n,r=this;c.Writable.call(r),r._opts=t,r._body=[],r._headers={},t.auth&&r.setHeader("Authorization","Basic "+new e(t.auth).toString("base64")),Object.keys(t.headers).forEach((function(e){r.setHeader(e,t.headers[e])}));var i=!0;if("disable-fetch"===t.mode||"requestTimeout"in t&&!a.abortController)i=!1,n=!0;else if("prefer-streaming"===t.mode)n=!1;else if("allow-wrong-content-type"===t.mode)n=!a.overrideMimeType;else{if(t.mode&&"default"!==t.mode&&"prefer-fast"!==t.mode)throw new Error("Invalid value for opts.mode");n=!0}r._mode=f(n,i),r._fetchTimer=null,r.on("finish",(function(){r._onFinish()}))};function d(t){try{var e=t.status;return null!==e&&0!==e}catch(n){return!1}}s(p,c.Writable),p.prototype.setHeader=function(t,e){var n=this,r=t.toLowerCase();-1===v.indexOf(r)&&(n._headers[r]={name:t,value:e})},p.prototype.getHeader=function(t){var e=this._headers[t.toLowerCase()];return e?e.value:null},p.prototype.removeHeader=function(t){var e=this;delete e._headers[t.toLowerCase()]},p.prototype._onFinish=function(){var t=this;if(!t._destroyed){var n=t._opts,s=t._headers,o=null;"GET"!==n.method&&"HEAD"!==n.method&&(o=a.arraybuffer?u(e.concat(t._body)):a.blobConstructor?new r.Blob(t._body.map((function(t){return u(t)})),{type:(s["content-type"]||{}).value||""}):e.concat(t._body).toString());var c=[];if(Object.keys(s).forEach((function(t){var e=s[t].name,n=s[t].value;Array.isArray(n)?n.forEach((function(t){c.push([e,t])})):c.push([e,n])})),"fetch"===t._mode){var h=null;if(a.abortController){var f=new AbortController;h=f.signal,t._fetchAbortController=f,"requestTimeout"in n&&0!==n.requestTimeout&&(t._fetchTimer=r.setTimeout((function(){t.emit("requestTimeout"),t._fetchAbortController&&t._fetchAbortController.abort()}),n.requestTimeout))}r.fetch(t._opts.url,{method:t._opts.method,headers:c,body:o||void 0,mode:"cors",credentials:n.withCredentials?"include":"same-origin",signal:h}).then((function(e){t._fetchResponse=e,t._connect()}),(function(e){r.clearTimeout(t._fetchTimer),t._destroyed||t.emit("error",e)}))}else{var p=t._xhr=new r.XMLHttpRequest;try{p.open(t._opts.method,t._opts.url,!0)}catch(d){return void i.nextTick((function(){t.emit("error",d)}))}"responseType"in p&&(p.responseType=t._mode.split(":")[0]),"withCredentials"in p&&(p.withCredentials=!!n.withCredentials),"text"===t._mode&&"overrideMimeType"in p&&p.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in n&&(p.timeout=n.requestTimeout,p.ontimeout=function(){t.emit("requestTimeout")}),c.forEach((function(t){p.setRequestHeader(t[0],t[1])})),t._response=null,p.onreadystatechange=function(){switch(p.readyState){case l.LOADING:case l.DONE:t._onXHRProgress();break}},"moz-chunked-arraybuffer"===t._mode&&(p.onprogress=function(){t._onXHRProgress()}),p.onerror=function(){t._destroyed||t.emit("error",new Error("XHR error"))};try{p.send(o)}catch(d){return void i.nextTick((function(){t.emit("error",d)}))}}}},p.prototype._onXHRProgress=function(){var t=this;d(t._xhr)&&!t._destroyed&&(t._response||t._connect(),t._response._onXHRProgress())},p.prototype._connect=function(){var t=this;t._destroyed||(t._response=new h(t._xhr,t._fetchResponse,t._mode,t._fetchTimer),t._response.on("error",(function(e){t.emit("error",e)})),t.emit("response",t._response))},p.prototype._write=function(t,e,n){var r=this;r._body.push(t),n()},p.prototype.abort=p.prototype.destroy=function(){var t=this;t._destroyed=!0,r.clearTimeout(t._fetchTimer),t._response&&(t._response._destroyed=!0),t._xhr?t._xhr.abort():t._fetchAbortController&&t._fetchAbortController.abort()},p.prototype.end=function(t,e,n){var r=this;"function"===typeof t&&(n=t,t=void 0),c.Writable.prototype.end.call(r,t,e,n)},p.prototype.flushHeaders=function(){},p.prototype.setTimeout=function(){},p.prototype.setNoDelay=function(){},p.prototype.setSocketKeepAlive=function(){};var v=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,n("b639").Buffer,n("c8ba"),n("4362"))},9313:function(t,e,n){"use strict";n("caad"),n("d3b7"),n("2532"),n("4795");var r=n("a34a"),i=n.n(r),a=(n("96cf"),n("1da1")),s=n("d4ec"),o=n("bee2"),c=n("ade3"),u=n("127d"),h=n("c1df"),l=n.n(h),f=function(){function t(){Object(s["a"])(this,t),Object(c["a"])(this,"randomIntervalTime",[5,30]),Object(c["a"])(this,"queue",[]),this.startCallbackInQueue()}return Object(o["a"])(t,[{key:"isWeekend",value:function(){var t=l()().weekday();return![1,2,3,4,5].includes(t)}},{key:"isTradingTime",value:function(){var t=+l()().format("HHmmss"),e=[92500,113e3],n=[13e4,15e4];return e[0]<=t&&t<=e[1]||n[0]<=t&&t<=n[1]}},{key:"isWeekdayTradingTime",value:function(){return!this.isWeekend()&&this.isTradingTime()}},{key:"startCallbackInQueue",value:function(){var t=Object(a["a"])(i.a.mark((function t(){var e;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=3,Object(u["a"])(100);case 3:if(this.queue.length){t.next=5;break}return t.abrupt("continue",0);case 5:return e=this.queue.shift(),t.next=8,e();case 8:t.next=0;break;case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"interval",value:function(){var t=Object(a["a"])(i.a.mark((function t(e,n){var r,s,o=this,c=arguments;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=c.length>2&&void 0!==c[2]?c[2]:60,c.length>3?c[3]:void 0,s=setInterval(Object(a["a"])(i.a.mark((function t(){var r,a;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("."),r=!1,!r&&!o.isWeekdayTradingTime()){t.next=7;break}if(a=l()().format("HH:mm"),!n||n.includes(a)){t.next=6;break}return t.abrupt("return");case 6:o.queue.push(e);case 7:case"end":return t.stop()}}),t)}))),1e3*r),t.abrupt("return",s);case 4:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"wait",value:function(t){return Object(u["a"])(t)}},{key:"until",value:function(t,e){return new Promise((function(n){var r=setInterval((function(){var i=l()().format("HHmmss");+i>=+t&&(clearInterval(r),e&&e(),n())}),1e3)}))}},{key:"random",value:function(){var t=this.randomIntervalTime[0],e=this.randomIntervalTime[1],n=Math.floor(Math.random()*(e-t+1)+t);return Object(u["a"])(60*n*1e3)}}]),t}();e["a"]=new f},9490:function(t,e,n){(function(t){var r=n("925e"),i=n("c90b"),a=n("53a8"),s=n("8c05"),o=n("0b16"),c=e;c.request=function(e,n){e="string"===typeof e?o.parse(e):a(e);var i=-1===t.location.protocol.search(/^https?:$/)?"http:":"",s=e.protocol||i,c=e.hostname||e.host,u=e.port,h=e.path||"/";c&&-1!==c.indexOf(":")&&(c="["+c+"]"),e.url=(c?s+"//"+c:"")+(u?":"+u:"")+h,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var l=new r(e);return n&&l.on("response",n),l},c.get=function(t,e){var n=c.request(t,e);return n.end(),n},c.ClientRequest=r,c.IncomingMessage=i.IncomingMessage,c.Agent=function(){},c.Agent.defaultMaxSockets=4,c.globalAgent=new c.Agent,c.STATUS_CODES=s,c.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,n("c8ba"))},9596:function(t,e,n){"use strict";n("a4d3"),n("e01a"),n("d28b"),n("99af"),n("b0c0"),n("b680"),n("d3b7"),n("3ca3"),n("ddb0");var r=n("a34a"),i=n.n(r),a=(n("96cf"),n("1da1")),s=n("d4ec"),o=n("bee2"),c=(n("91e5"),n("1797")),u=n("faf5"),h=(n("6304"),function(){function t(e,n,r,i,a){Object(s["a"])(this,t),this.host=e,this.username=i,this.password=a,this.from=n,this.to=r}return Object(o["a"])(t,[{key:"load",value:function(){var t=Object(a["a"])(i.a.mark((function t(){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{c["a"].mail&&(this.host=c["a"].mail.host,this.username=c["a"].mail.username,this.password=c["a"].mail.password,this.from=c["a"].mail.from,this.to=c["a"].mail.to)}catch(e){console.warn("#Mail load#",e)}case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"send",value:function(){var t=Object(a["a"])(i.a.mark((function t(e,n,r){var a,s,o,u,h,l,f;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,this.host){t.next=3;break}return t.abrupt("return");case 3:if("off"!==c["a"].mail.status){t.next=5;break}return t.abrupt("return");case 5:a=!0,s=!1,o=void 0,t.prev=8,u=this.to[Symbol.iterator]();case 10:if(a=(h=u.next()).done){t.next=26;break}return l=h.value,t.prev=12,t.next=15,window.Email.send({Host:this.host,Username:this.username,Password:this.password,From:this.from,To:r||l,Subject:e,Body:n});case 15:if(f=t.sent,"OK"!==f){t.next=18;break}return t.abrupt("return");case 18:t.next=23;break;case 20:t.prev=20,t.t0=t["catch"](12),console.warn("#Mail Send#",t.t0);case 23:a=!0,t.next=10;break;case 26:t.next=32;break;case 28:t.prev=28,t.t1=t["catch"](8),s=!0,o=t.t1;case 32:t.prev=32,t.prev=33,a||null==u["return"]||u["return"]();case 35:if(t.prev=35,!s){t.next=38;break}throw o;case 38:return t.finish(35);case 39:return t.finish(32);case 40:t.next=45;break;case 42:t.prev=42,t.t2=t["catch"](0),console.warn("#Mail Send#",t.t2);case 45:case"end":return t.stop()}}),t,this,[[0,42],[8,28,32,40],[12,20],[33,,35,39]])})));function e(e,n,r){return t.apply(this,arguments)}return e}()},{key:"notification",value:function(){var t=Object(a["a"])(i.a.mark((function t(e,n,r,a){var s,o,c,h,l,f,p,d,v,b,y,m,g,w,k,x,O,S,j,T,E,_,R,C,A,D,M,B;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(h in t.prev=0,s=function(t){return t=Math.abs(+t)>=1e8?(+t/1e8).toFixed(2)+"亿":(+t/1e4).toFixed(2)+"万",t},o=e||"Walle Stock Notification",c="",c+="<center>".concat(n.toUpperCase(),"-CAPTURE</center><br/><br/>"),c+="<table>\n        <style scoped>\n          tr th { width: 100px; }\n          tr th, tr td { text-align: center; }\n        </style>\n      ",c+="<tr><th>CODE</th><th>NAME</th><th>PRICE</th><th>CHANGE</th><th>RATE</th><th>TURNOVER</th><th>INFLOW</th><th>OUTFLOW</th><th>NETINFLOW</th>",r)l=r[h],f=l.name,p=l.price,d=l.change,v=l.rate,b=l.turnover,l.volume,y=l.inflow,m=l.outflow,g=l.netinflow,c+="<tr><td>".concat(h,"</td><td>").concat(f,"</td><td>").concat(p,"</td><td>").concat(d,"%</td><td>").concat(v,"%</td><td>").concat(b,"%</td><td>").concat(s(y),"</td><td>").concat(s(m),"</td><td>").concat(s(g),"</td></tr>");if(c+="</table><br/>",a){for(w in c+="<center>".concat(n.toUpperCase(),"-TRACE</center><br/><br/>"),c+="<table>\n          <style scoped>\n            tr th { width: 100px; }\n            tr th, tr td { text-align: center; }\n          </style>\n        ",c+="<tr><th>CODE</th><th>NAME</th><th>PRICE</th><th>CHANGE</th><th>PROFIT</th><th>RATE</th><th>TURNOVER</th><th>INFLOW</th><th>OUTFLOW</th><th>NETINFLOW</th>",a)try{k=a[w],x=k.name,O=k.price,S=k.change,j=k.rate,T=k.turnover,k.volume,E=k.inflow,_=k.outflow,R=k.netinflow,C=+r[w].price,A=+a[w].price,D=+((A-C)/C*100).toFixed(2),M="#ffffff",S>9.88&&(M="#ff6464"),S<-9.88&&(M="#0bbc49"),c+='<tr style="background: '.concat(M,'"><td>').concat(w,"</td><td>").concat(x,"</td><td>").concat(O,"</td><td>").concat(S,"%</td><td>").concat(D,"%</td><td>").concat(j,"%</td><td>").concat(T,"%</td><td>").concat(s(E),"</td><td>").concat(s(_),"</td><td>").concat(s(R),"</td></tr>")}catch(i){}c+="</table><br/>",B=new u["a"](r,a),c+="<h4><center> PROFIT ".concat(B.getCloseChange(),"% </center></h4>")}return c+=this.randomString(),t.next=13,this.send(o,c);case 13:t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](0),console.warn("#Mail Notification#",t.t0);case 18:case"end":return t.stop()}}),t,this,[[0,15]])})));function e(e,n,r,i){return t.apply(this,arguments)}return e}()},{key:"randomString",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:256,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="",r=0;r<t;r++){var i=Math.floor(Math.random()*e.length);n+=e.substring(i,i+1)}return n}}]),t}());e["a"]=new h},"966d":function(t,e,n){"use strict";(function(e){function n(t,n,r,i){if("function"!==typeof t)throw new TypeError('"callback" argument must be a function');var a,s,o=arguments.length;switch(o){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,n)}));case 3:return e.nextTick((function(){t.call(null,n,r)}));case 4:return e.nextTick((function(){t.call(null,n,r,i)}));default:a=new Array(o-1),s=0;while(s<a.length)a[s++]=arguments[s];return e.nextTick((function(){t.apply(null,a)}))}}"undefined"===typeof e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:n}:t.exports=e}).call(this,n("4362"))},9801:function(t,e,n){var r,i;n("0d03"),n("acd8"),n("ac1f"),n("5319"),n("4795"),function(a){r=[n("1157")],i=function(t){return function(){var e,n,r,i=0,a={error:"error",info:"info",success:"success",warning:"warning"},s={clear:p,remove:d,error:o,getContainer:c,info:u,options:{},subscribe:h,success:l,version:"2.1.4",warning:f};return s;function o(t,e,n){return w({type:a.error,iconClass:k().iconClasses.error,message:t,optionsOverride:n,title:e})}function c(n,r){return n||(n=k()),e=t("#"+n.containerId),e.length||r&&(e=y(n)),e}function u(t,e,n){return w({type:a.info,iconClass:k().iconClasses.info,message:t,optionsOverride:n,title:e})}function h(t){n=t}function l(t,e,n){return w({type:a.success,iconClass:k().iconClasses.success,message:t,optionsOverride:n,title:e})}function f(t,e,n){return w({type:a.warning,iconClass:k().iconClasses.warning,message:t,optionsOverride:n,title:e})}function p(t,n){var r=k();e||c(r),b(t,r,n)||v(r)}function d(n){var r=k();e||c(r),n&&0===t(":focus",n).length?x(n):e.children().length&&e.remove()}function v(n){for(var r=e.children(),i=r.length-1;i>=0;i--)b(t(r[i]),n)}function b(e,n,r){var i=!(!r||!r.force)&&r.force;return!(!e||!i&&0!==t(":focus",e).length)&&(e[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){x(e)}}),!0)}function y(n){return e=t("<div/>").attr("id",n.containerId).addClass(n.positionClass),e.appendTo(t(n.target)),e}function m(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1}}function g(t){n&&n(t)}function w(n){var a=k(),s=n.iconClass||a.iconClass;if("undefined"!==typeof n.optionsOverride&&(a=t.extend(a,n.optionsOverride),s=n.optionsOverride.iconClass||s),!A(a,n)){i++,e=c(a,!0);var o=null,u=t("<div/>"),h=t("<div/>"),l=t("<div/>"),f=t("<div/>"),p=t(a.closeHtml),d={intervalId:null,hideEta:null,maxHideTime:null},v={toastId:i,state:"visible",startTime:new Date,options:a,map:n};return y(),O(),w(),g(v),a.debug&&console&&console.log(v),u}function b(t){return null==t&&(t=""),t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function y(){S(),T(),E(),_(),R(),C(),j(),m()}function m(){var t="";switch(n.iconClass){case"toast-success":case"toast-info":t="polite";break;default:t="assertive"}u.attr("aria-live",t)}function w(){a.closeOnHover&&u.hover(B,M),!a.onclick&&a.tapToDismiss&&u.click(D),a.closeButton&&p&&p.click((function(t){t.stopPropagation?t.stopPropagation():void 0!==t.cancelBubble&&!0!==t.cancelBubble&&(t.cancelBubble=!0),a.onCloseClick&&a.onCloseClick(t),D(!0)})),a.onclick&&u.click((function(t){a.onclick(t),D()}))}function O(){u.hide(),u[a.showMethod]({duration:a.showDuration,easing:a.showEasing,complete:a.onShown}),a.timeOut>0&&(o=setTimeout(D,a.timeOut),d.maxHideTime=parseFloat(a.timeOut),d.hideEta=(new Date).getTime()+d.maxHideTime,a.progressBar&&(d.intervalId=setInterval(q,10)))}function S(){n.iconClass&&u.addClass(a.toastClass).addClass(s)}function j(){a.newestOnTop?e.prepend(u):e.append(u)}function T(){if(n.title){var t=n.title;a.escapeHtml&&(t=b(n.title)),h.append(t).addClass(a.titleClass),u.append(h)}}function E(){if(n.message){var t=n.message;a.escapeHtml&&(t=b(n.message)),l.append(t).addClass(a.messageClass),u.append(l)}}function _(){a.closeButton&&(p.addClass(a.closeClass).attr("role","button"),u.prepend(p))}function R(){a.progressBar&&(f.addClass(a.progressClass),u.prepend(f))}function C(){a.rtl&&u.addClass("rtl")}function A(t,e){if(t.preventDuplicates){if(e.message===r)return!0;r=e.message}return!1}function D(e){var n=e&&!1!==a.closeMethod?a.closeMethod:a.hideMethod,r=e&&!1!==a.closeDuration?a.closeDuration:a.hideDuration,i=e&&!1!==a.closeEasing?a.closeEasing:a.hideEasing;if(!t(":focus",u).length||e)return clearTimeout(d.intervalId),u[n]({duration:r,easing:i,complete:function(){x(u),clearTimeout(o),a.onHidden&&"hidden"!==v.state&&a.onHidden(),v.state="hidden",v.endTime=new Date,g(v)}})}function M(){(a.timeOut>0||a.extendedTimeOut>0)&&(o=setTimeout(D,a.extendedTimeOut),d.maxHideTime=parseFloat(a.extendedTimeOut),d.hideEta=(new Date).getTime()+d.maxHideTime)}function B(){clearTimeout(o),d.hideEta=0,u.stop(!0,!0)[a.showMethod]({duration:a.showDuration,easing:a.showEasing})}function q(){var t=(d.hideEta-(new Date).getTime())/d.maxHideTime*100;f.width(t+"%")}}function k(){return t.extend({},m(),s.options)}function x(t){e||(e=c()),t.is(":visible")||(t.remove(),t=null,0===e.children().length&&(e.remove(),r=void 0))}}()}.apply(e,r),void 0===i||(t.exports=i)}(n("07d6"))},9861:function(t,e,n){"use strict";n("e260");var r=n("23e7"),i=n("d066"),a=n("0d3b6"),s=n("6eeb"),o=n("e2cc"),c=n("d44e"),u=n("9ed3"),h=n("69f3"),l=n("19aa"),f=n("5135"),p=n("0366"),d=n("f5df"),v=n("825a"),b=n("861d"),y=n("7c73"),m=n("5c6c"),g=n("9a1f"),w=n("35a1"),k=n("b622"),x=i("fetch"),O=i("Headers"),S=k("iterator"),j="URLSearchParams",T=j+"Iterator",E=h.set,_=h.getterFor(j),R=h.getterFor(T),C=/\+/g,A=Array(4),D=function(t){return A[t-1]||(A[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},M=function(t){try{return decodeURIComponent(t)}catch(e){return t}},B=function(t){var e=t.replace(C," "),n=4;try{return decodeURIComponent(e)}catch(r){while(n)e=e.replace(D(n--),M);return e}},q=/[!'()~]|%20/g,L={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},I=function(t){return L[t]},P=function(t){return encodeURIComponent(t).replace(q,I)},N=function(t,e){if(e){var n,r,i=e.split("&"),a=0;while(a<i.length)n=i[a++],n.length&&(r=n.split("="),t.push({key:B(r.shift()),value:B(r.join("="))}))}},U=function(t){this.entries.length=0,N(this.entries,t)},F=function(t,e){if(t<e)throw TypeError("Not enough arguments")},H=u((function(t,e){E(this,{type:T,iterator:g(_(t).entries),kind:e})}),"Iterator",(function(){var t=R(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n})),V=function(){l(this,V,j);var t,e,n,r,i,a,s,o,c,u=arguments.length>0?arguments[0]:void 0,h=this,p=[];if(E(h,{type:j,entries:p,updateURL:function(){},updateSearchParams:U}),void 0!==u)if(b(u))if(t=w(u),"function"===typeof t){e=t.call(u),n=e.next;while(!(r=n.call(e)).done){if(i=g(v(r.value)),a=i.next,(s=a.call(i)).done||(o=a.call(i)).done||!a.call(i).done)throw TypeError("Expected sequence with length 2");p.push({key:s.value+"",value:o.value+""})}}else for(c in u)f(u,c)&&p.push({key:c,value:u[c]+""});else N(p,"string"===typeof u?"?"===u.charAt(0)?u.slice(1):u:u+"")},Y=V.prototype;o(Y,{append:function(t,e){F(arguments.length,2);var n=_(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){F(arguments.length,1);var e=_(this),n=e.entries,r=t+"",i=0;while(i<n.length)n[i].key===r?n.splice(i,1):i++;e.updateURL()},get:function(t){F(arguments.length,1);for(var e=_(this).entries,n=t+"",r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){F(arguments.length,1);for(var e=_(this).entries,n=t+"",r=[],i=0;i<e.length;i++)e[i].key===n&&r.push(e[i].value);return r},has:function(t){F(arguments.length,1);var e=_(this).entries,n=t+"",r=0;while(r<e.length)if(e[r++].key===n)return!0;return!1},set:function(t,e){F(arguments.length,1);for(var n,r=_(this),i=r.entries,a=!1,s=t+"",o=e+"",c=0;c<i.length;c++)n=i[c],n.key===s&&(a?i.splice(c--,1):(a=!0,n.value=o));a||i.push({key:s,value:o}),r.updateURL()},sort:function(){var t,e,n,r=_(this),i=r.entries,a=i.slice();for(i.length=0,n=0;n<a.length;n++){for(t=a[n],e=0;e<n;e++)if(i[e].key>t.key){i.splice(e,0,t);break}e===n&&i.push(t)}r.updateURL()},forEach:function(t){var e,n=_(this).entries,r=p(t,arguments.length>1?arguments[1]:void 0,3),i=0;while(i<n.length)e=n[i++],r(e.value,e.key,this)},keys:function(){return new H(this,"keys")},values:function(){return new H(this,"values")},entries:function(){return new H(this,"entries")}},{enumerable:!0}),s(Y,S,Y.entries),s(Y,"toString",(function(){var t,e=_(this).entries,n=[],r=0;while(r<e.length)t=e[r++],n.push(P(t.key)+"="+P(t.value));return n.join("&")}),{enumerable:!0}),c(V,j),r({global:!0,forced:!a},{URLSearchParams:V}),a||"function"!=typeof x||"function"!=typeof O||r({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,n,r,i=[t];return arguments.length>1&&(e=arguments[1],b(e)&&(n=e.body,d(n)===j&&(r=e.headers?new O(e.headers):new O,r.has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=y(e,{body:m(0,String(n)),headers:m(0,r)}))),i.push(e)),x.apply(this,i)}}),t.exports={URLSearchParams:V,getState:_}},"99de":function(t,e,n){"use strict";function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}n.d(e,"a",(function(){return a}));var i=n("257e");function a(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?Object(i["a"])(t):e}},"9a1f":function(t,e,n){var r=n("825a"),i=n("35a1");t.exports=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return r(e.call(t))}},a37f:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("b0c0");var r=n("d4ec"),i=n("ade3"),a=function t(e){var n=e.code,a=e.name,s=e.date,o=e.price,c=e.change,u=e.netinflow,h=e.netinflowrate,l=e.high,f=e.low,p=e.open,d=e.close,v=e.volume;Object(r["a"])(this,t),Object(i["a"])(this,"code","000000"),Object(i["a"])(this,"name",void 0),Object(i["a"])(this,"date",void 0),Object(i["a"])(this,"price",void 0),Object(i["a"])(this,"change",void 0),Object(i["a"])(this,"netinflow",void 0),Object(i["a"])(this,"rate",void 0),Object(i["a"])(this,"netinflowrate",void 0),Object(i["a"])(this,"high",void 0),Object(i["a"])(this,"low",void 0),Object(i["a"])(this,"open",void 0),Object(i["a"])(this,"close",void 0),Object(i["a"])(this,"volume",void 0),this.code=n,this.name=a,this.date=s,this.price=+o,this.change=+c,this.netinflow=+u,this.rate=+h,this.netinflowrate=+h,this.open=+p,this.close=+d,this.high=+l,this.low=+f,this.volume=+v}},a630:function(t,e,n){var r=n("23e7"),i=n("4df4"),a=n("1c7e"),s=!a((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:s},{from:i})},a9f1:function(t,e,n){(function(t){e.fetch=o(t.fetch)&&o(t.ReadableStream),e.writableStream=o(t.WritableStream),e.abortController=o(t.AbortController),e.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),e.blobConstructor=!0}catch(c){}var n;function r(){if(void 0!==n)return n;if(t.XMLHttpRequest){n=new t.XMLHttpRequest;try{n.open("GET",t.XDomainRequest?"/":"https://example.com")}catch(c){n=null}}else n=null;return n}function i(t){var e=r();if(!e)return!1;try{return e.responseType=t,e.responseType===t}catch(c){}return!1}var a="undefined"!==typeof t.ArrayBuffer,s=a&&o(t.ArrayBuffer.prototype.slice);function o(t){return"function"===typeof t}e.arraybuffer=e.fetch||a&&i("arraybuffer"),e.msstream=!e.fetch&&s&&i("ms-stream"),e.mozchunkedarraybuffer=!e.fetch&&a&&i("moz-chunked-arraybuffer"),e.overrideMimeType=e.fetch||!!r()&&o(r().overrideMimeType),e.vbArray=o(t.VBArray),n=null}).call(this,n("c8ba"))},acd8:function(t,e,n){var r=n("23e7"),i=n("7e12");r({global:!0,forced:parseFloat!=i},{parseFloat:i})},ad71:function(t,e,n){"use strict";(function(e,r){var i=n("966d");t.exports=x;var a,s=n("e3db");x.ReadableState=k;n("faa1").EventEmitter;var o=function(t,e){return t.listeners(e).length},c=n("429b"),u=n("8707").Buffer,h=e.Uint8Array||function(){};function l(t){return u.from(t)}function f(t){return u.isBuffer(t)||t instanceof h}var p=Object.create(n("3a7c"));p.inherits=n("3fb5");var d=n(1),v=void 0;v=d&&d.debuglog?d.debuglog("stream"):function(){};var b,y=n("5e1a"),m=n("4681");p.inherits(x,c);var g=["error","close","destroy","pause","resume"];function w(t,e,n){if("function"===typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?s(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}function k(t,e){a=a||n("b19a"),t=t||{};var r=e instanceof a;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,s=t.readableHighWaterMark,o=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(s||0===s)?s:o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(b||(b=n("7d72").StringDecoder),this.decoder=new b(t.encoding),this.encoding=t.encoding)}function x(t){if(a=a||n("b19a"),!(this instanceof x))return new x(t);this._readableState=new k(t,this),this.readable=!0,t&&("function"===typeof t.read&&(this._read=t.read),"function"===typeof t.destroy&&(this._destroy=t.destroy)),c.call(this)}function O(t,e,n,r,i){var a,s=t._readableState;null===e?(s.reading=!1,C(t,s)):(i||(a=j(s,e)),a?t.emit("error",a):s.objectMode||e&&e.length>0?("string"===typeof e||s.objectMode||Object.getPrototypeOf(e)===u.prototype||(e=l(e)),r?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):S(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(e=s.decoder.write(e),s.objectMode||0!==e.length?S(t,s,e,!1):M(t,s)):S(t,s,e,!1))):r||(s.reading=!1));return T(s)}function S(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&A(t)),M(t,e)}function j(t,e){var n;return f(e)||"string"===typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function T(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}Object.defineProperty(x.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),x.prototype.destroy=m.destroy,x.prototype._undestroy=m.undestroy,x.prototype._destroy=function(t,e){this.push(null),e(t)},x.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof t&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=u.from(t,e),e=""),n=!0),O(this,t,e,!1,n)},x.prototype.unshift=function(t){return O(this,t,null,!0,!1)},x.prototype.isPaused=function(){return!1===this._readableState.flowing},x.prototype.setEncoding=function(t){return b||(b=n("7d72").StringDecoder),this._readableState.decoder=new b(t),this._readableState.encoding=t,this};var E=8388608;function _(t){return t>=E?t=E:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function R(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=_(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function C(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,A(t)}}function A(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(v("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(D,t):D(t))}function D(t){v("emit readable"),t.emit("readable"),N(t)}function M(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(B,t,e))}function B(t,e){var n=e.length;while(!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark){if(v("maybeReadMore read 0"),t.read(0),n===e.length)break;n=e.length}e.readingMore=!1}function q(t){return function(){var e=t._readableState;v("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&o(t,"data")&&(e.flowing=!0,N(t))}}function L(t){v("readable nexttick read 0"),t.read(0)}function I(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(P,t,e))}function P(t,e){e.reading||(v("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),N(t),e.flowing&&!e.reading&&t.read(0)}function N(t){var e=t._readableState;v("flow",e.flowing);while(e.flowing&&null!==t.read());}function U(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=F(t,e.buffer,e.decoder),n);var n}function F(t,e,n){var r;return t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?H(t,e):V(t,e),r}function H(t,e){var n=e.head,r=1,i=n.data;t-=i.length;while(n=n.next){var a=n.data,s=t>a.length?a.length:t;if(s===a.length?i+=a:i+=a.slice(0,t),t-=s,0===t){s===a.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=a.slice(s));break}++r}return e.length-=r,i}function V(t,e){var n=u.allocUnsafe(t),r=e.head,i=1;r.data.copy(n),t-=r.data.length;while(r=r.next){var a=r.data,s=t>a.length?a.length:t;if(a.copy(n,n.length-t,0,s),t-=s,0===t){s===a.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=a.slice(s));break}++i}return e.length-=i,n}function Y(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,i.nextTick(W,e,t))}function W(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function z(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}x.prototype.read=function(t){v("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return v("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?Y(this):A(this),null;if(t=R(t,e),0===t&&e.ended)return 0===e.length&&Y(this),null;var r,i=e.needReadable;return v("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&(i=!0,v("length less than watermark",i)),e.ended||e.reading?(i=!1,v("reading or ended",i)):i&&(v("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=R(n,e))),r=t>0?U(t,e):null,null===r?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&Y(this)),null!==r&&this.emit("data",r),r},x.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},x.prototype.pipe=function(t,e){var n=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=t;break;case 1:a.pipes=[a.pipes,t];break;default:a.pipes.push(t);break}a.pipesCount+=1,v("pipe count=%d opts=%j",a.pipesCount,e);var s=(!e||!1!==e.end)&&t!==r.stdout&&t!==r.stderr,c=s?h:k;function u(t,e){v("onunpipe"),t===n&&e&&!1===e.hasUnpiped&&(e.hasUnpiped=!0,p())}function h(){v("onend"),t.end()}a.endEmitted?i.nextTick(c):n.once("end",c),t.on("unpipe",u);var l=q(n);t.on("drain",l);var f=!1;function p(){v("cleanup"),t.removeListener("close",m),t.removeListener("finish",g),t.removeListener("drain",l),t.removeListener("error",y),t.removeListener("unpipe",u),n.removeListener("end",h),n.removeListener("end",k),n.removeListener("data",b),f=!0,!a.awaitDrain||t._writableState&&!t._writableState.needDrain||l()}var d=!1;function b(e){v("ondata"),d=!1;var r=t.write(e);!1!==r||d||((1===a.pipesCount&&a.pipes===t||a.pipesCount>1&&-1!==z(a.pipes,t))&&!f&&(v("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,d=!0),n.pause())}function y(e){v("onerror",e),k(),t.removeListener("error",y),0===o(t,"error")&&t.emit("error",e)}function m(){t.removeListener("finish",g),k()}function g(){v("onfinish"),t.removeListener("close",m),k()}function k(){v("unpipe"),n.unpipe(t)}return n.on("data",b),w(t,"error",y),t.once("close",m),t.once("finish",g),t.emit("pipe",n),a.flowing||(v("pipe resume"),n.resume()),t},x.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var a=0;a<i;a++)r[a].emit("unpipe",this,n);return this}var s=z(e.pipes,t);return-1===s||(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},x.prototype.on=function(t,e){var n=c.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&A(this):i.nextTick(L,this))}return n},x.prototype.addListener=x.prototype.on,x.prototype.resume=function(){var t=this._readableState;return t.flowing||(v("resume"),t.flowing=!0,I(this,t)),this},x.prototype.pause=function(){return v("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(v("pause"),this._readableState.flowing=!1,this.emit("pause")),this},x.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",(function(){if(v("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){if(v("wrapped data"),n.decoder&&(i=n.decoder.write(i)),(!n.objectMode||null!==i&&void 0!==i)&&(n.objectMode||i&&i.length)){var a=e.push(i);a||(r=!0,t.pause())}})),t)void 0===this[i]&&"function"===typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var a=0;a<g.length;a++)t.on(g[a],this.emit.bind(this,g[a]));return this._read=function(e){v("wrapped _read",e),r&&(r=!1,t.resume())},this},Object.defineProperty(x.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),x._fromList=U}).call(this,n("c8ba"),n("4362"))},b19a:function(t,e,n){"use strict";var r=n("966d"),i=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=l;var a=Object.create(n("3a7c"));a.inherits=n("3fb5");var s=n("ad71"),o=n("dc14");a.inherits(l,s);for(var c=i(o.prototype),u=0;u<c.length;u++){var h=c[u];l.prototype[h]||(l.prototype[h]=o.prototype[h])}function l(t){if(!(this instanceof l))return new l(t);s.call(this,t),o.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(p,this)}function p(t){t.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),l.prototype._destroy=function(t,e){this.push(null),this.end(),r.nextTick(e,t)}},b383:function(t,e,n){"use strict";e.decode=e.parse=n("91dd"),e.encode=e.stringify=n("e099")},b639:function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n("1fb5"),i=n("9152"),a=n("e3db");function s(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function o(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(t,e){if(o()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=u.prototype):(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(t,e,n);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return p(this,t)}return h(this,t,e,n)}function h(t,e,n,r){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?b(t,e,n,r):"string"===typeof e?d(t,e,n):y(t,e)}function l(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e,n,r){return l(e),e<=0?c(t,e):void 0!==n?"string"===typeof r?c(t,e).fill(n,r):c(t,e).fill(n):c(t,e)}function p(t,e){if(l(e),t=c(t,e<0?0:0|m(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function d(t,e,n){if("string"===typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|w(e,n);t=c(t,r);var i=t.write(e,n);return i!==r&&(t=t.slice(0,i)),t}function v(t,e){var n=e.length<0?0:0|m(e.length);t=c(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function b(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),u.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=u.prototype):t=v(t,e),t}function y(t,e){if(u.isBuffer(e)){var n=0|m(e.length);return t=c(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||et(e.length)?c(t,0):v(t,e);if("Buffer"===e.type&&a(e.data))return v(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function g(t){return+t!=t&&(t=0),u.alloc(+t)}function w(t,e){if(u.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Z(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Q(t).length;default:if(r)return Z(t).length;e=(""+e).toLowerCase(),r=!0}}function k(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";t||(t="utf8");while(1)switch(t){case"hex":return I(this,e,n);case"utf8":case"utf-8":return D(this,e,n);case"ascii":return q(this,e,n);case"latin1":case"binary":return L(this,e,n);case"base64":return A(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function x(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function O(t,e,n,r,i){if(0===t.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:S(t,e,n,r,i);if("number"===typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):S(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function S(t,e,n,r,i){var a,s=1,o=t.length,c=e.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,o/=2,c/=2,n/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var h=-1;for(a=n;a<o;a++)if(u(t,a)===u(e,-1===h?0:a-h)){if(-1===h&&(h=a),a-h+1===c)return h*s}else-1!==h&&(a-=a-h),h=-1}else for(n+c>o&&(n=o-c),a=n;a>=0;a--){for(var l=!0,f=0;f<c;f++)if(u(t,a+f)!==u(e,f)){l=!1;break}if(l)return a}return-1}function j(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var a=e.length;if(a%2!==0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var s=0;s<r;++s){var o=parseInt(e.substr(2*s,2),16);if(isNaN(o))return s;t[n+s]=o}return s}function T(t,e,n,r){return tt(Z(e,t.length-n),t,n,r)}function E(t,e,n,r){return tt(X(e),t,n,r)}function _(t,e,n,r){return E(t,e,n,r)}function R(t,e,n,r){return tt(Q(e),t,n,r)}function C(t,e,n,r){return tt($(e,t.length-n),t,n,r)}function A(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function D(t,e,n){n=Math.min(t.length,n);var r=[],i=e;while(i<n){var a,s,o,c,u=t[i],h=null,l=u>239?4:u>223?3:u>191?2:1;if(i+l<=n)switch(l){case 1:u<128&&(h=u);break;case 2:a=t[i+1],128===(192&a)&&(c=(31&u)<<6|63&a,c>127&&(h=c));break;case 3:a=t[i+1],s=t[i+2],128===(192&a)&&128===(192&s)&&(c=(15&u)<<12|(63&a)<<6|63&s,c>2047&&(c<55296||c>57343)&&(h=c));break;case 4:a=t[i+1],s=t[i+2],o=t[i+3],128===(192&a)&&128===(192&s)&&128===(192&o)&&(c=(15&u)<<18|(63&a)<<12|(63&s)<<6|63&o,c>65535&&c<1114112&&(h=c))}null===h?(h=65533,l=1):h>65535&&(h-=65536,r.push(h>>>10&1023|55296),h=56320|1023&h),r.push(h),i+=l}return B(r)}e.Buffer=u,e.SlowBuffer=g,e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:s(),e.kMaxLength=o(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return h(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return f(null,t,e,n)},u.allocUnsafe=function(t){return p(null,t)},u.allocUnsafeSlow=function(t){return p(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,a=Math.min(n,r);i<a;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!a(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var s=t[n];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},u.byteLength=w,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)x(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)x(this,e,e+3),x(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)x(this,e,e+7),x(this,e+1,e+6),x(this,e+2,e+5),x(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?D(this,0,t):k.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var a=i-r,s=n-e,o=Math.min(a,s),c=this.slice(r,i),h=t.slice(e,n),l=0;l<o;++l)if(c[l]!==h[l]){a=c[l],s=h[l];break}return a<s?-1:s<a?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return O(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return O(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"===typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return j(this,t,e,n);case"utf8":case"utf-8":return T(this,t,e,n);case"ascii":return E(this,t,e,n);case"latin1":case"binary":return _(this,t,e,n);case"base64":return R(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,e,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var M=4096;function B(t){var e=t.length;if(e<=M)return String.fromCharCode.apply(String,t);var n="",r=0;while(r<e)n+=String.fromCharCode.apply(String,t.slice(r,r+=M));return n}function q(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function L(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function I(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=e;a<n;++a)i+=J(t[a]);return i}function P(t,e,n){for(var r=t.slice(e,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function N(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function U(t,e,n,r,i,a){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function F(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,a=Math.min(t.length-n,2);i<a;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function H(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,a=Math.min(t.length-n,4);i<a;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function V(t,e,n,r,i,a){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function Y(t,e,n,r,a){return a||V(t,e,n,4,34028234663852886e22,-34028234663852886e22),i.write(t,e,n,r,23,4),n+4}function W(t,e,n,r,a){return a||V(t,e,n,8,17976931348623157e292,-17976931348623157e292),i.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if(t=~~t,e=void 0===e?r:~~e,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)n=this.subarray(t,e),n.__proto__=u.prototype;else{var i=e-t;n=new u(i,void 0);for(var a=0;a<i;++a)n[a]=this[a+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);var r=this[t],i=1,a=0;while(++a<e&&(i*=256))r+=this[t+a]*i;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);var r=this[t+--e],i=1;while(e>0&&(i*=256))r+=this[t+--e]*i;return r},u.prototype.readUInt8=function(t,e){return e||N(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||N(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||N(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);var r=this[t],i=1,a=0;while(++a<e&&(i*=256))r+=this[t+a]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);var r=e,i=1,a=this[t+--r];while(r>0&&(i*=256))a+=this[t+--r]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*e)),a},u.prototype.readInt8=function(t,e){return e||N(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||N(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||N(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||N(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||N(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||N(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||N(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;U(this,t,e,n,i,0)}var a=1,s=0;this[e]=255&t;while(++s<n&&(a*=256))this[e+s]=t/a&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;U(this,t,e,n,i,0)}var a=n-1,s=1;this[e+a]=255&t;while(--a>=0&&(s*=256))this[e+a]=t/s&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):F(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):F(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):H(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):H(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);U(this,t,e,n,i-1,-i)}var a=0,s=1,o=0;this[e]=255&t;while(++a<n&&(s*=256))t<0&&0===o&&0!==this[e+a-1]&&(o=1),this[e+a]=(t/s>>0)-o&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);U(this,t,e,n,i-1,-i)}var a=n-1,s=1,o=0;this[e+a]=255&t;while(--a>=0&&(s*=256))t<0&&0===o&&0!==this[e+a+1]&&(o=1),this[e+a]=(t/s>>0)-o&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):F(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):F(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):H(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):H(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return Y(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return Y(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return W(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return W(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,a=r-n;if(this===t&&n<e&&e<r)for(i=a-1;i>=0;--i)t[i+e]=this[i+n];else if(a<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+a),e);return a},u.prototype.fill=function(t,e,n,r){if("string"===typeof t){if("string"===typeof e?(r=e,e=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var a;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"===typeof t)for(a=e;a<n;++a)this[a]=t;else{var s=u.isBuffer(t)?t:Z(new u(t,r).toString()),o=s.length;for(a=0;a<n-e;++a)this[a+e]=s[a%o]}return this};var z=/[^+\/0-9A-Za-z-_]/g;function K(t){if(t=G(t).replace(z,""),t.length<2)return"";while(t.length%4!==0)t+="=";return t}function G(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function J(t){return t<16?"0"+t.toString(16):t.toString(16)}function Z(t,e){var n;e=e||1/0;for(var r=t.length,i=null,a=[],s=0;s<r;++s){if(n=t.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&a.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;a.push(n)}else if(n<2048){if((e-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function X(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function $(t,e){for(var n,r,i,a=[],s=0;s<t.length;++s){if((e-=2)<0)break;n=t.charCodeAt(s),r=n>>8,i=n%256,a.push(i),a.push(r)}return a}function Q(t){return r.toByteArray(K(t))}function tt(t,e,n,r){for(var i=0;i<r;++i){if(i+n>=e.length||i>=t.length)break;e[i+n]=t[i]}return i}function et(t){return t!==t}}).call(this,n("c8ba"))},b7d1:function(t,e,n){(function(e){function n(t,e){if(r("noDeprecation"))return t;var n=!1;function i(){if(!n){if(r("throwDeprecation"))throw new Error(e);r("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}return i}function r(t){try{if(!e.localStorage)return!1}catch(r){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=n}).call(this,n("c8ba"))},b868:function(t,e,n){"use strict";n.d(e,"b",(function(){return b}));n("99af"),n("d3b7");var r=n("1157"),i=n.n(r),a=(n("b0c0"),n("a34a")),s=n.n(a),o=(n("96cf"),n("1da1")),c=n("127d");function u(t){return Object(o["a"])(s.a.mark((function e(){var n,r,i,a=arguments;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n>=3)){e.next=4;break}return e.abrupt("break",20);case 4:return console.log("#RetryWrapper# ".concat(t.name," call ").concat(n," time")),e.prev=5,e.next=8,t.apply(void 0,a);case 8:return r=e.sent,e.abrupt("return",r);case 12:return e.prev=12,e.t0=e["catch"](5),i=e.t0,e.next=17,Object(c["a"])(3e3);case 17:n++,e.next=1;break;case 20:throw i;case 21:case"end":return e.stop()}}),e,null,[[5,12]])})))}var h=u,l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"GET",e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return window.parent.__Walle_Devtools?window.parent.__Walle_Devtools_Ajax({type:t,url:e,data:n,opts:r}):window.__Walle_Devtools?window.__Walle_Devtools_Ajax({type:t,url:e,data:n,opts:r}):new Promise((function(a,s){console.log("#ajax# request - ".concat(t," - ").concat(e," "),n),i.a.ajax(Object.assign({type:t,url:e,data:n,async:r.async||!0,dataType:r.dataType||"html",success:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];a.apply(void 0,e)},error:function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];(t=console).log.apply(t,["#ajax# fail - "].concat(n)),s.apply(void 0,n)}},r))}))},f=function(t,e){var n;return t?(n="application/json"===e.contentType?JSON.stringify(t):i.a.param(t),n):t},p=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=f(e,n);return l("POST",t,r,n)},d=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=f(e,n);return h((function(){return l("GET",t,r,n)}))()},v=function(t){return new Promise((function(e,n){var r=document.createElement("img");r.src=t,r.onload=function(){return e(r)},r.onerror=n,r.onabort=n}))},b=function(t){return window.parent.__Walle_Devtools?window.parent.__Walle_Devtools_Download({url:t}):window.__Walle_Devtools?window.__Walle_Devtools_Download({url:t}):new Promise((function(e,n){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="blob",r.onload=function(){return e(r.response)},r.onerror=n,r.send(null)}))};e["a"]={ajax:l,post:p,get:d,getImage:v,getBinary:b}},bb2f:function(t,e,n){var r=n("d039");t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},c8d2:function(t,e,n){var r=n("d039"),i=n("5899"),a="​᠎";t.exports=function(t){return r((function(){return!!i[t]()||a[t]()!=a||i[t].name!==t}))}},c90b:function(t,e,n){(function(t,r,i){var a=n("a9f1"),s=n("3fb5"),o=n("e372"),c=e.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},u=e.IncomingMessage=function(e,n,s,c){var u=this;if(o.Readable.call(u),u._mode=s,u.headers={},u.rawHeaders=[],u.trailers={},u.rawTrailers=[],u.on("end",(function(){t.nextTick((function(){u.emit("close")}))})),"fetch"===s){if(u._fetchResponse=n,u.url=n.url,u.statusCode=n.status,u.statusMessage=n.statusText,n.headers.forEach((function(t,e){u.headers[e.toLowerCase()]=t,u.rawHeaders.push(e,t)})),a.writableStream){var h=new WritableStream({write:function(t){return new Promise((function(e,n){u._destroyed?n():u.push(new r(t))?e():u._resumeFetch=e}))},close:function(){i.clearTimeout(c),u._destroyed||u.push(null)},abort:function(t){u._destroyed||u.emit("error",t)}});try{return void n.body.pipeTo(h).catch((function(t){i.clearTimeout(c),u._destroyed||u.emit("error",t)}))}catch(b){}}var l=n.body.getReader();function f(){l.read().then((function(t){if(!u._destroyed){if(t.done)return i.clearTimeout(c),void u.push(null);u.push(new r(t.value)),f()}})).catch((function(t){i.clearTimeout(c),u._destroyed||u.emit("error",t)}))}f()}else{u._xhr=e,u._pos=0,u.url=e.responseURL,u.statusCode=e.status,u.statusMessage=e.statusText;var p=e.getAllResponseHeaders().split(/\r?\n/);if(p.forEach((function(t){var e=t.match(/^([^:]+):\s*(.*)/);if(e){var n=e[1].toLowerCase();"set-cookie"===n?(void 0===u.headers[n]&&(u.headers[n]=[]),u.headers[n].push(e[2])):void 0!==u.headers[n]?u.headers[n]+=", "+e[2]:u.headers[n]=e[2],u.rawHeaders.push(e[1],e[2])}})),u._charset="x-user-defined",!a.overrideMimeType){var d=u.rawHeaders["mime-type"];if(d){var v=d.match(/;\s*charset=([^;])(;|$)/);v&&(u._charset=v[1].toLowerCase())}u._charset||(u._charset="utf-8")}}};s(u,o.Readable),u.prototype._read=function(){var t=this,e=t._resumeFetch;e&&(t._resumeFetch=null,e())},u.prototype._onXHRProgress=function(){var t=this,e=t._xhr,n=null;switch(t._mode){case"text:vbarray":if(e.readyState!==c.DONE)break;try{n=new i.VBArray(e.responseBody).toArray()}catch(h){}if(null!==n){t.push(new r(n));break}case"text":try{n=e.responseText}catch(h){t._mode="text:vbarray";break}if(n.length>t._pos){var a=n.substr(t._pos);if("x-user-defined"===t._charset){for(var s=new r(a.length),o=0;o<a.length;o++)s[o]=255&a.charCodeAt(o);t.push(s)}else t.push(a,t._charset);t._pos=n.length}break;case"arraybuffer":if(e.readyState!==c.DONE||!e.response)break;n=e.response,t.push(new r(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=e.response,e.readyState!==c.LOADING||!n)break;t.push(new r(new Uint8Array(n)));break;case"ms-stream":if(n=e.response,e.readyState!==c.LOADING)break;var u=new i.MSStreamReader;u.onprogress=function(){u.result.byteLength>t._pos&&(t.push(new r(new Uint8Array(u.result.slice(t._pos)))),t._pos=u.result.byteLength)},u.onload=function(){t.push(null)},u.readAsArrayBuffer(n);break}t._xhr.readyState===c.DONE&&"ms-stream"!==t._mode&&t.push(null)}}).call(this,n("4362"),n("b639").Buffer,n("c8ba"))},d81d:function(t,e,n){"use strict";var r=n("23e7"),i=n("b727").map,a=n("1dde"),s=n("ae40"),o=a("map"),c=s("map");r({target:"Array",proto:!0,forced:!o||!c},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},d938:function(t,e,n){var r=n("b639").Buffer;t.exports=function(t){if(t instanceof Uint8Array){if(0===t.byteOffset&&t.byteLength===t.buffer.byteLength)return t.buffer;if("function"===typeof t.buffer.slice)return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}if(r.isBuffer(t)){for(var e=new Uint8Array(t.length),n=t.length,i=0;i<n;i++)e[i]=t[i];return e.buffer}throw new Error("Argument must be a Buffer")}},dc14:function(t,e,n){"use strict";(function(e,r){var i=n("966d");function a(t){var e=this;this.next=null,this.entry=null,this.finish=function(){L(e,t)}}t.exports=g;var s,o=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?setImmediate:i.nextTick;g.WritableState=m;var c=Object.create(n("3a7c"));c.inherits=n("3fb5");var u={deprecate:n("b7d1")},h=n("429b"),l=n("8707").Buffer,f=r.Uint8Array||function(){};function p(t){return l.from(t)}function d(t){return l.isBuffer(t)||t instanceof f}var v,b=n("4681");function y(){}function m(t,e){s=s||n("b19a"),t=t||{};var r=e instanceof s;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,o=t.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(o||0===o)?o:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===t.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){E(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function g(t){if(s=s||n("b19a"),!v.call(g,this)&&!(this instanceof s))return new g(t);this._writableState=new m(t,this),this.writable=!0,t&&("function"===typeof t.write&&(this._write=t.write),"function"===typeof t.writev&&(this._writev=t.writev),"function"===typeof t.destroy&&(this._destroy=t.destroy),"function"===typeof t.final&&(this._final=t.final)),h.call(this)}function w(t,e){var n=new Error("write after end");t.emit("error",n),i.nextTick(e,n)}function k(t,e,n,r){var a=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"===typeof n||void 0===n||e.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),i.nextTick(r,s),a=!1),a}function x(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!==typeof e||(e=l.from(e,n)),e}function O(t,e,n,r,i,a){if(!n){var s=x(e,r,i);r!==s&&(n=!0,i="buffer",r=s)}var o=e.objectMode?1:r.length;e.length+=o;var c=e.length<e.highWaterMark;if(c||(e.needDrain=!0),e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:a,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else S(t,e,!1,o,r,i,a);return c}function S(t,e,n,r,i,a,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,a,e.onwrite),e.sync=!1}function j(t,e,n,r,a){--e.pendingcb,n?(i.nextTick(a,r),i.nextTick(B,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(a(r),t._writableState.errorEmitted=!0,t.emit("error",r),B(t,e))}function T(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function E(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if(T(n),e)j(t,n,r,e,i);else{var a=A(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||C(t,n),r?o(_,t,n,a,i):_(t,n,a,i)}}function _(t,e,n,r){n||R(t,e),e.pendingcb--,r(),B(t,e)}function R(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function C(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),s=e.corkedRequestsFree;s.entry=n;var o=0,c=!0;while(n)i[o]=n,n.isBuf||(c=!1),n=n.next,o+=1;i.allBuffers=c,S(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new a(e),e.bufferedRequestCount=0}else{while(n){var u=n.chunk,h=n.encoding,l=n.callback,f=e.objectMode?1:u.length;if(S(t,e,!1,f,u,h,l),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function A(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function D(t,e){t._final((function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),B(t,e)}))}function M(t,e){e.prefinished||e.finalCalled||("function"===typeof t._final?(e.pendingcb++,e.finalCalled=!0,i.nextTick(D,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function B(t,e){var n=A(e);return n&&(M(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}function q(t,e,n){e.ending=!0,B(t,e),n&&(e.finished?i.nextTick(n):t.once("finish",n)),e.ended=!0,t.writable=!1}function L(t,e,n){var r=t.entry;t.entry=null;while(r){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}c.inherits(g,h),m.prototype.getBuffer=function(){var t=this.bufferedRequest,e=[];while(t)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(m.prototype,"buffer",{get:u.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(v=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(t){return!!v.call(this,t)||this===g&&(t&&t._writableState instanceof m)}})):v=function(t){return t instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(t,e,n){var r=this._writableState,i=!1,a=!r.objectMode&&d(t);return a&&!l.isBuffer(t)&&(t=p(t)),"function"===typeof e&&(n=e,e=null),a?e="buffer":e||(e=r.defaultEncoding),"function"!==typeof n&&(n=y),r.ended?w(this,n):(a||k(this,r,t,n))&&(r.pendingcb++,i=O(this,r,a,t,e,n)),i},g.prototype.cork=function(){var t=this._writableState;t.corked++},g.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||C(this,t))},g.prototype.setDefaultEncoding=function(t){if("string"===typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(t,e,n){var r=this._writableState;"function"===typeof t?(n=t,t=null,e=null):"function"===typeof e&&(n=e,e=null),null!==t&&void 0!==t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||q(this,r,n)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),g.prototype.destroy=b.destroy,g.prototype._undestroy=b.undestroy,g.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,n("4362"),n("c8ba"))},dd2e:function(t,e){(function(){var t=document.createElement("meta");t.setAttribute("http-equiv","Content-Security-Policy-Report-Only"),document.querySelector("head").appendChild(t)})()},df7c:function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t){"string"!==typeof t&&(t+="");var e,n=0,r=-1,i=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!i){n=e+1;break}}else-1===r&&(i=!1,r=e+1);return-1===r?"":t.slice(n,r)}function i(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e="",r=!1,a=arguments.length-1;a>=-1&&!r;a--){var s=a>=0?arguments[a]:t.cwd();if("string"!==typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,r="/"===s.charAt(0))}return e=n(i(e.split("/"),(function(t){return!!t})),!r).join("/"),(r?"/":"")+e||"."},e.normalize=function(t){var r=e.isAbsolute(t),s="/"===a(t,-1);return t=n(i(t.split("/"),(function(t){return!!t})),!r).join("/"),t||r||(t="."),t&&s&&(t+="/"),(r?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(i(t,(function(t,e){if("string"!==typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length;e++)if(""!==t[e])break;for(var n=t.length-1;n>=0;n--)if(""!==t[n])break;return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split("/")),a=r(n.split("/")),s=Math.min(i.length,a.length),o=s,c=0;c<s;c++)if(i[c]!==a[c]){o=c;break}var u=[];for(c=o;c<i.length;c++)u.push("..");return u=u.concat(a.slice(o)),u.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!==typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,r=-1,i=!0,a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),47===e){if(!i){r=a;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":t.slice(0,r)},e.basename=function(t,e){var n=r(t);return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){"string"!==typeof t&&(t+="");for(var e=-1,n=0,r=-1,i=!0,a=0,s=t.length-1;s>=0;--s){var o=t.charCodeAt(s);if(47!==o)-1===r&&(i=!1,r=s+1),46===o?-1===e?e=s:1!==a&&(a=1):-1!==e&&(a=-1);else if(!i){n=s+1;break}}return-1===e||-1===r||0===a||1===a&&e===r-1&&e===n+1?"":t.slice(e,r)};var a="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n("4362"))},e099:function(t,e,n){"use strict";var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,o){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"===typeof t?a(s(t),(function(s){var o=encodeURIComponent(r(s))+n;return i(t[s])?a(t[s],(function(t){return o+encodeURIComponent(r(t))})).join(e):o+encodeURIComponent(r(t[s]))})).join(e):o?encodeURIComponent(r(o))+n+encodeURIComponent(r(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function a(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var s=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},e372:function(t,e,n){e=t.exports=n("ad71"),e.Stream=e,e.Readable=e,e.Writable=n("dc14"),e.Duplex=n("b19a"),e.Transform=n("27bf"),e.PassThrough=n("780f")},e3db:function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},f183:function(t,e,n){var r=n("d012"),i=n("861d"),a=n("5135"),s=n("9bf2").f,o=n("90e3"),c=n("bb2f"),u=o("meta"),h=0,l=Object.isExtensible||function(){return!0},f=function(t){s(t,u,{value:{objectID:"O"+ ++h,weakData:{}}})},p=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,u)){if(!l(t))return"F";if(!e)return"E";f(t)}return t[u].objectID},d=function(t,e){if(!a(t,u)){if(!l(t))return!0;if(!e)return!1;f(t)}return t[u].weakData},v=function(t){return c&&b.REQUIRED&&l(t)&&!a(t,u)&&f(t),t},b=t.exports={REQUIRED:!1,fastKey:p,getWeakData:d,onFreeze:v};r[u]=!0},faa1:function(t,e,n){"use strict";var r,i="object"===typeof Reflect?Reflect:null,a=i&&"function"===typeof i.apply?i.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};function s(t){console&&console.warn&&console.warn(t)}r=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var o=Number.isNaN||function(t){return t!==t};function c(){c.init.call(this)}t.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var u=10;function h(t){if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function l(t){return void 0===t._maxListeners?c.defaultMaxListeners:t._maxListeners}function f(t,e,n,r){var i,a,o;if(h(n),a=t._events,void 0===a?(a=t._events=Object.create(null),t._eventsCount=0):(void 0!==a.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),a=t._events),o=a[e]),void 0===o)o=a[e]=n,++t._eventsCount;else if("function"===typeof o?o=a[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),i=l(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=o.length,s(c)}return t}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=p.bind(r);return i.listener=n,r.wrapFn=i,i}function v(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?g(i):y(i,i.length)}function b(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function y(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function m(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function g(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!==typeof t||t<0||o(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),c.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(t){if("number"!==typeof t||t<0||o(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},c.prototype.getMaxListeners=function(){return l(this)},c.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var c=i[t];if(void 0===c)return!1;if("function"===typeof c)a(c,this,e);else{var u=c.length,h=y(c,u);for(n=0;n<u;++n)a(h[n],this,e)}return!0},c.prototype.addListener=function(t,e){return f(this,t,e,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(t,e){return f(this,t,e,!0)},c.prototype.once=function(t,e){return h(e),this.on(t,d(this,t,e)),this},c.prototype.prependOnceListener=function(t,e){return h(e),this.prependListener(t,d(this,t,e)),this},c.prototype.removeListener=function(t,e){var n,r,i,a,s;if(h(e),r=this._events,void 0===r)return this;if(n=r[t],void 0===n)return this;if(n===e||n.listener===e)0===--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!==typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===e||n[a].listener===e){s=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():m(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||e)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(t){var e,n,r;if(n=this._events,void 0===n)return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)i=a[r],"removeListener"!==i&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=n[t],"function"===typeof e)this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},c.prototype.listeners=function(t){return v(this,t,!0)},c.prototype.rawListeners=function(t){return v(this,t,!1)},c.listenerCount=function(t,e){return"function"===typeof t.listenerCount?t.listenerCount(e):b.call(t,e)},c.prototype.listenerCount=b,c.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},faf5:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n("b0c0"),n("b680"),n("b64b");var r=n("d4ec"),i=n("bee2"),a=n("ade3"),s=function(){function t(e,n){Object(r["a"])(this,t),Object(a["a"])(this,"oldlist",void 0),Object(a["a"])(this,"newlist",void 0),Object(a["a"])(this,"openChange",void 0),Object(a["a"])(this,"closeChange",void 0),this.oldlist=e,this.newlist=n,this.calc()}return Object(i["a"])(t,[{key:"calc",value:function(){for(var t=Object.keys(this.oldlist),e=0,n=0,r=0,i=t;r<i.length;r++){var a=i[r];this.newlist[a]&&(0!==this.newlist[a].price?(e+=(this.newlist[a].price-this.oldlist[a].price)/this.oldlist[a].price,n+=(this.newlist[a].open-this.oldlist[a].price)/this.oldlist[a].price):console.info("#Statement# suspension stock consider as change 0% ...",a,this.newlist[a].name))}this.closeChange=(100*e).toFixed(2),this.openChange=(100*n).toFixed(2)}},{key:"getOpenChange",value:function(){return this.openChange}},{key:"getCloseChange",value:function(){return this.closeChange}},{key:"getChange",value:function(){return this.closeChange}},{key:"getProfit",value:function(t){return(this.closeChange*t).toFixed(2)}}]),t}()}}]);