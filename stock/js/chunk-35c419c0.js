(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-35c419c0"],{"2fe6":function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return i}));a("cb29");var n=a("d4ec"),r=a("ade3"),o={red:"rgb(255, 99, 132)",orange:"rgb(255, 159, 64)",yellow:"rgb(255, 205, 86)",green:"rgb(11, 188, 73)",blue:"rgb(120, 164, 250)",purple:"rgb(153, 102, 255)",grey:"rgb(201, 203, 207)"},i=function e(t){Object(n["a"])(this,e),Object(r["a"])(this,"label",void 0),Object(r["a"])(this,"fill",void 0),Object(r["a"])(this,"backgroundColor",void 0),Object(r["a"])(this,"borderColor",void 0),Object(r["a"])(this,"data",void 0),Object.assign(this,t),this.fill=t.fill||!1,this.backgroundColor=t.backgroundColor||o.red,this.borderColor=t.borderColor||o.red}},"6f7a":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"t0"},[a("ui-nav",[a("ui-nav-item",{attrs:{selected:"bond"===e.target}},[a("a",{on:{click:function(t){return e.onChangeTarget("bond")}}},[e._v("BOND")])]),a("ui-nav-item",{staticClass:"without",attrs:{selected:"future"===e.target}},[a("a",{on:{click:function(t){return e.onChangeTarget("future")}}},[e._v("FUTURE")])])],1),a("ui-nav",e._l(e.keys,(function(t){return a("ui-nav-item",{key:t,class:{without:t.includes("short")},attrs:{selected:"name"===e.key}},[a("a",{on:{click:function(a){return e.onChangeKey(t)}}},[e._v(e._s(t.toUpperCase()))])])})),1),a("ui-nav",[a("ui-nav-item",{attrs:{selected:1===e.day},nativeOn:{click:function(t){return e.onChangeDay(1)}}},[e._v("周一")]),a("ui-nav-item",{attrs:{selected:2===e.day},nativeOn:{click:function(t){return e.onChangeDay(2)}}},[e._v("周二")]),a("ui-nav-item",{attrs:{selected:3===e.day},nativeOn:{click:function(t){return e.onChangeDay(3)}}},[e._v("周三")]),a("ui-nav-item",{attrs:{selected:4===e.day},nativeOn:{click:function(t){return e.onChangeDay(4)}}},[e._v("周四")]),a("ui-nav-item",{attrs:{selected:5===e.day},nativeOn:{click:function(t){return e.onChangeDay(5)}}},[e._v("周五")]),a("ui-nav-item",{nativeOn:{click:function(t){return e.onRealtime()}}},[e._v("实时")]),a("ui-nav-item",{nativeOn:{click:function(t){return e.onTest()}}},[e._v("回测")])],1),a("ui-nav",[a("ui-nav-item",{attrs:{selected:"total"===e.type}},[a("a",{on:{click:function(t){return e.onChangeType("total")}}},[e._v("交易汇总")])]),a("ui-nav-item",{attrs:{selected:"detail"===e.type}},[a("a",{on:{click:function(t){return e.onChangeType("detail")}}},[e._v("逐笔还原")])])],1),a("ul",{staticClass:"times"},[a("li",{directives:[{name:"show",rawName:"v-show",value:e.before,expression:"before"}],staticClass:"pre",on:{click:function(t){return e.onShowBefore()}}},[e._v(" ‹ "+e._s(e.before)+" ")]),a("li",[e._v(" "+e._s(e.tooltip)+" ")]),a("li",{directives:[{name:"show",rawName:"v-show",value:e.next,expression:"next"}],staticClass:"next",on:{click:function(t){return e.onShowNext()}}},[e._v(" "+e._s(e.next)+" › ")])]),a("ui-chart",{ref:"chart"})],1)},r=[],o=(a("99af"),a("cb29"),a("26e9"),a("b0c0"),a("b680"),a("b64b"),a("d3b7"),a("ac1f"),a("1276"),a("ddb0"),a("3835")),i=a("a34a"),c=a.n(i),s=(a("96cf"),a("1da1")),l=a("2fe6"),u=a("c1df"),d=a.n(u),b=a("38f7"),h=a("7366"),f=a.n(h),v={data:function(){return{day:d()().day(),targets:[],keys:[],target:"bond",type:"total",next:"",before:"",tooltip:"",console:!1}},mounted:function(){var e=this;return Object(s["a"])(c.a.mark((function t(){return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.targets=Object.keys(window.__Walle_Stock_T0.controllers()),e.keys=Object.keys(window.__Walle_Stock_T0.processors()),e.target=e.targets[0],e.key=e.keys[0];case 4:case"end":return t.stop()}}),t)})))()},methods:{onTest:function(){var e=this;return Object(s["a"])(c.a.mark((function t(){var a,n,r,i,s,l;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{a=window.prompt("Please Input Target Code & Period & Multiple (eg. 127008,3,1)\nDevtools > Console Show The Result .."),n=a.split(","),r=Object(o["a"])(n,3),i=r[0],s=r[1],l=r[2],e.key&&i&&s&&l&&window.__Walle_Stock_T0.test(e.key,i,+s,+l)}catch(c){}case 1:case"end":return t.stop()}}),t)})))()},onRealtime:function(){var e=this;return Object(s["a"])(c.a.mark((function t(){return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:b["a"].open(e.target,e.key);case 1:case"end":return t.stop()}}),t)})))()},onChangeTarget:function(e){var t=this;return Object(s["a"])(c.a.mark((function a(){return c.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.target=e,t.onChangeDay(t.day);case 2:case"end":return a.stop()}}),a)})))()},onChangeKey:function(e){var t=this;return Object(s["a"])(c.a.mark((function a(){return c.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.key=e,t.onChangeDay(t.day);case 2:case"end":return a.stop()}}),a)})))()},onChangeDay:function(e){var t=this;return Object(s["a"])(c.a.mark((function a(){return c.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.day=e,t.type="total",t.next="",t.before="",t.tooltip="",t.$refs.chart&&t.$refs.chart.clear(),a.next=8,b["a"].load(t.target,t.key,e);case 8:return a.next=10,t.onChangeType("total");case 10:case"end":return a.stop()}}),a)})))()},onChangeType:function(e){var t=this;return Object(s["a"])(c.a.mark((function a(){return c.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.type=e,"total"===e?t.onShowTotalChart():t.onShowDetailChart();case 2:case"end":return a.stop()}}),a)})))()},onShowBefore:function(){b["a"].stepToBefore(),this.onShowDetailChart()},onShowNext:function(){b["a"].stepToNext(),this.onShowDetailChart()},onShowTotalChart:function(){if(this.$refs.chart){var e=b["a"].total();if(b["a"].date()){this.next="",this.before="",this.tooltip="".concat(b["a"].date()," 总收益: ").concat(e.profits,"% 次数: ").concat(e.times," 胜率: ").concat(e.rate.win,"% 单笔收益: ").concat(e.rate.average,"%");var t=[new l["a"]({label:"Stocks Total PTCChange",backgroundColor:l["b"].red,borderColor:l["b"].red,data:e["profit"]}),new l["a"]({label:"Stock PTCChange",backgroundColor:l["b"].yellow,borderColor:l["b"].yellow,data:e["change"]})],a=e.time.reverse();this.$refs.chart.update({labels:a,datasets:t})}}},onShowDetailChart:function(){if(this.$refs.chart&&b["a"].date()){var e=b["a"].next(),t=b["a"].before();this.next=e&&d()(e,"HHmmss").format("HH:mm:ss"),this.before=t&&d()(t,"HHmmss").format("HH:mm:ss");var a=b["a"].current(),n=b["a"].detail(a),r=n.buy.change||0,o=n.sell.change||0;n.code&&n.name&&(this.tooltip="".concat(n.code," ").concat(n.name," ").concat(+(o-r).toFixed(2),"%"));var i=f()(n),c=i.trend.time,s=function(e,t,a){var n=new Array(e.length).fill(NaN);for(var r in e)if(+t>=+e[r]){n[r]=a;break}return n.reverse()},u=[new l["a"]({label:"Stock Buy Point",backgroundColor:l["b"].blue,borderColor:l["b"].blue,pointRadius:5,data:s(c,i.buy.time,i.buy.price)}),new l["a"]({label:"Stock Sell Point",backgroundColor:l["b"].green,borderColor:l["b"].green,pointRadius:5,data:s(c,i.sell.time,i.sell.price)}),new l["a"]({label:"Stock Price",backgroundColor:l["b"].red,borderColor:l["b"].red,data:i.trend.price.reverse()}),new l["a"]({label:"Stock MA5",backgroundColor:l["b"].orange,borderColor:l["b"].orange,data:i.trend.ma5.reverse()}),new l["a"]({label:"Stock MA10",hidden:!0,backgroundColor:l["b"].yellow,borderColor:l["b"].yellow,data:i.trend.ma10.reverse()}),new l["a"]({label:"Stock MA20",hidden:!0,backgroundColor:l["b"].grey,borderColor:l["b"].grey,data:i.trend.ma20.reverse()}),new l["a"]({label:"Stock Change",hidden:!0,backgroundColor:l["b"].orange,borderColor:l["b"].orange,data:i.trend.change.reverse()}),new l["a"]({label:"Stock Rate",hidden:!0,backgroundColor:l["b"].purple,borderColor:l["b"].purple,data:i.trend.rate.reverse()})];this.$refs.chart.update({labels:c,datasets:u})}}}},g=v,p=(a("84e9"),a("2877")),w=Object(p["a"])(g,n,r,!1,null,"25d693f9",null);t["default"]=w.exports},"81d5":function(e,t,a){"use strict";var n=a("7b0b"),r=a("23cb"),o=a("50c4");e.exports=function(e){var t=n(this),a=o(t.length),i=arguments.length,c=r(i>1?arguments[1]:void 0,a),s=i>2?arguments[2]:void 0,l=void 0===s?a:r(s,a);while(l>c)t[c++]=e;return t}},"84e9":function(e,t,a){"use strict";var n=a("c07a"),r=a.n(n);r.a},c07a:function(e,t,a){},cb29:function(e,t,a){var n=a("23e7"),r=a("81d5"),o=a("44d2");n({target:"Array",proto:!0},{fill:r}),o("fill")}}]);