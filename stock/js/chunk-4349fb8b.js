(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4349fb8b","chunk-113b862c","chunk-6fd25288"],{"07ac":function(t,e,a){var i=a("23e7"),r=a("6f53").values;i({target:"Object",stat:!0},{values:function(t){return r(t)}})},"26e9":function(t,e,a){"use strict";var i=a("23e7"),r=a("e8b5"),n=[].reverse,s=[1,2];i({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n.call(this)}})},"2fe6":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"a",(function(){return s}));a("cb29");var i=a("d4ec"),r=a("ade3"),n={red:"rgb(255, 99, 132)",orange:"rgb(255, 159, 64)",yellow:"rgb(255, 205, 86)",green:"rgb(11, 188, 73)",blue:"rgb(120, 164, 250)",purple:"rgb(153, 102, 255)",grey:"rgb(201, 203, 207)"},s=function t(e){var a=e.label,s=e.fill,o=void 0!==s&&s,c=e.backgroundColor,l=void 0===c?n.red:c,u=e.borderColor,p=void 0===u?n.red:u,h=e.data;Object(i["a"])(this,t),Object(r["a"])(this,"label",void 0),Object(r["a"])(this,"fill",void 0),Object(r["a"])(this,"backgroundColor",void 0),Object(r["a"])(this,"borderColor",void 0),Object(r["a"])(this,"data",void 0),this.label=a,this.fill=o,this.backgroundColor=l,this.borderColor=p,this.data=h}},"407d":function(t,e,a){"use strict";var i=a("9505"),r=a.n(i);r.a},"575e":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"today"},[a("ui-nav",[t._l(t.times,(function(e,i){return a("ui-nav-item",{key:e.time+i,attrs:{selected:t.time===e.time},nativeOn:{click:function(a){return t.onChangeTime(e.time)}}},[t._v(" "+t._s(e.time.toUpperCase())+" "),e.rule.date?a("span",{attrs:{title:"移除此临时捕获时间点"},on:{click:function(a){return t.onRemoveTempCapture(e.rule.capture,e.rule.date)}}},[t._v("X")]):t._e()])})),a("ui-nav-item",{attrs:{title:"设置临时捕获时间点(如大盘反弹)"},nativeOn:{click:function(e){return t.onSetTempCapture()}}},[t._v("✚")])],2),a("ui-nav",[t._l(t.vtypes,(function(e){return a("ui-nav-item",{key:e,attrs:{selected:t.vtype===e&&!t.isShowAll,title:JSON.stringify(t.validators[e],null,4)}},[a("a",{on:{click:function(a){return t.onChangeVtype(e)}}},[t._v(t._s(e.toUpperCase()))])])})),a("ui-nav-item",{attrs:{selected:t.isShowAll}},[a("a",{on:{click:function(e){return e.stopPropagation(),t.toggleAllLists(e)}}},[t._v("☰")])])],2),t.isShowAll?t._e():a("ui-nav",t._l(t.lists,(function(e){var i=e.change,r=e.name;return a("ui-nav-item",{key:t.time+t.vtype+r,attrs:{selected:t.list===r}},[a("ui-icon-indicator",{attrs:{time:t.time,vtype:t.vtype,listname:r,trace:t.trace}}),a("a",{attrs:{title:t.titleOfList(r,t.vtype)},on:{click:function(e){return t.onChangeList(r,t.vtype)}}},[t._v(t._s(r))]),a("a",{on:{click:function(e){return t.onShowStocksBoard(e,r,t.vtype)}}},[t._v(" ("+t._s(i)+"%)")]),a("ui-icon-top",{attrs:{time:t.time,vtype:t.vtype,listname:r}}),a("ui-icon-strategy",{attrs:{time:t.time,vtype:t.vtype,listname:r}}),a("ui-icon-up",{attrs:{time:t.time,vtype:t.vtype,listname:r}}),a("ui-icon-down",{attrs:{time:t.time,vtype:t.vtype,listname:r}}),a("ui-icon-hot",{attrs:{time:t.time,vtype:t.vtype,listname:r,trace:t.trace}}),a("ui-icon-quantity",{attrs:{time:t.time,vtype:t.vtype,listname:r,trace:t.trace}}),a("ui-icon-ratio",{attrs:{time:t.time,vtype:t.vtype,listname:r,trace:t.trace}})],1)})),1),t.isShowAll?a("div",{staticClass:"all-lists"},[a("ui-nav",[a("ui-nav-item",{attrs:{selected:-1e3===t.alllistsFilter}},[a("a",{on:{click:function(e){t.alllistsFilter=-1e3,t.updateAllLists()}}},[t._v("ALL")])]),a("ui-nav-item",{attrs:{selected:0===t.alllistsFilter}},[a("a",{on:{click:function(e){t.alllistsFilter=0,t.updateAllLists()}}},[t._v(">0%")])]),a("ui-nav-item",{attrs:{selected:5===t.alllistsFilter}},[a("a",{on:{click:function(e){t.alllistsFilter=5,t.updateAllLists()}}},[t._v(">5.0%")])]),a("ui-nav-item",{attrs:{selected:10===t.alllistsFilter}},[a("a",{on:{click:function(e){t.alllistsFilter=10,t.updateAllLists()}}},[t._v(">10.0%")])]),a("ui-nav-item",{attrs:{selected:20===t.alllistsFilter}},[a("a",{on:{click:function(e){t.alllistsFilter=20,t.updateAllLists()}}},[t._v(">20.0%")])]),a("ui-nav-item",{attrs:{selected:40===t.alllistsFilter}},[a("a",{on:{click:function(e){t.alllistsFilter=40,t.updateAllLists()}}},[t._v(">40.0%")])]),a("ui-nav-item",{attrs:{selected:60===t.alllistsFilter}},[a("a",{on:{click:function(e){t.alllistsFilter=60,t.updateAllLists()}}},[t._v(">60.0%")])]),a("ui-nav-item",{attrs:{selected:80===t.alllistsFilter}},[a("a",{on:{click:function(e){t.alllistsFilter=80,t.updateAllLists()}}},[t._v(">80.0%")])]),t.time.includes("t0")&&!t.time.includes("interval")?a("ui-nav-item",{attrs:{selected:"ratio"===t.alllistsFilter}},[a("a",{on:{click:function(e){t.alllistsFilter="ratio",t.updateAllLists()}}},[t._v("S-RATIO")])]):t._e()],1),t._l(t.alllists,(function(e,i){return a("div",{directives:[{name:"show",rawName:"v-show",value:e.length,expression:"lists.length"}],key:i},[a("ui-nav",{staticClass:"nav"},[a("ui-nav-item",{staticClass:"vtype-icon",staticStyle:{"pointer-events":"none"}},[t._v(t._s(i.toUpperCase()))]),t._l(e,(function(e){var r=e.change,n=e.name;return a("ui-nav-item",{key:t.time+i+n,attrs:{selected:t.list===n}},[a("ui-icon-indicator",{attrs:{time:t.time,vtype:i,listname:n,trace:t.trace}}),a("a",{attrs:{title:t.titleOfList(n,i)},on:{click:function(e){return t.onChangeList(n,i)}}},[t._v(t._s(n))]),a("a",{on:{click:function(e){return t.onShowStocksBoard(e,n,i)}}},[t._v(" ("+t._s(r)+"%)")]),a("ui-icon-top",{attrs:{time:t.time,vtype:i,listname:n}}),a("ui-icon-strategy",{attrs:{time:t.time,vtype:i,listname:n}}),a("ui-icon-up",{attrs:{time:t.time,vtype:i,listname:n}}),a("ui-icon-down",{attrs:{time:t.time,vtype:i,listname:n}}),a("ui-icon-hot",{attrs:{time:t.time,vtype:i,listname:n,trace:t.trace}}),a("ui-icon-quantity",{attrs:{time:t.time,vtype:i,listname:n,trace:t.trace}}),a("ui-icon-ratio",{attrs:{time:t.time,vtype:i,listname:n,trace:t.trace}})],1)}))],2)],1)}))],2):t._e(),a("ul",{staticClass:"date"},[a("li",{directives:[{name:"show",rawName:"v-show",value:t.date.pre,expression:"date.pre"}],staticClass:"pre"},[a("router-link",{attrs:{to:"/market/today?date="+t.date.pre+"&time="+t.time+"&vtype="+t.vtype+"&list="+t.list}},[t._v(" ‹ "+t._s(t.date.pre)+" ")])],1),a("li",[t._v(" "+t._s(t.date.today)+" ")]),a("li",{directives:[{name:"show",rawName:"v-show",value:t.date.next,expression:"date.next"}],staticClass:"next"},[a("router-link",{attrs:{to:"/market/today?date="+t.date.next+"&time="+t.time+"&vtype="+t.vtype+"&list="+t.list}},[t._v(t._s(t.date.next)+" › ")])],1)]),a("ui-chart",{ref:"chart"}),a("ui-gene")],1)},r=[],n=(a("a4d3"),a("e01a"),a("d28b"),a("99af"),a("caad"),a("26e9"),a("b0c0"),a("b680"),a("b64b"),a("d3b7"),a("ac1f"),a("2532"),a("3ca3"),a("5319"),a("2ca0"),a("ddb0"),a("4795"),a("a34a")),s=a.n(n),o=(a("96cf"),a("1da1")),c=a("61b2"),l=a("af15"),u=a("763a"),p=a("ed3d"),h=a("b191"),d=a("a1e1"),v=a("2fe6"),f={data:function(){return{loadingEl:void 0,isShowAll:!1,alllists:{},alllistsFilter:-1e3,time:"",vtype:"",list:"",times:[],vtypes:[],lists:[],tempTimes:[],validators:{},trace:p["a"],capture:u["a"],traceOfLastday:p["a"],date:{today:"",next:"",pre:""}}},beforeMount:function(){var t=this;return Object(o["a"])(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.initTimesNav();case 2:return e.next=4,t.initVtypesNav();case 4:return e.next=6,t.initTrace();case 6:return t.$route.query.time&&(t.time=t.$route.query.time),t.$route.query.vtype&&(t.vtype=t.$route.query.vtype),t.$route.query.vtype&&(t.list=t.$route.query.list),e.next=11,t.onChangeList(t.$route.query.list,t.$route.query.vtype);case 11:case"end":return e.stop()}}),e)})))()},watch:{$route:function(t,e){var a=this;return Object(o["a"])(s.a.mark((function t(){return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.initTimesNav();case 2:return t.next=4,a.initVtypesNav();case 4:return t.next=6,a.initTrace();case 6:a.time=a.$route.query.time,a.vtype=a.$route.query.vtype,a.list=a.$route.query.list,a.onChangeList(a.list,a.vtype),a.updateAllLists();case 11:case"end":return t.stop()}}),t)})))()}},methods:{initTrace:function(){var t=this;return Object(o["a"])(s.a.mark((function e(){var a,i;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.$route.query.date,!a){e.next=26;break}if(e.t0=t.loadingEl,!e.t0){e.next=6;break}return e.next=6,toastr.clear(t.loadingEl);case 6:return e.next=8,toastr.loading();case 8:return t.loadingEl=e.sent,t.tradedate=new l["a"](a),t.date.pre=t.tradedate.last(),t.date.next=t.tradedate.next(),t.date.today=a,e.next=15,p["a"].create(a);case 15:return t.trace=e.sent,e.next=18,u["a"].create(a);case 18:return t.capture=e.sent,e.next=21,p["a"].create(t.date.pre);case 21:return t.traceOfLastday=e.sent,e.next=24,toastr.clear(t.loadingEl);case 24:e.next=34;break;case 26:return t.date={},t.tradedate=l["b"],t.trace=p["a"],t.capture=u["a"],i=t.tradedate.last(),e.next=33,p["a"].create(i);case 33:t.traceOfLastday=e.sent;case 34:t.trace.registerUpdateCallback("today",(function(e){var a=e.name,i="".concat(t.time,"-").concat(t.vtype);a===i&&t.onChangeList(t.list),t.isShowAll&&t.updateAllLists()}));case 35:case"end":return e.stop()}}),e)})))()},updateAllLists:function(){if(this.isShowAll)if(this.time.includes("t0")&&!this.time.includes("interval")||"ratio"!==this.alllistsFilter){this.alllists={};var t=!0,e=!1,a=void 0;try{for(var i,r=this.vtypes[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var n=i.value,s=this.trace.listChangesOf(this.time,n);this.alllists[n]=[];var o=!0,c=!1,l=void 0;try{for(var u,p=s[Symbol.iterator]();!(o=(u=p.next()).done);o=!0){var h=u.value;"ratio"===this.alllistsFilter?this.filterOfRatio(h.name,n)&&this.alllists[n].push(h):+h.change>this.alllistsFilter&&this.alllists[n].push(h)}}catch(d){c=!0,l=d}finally{try{o||null==p["return"]||p["return"]()}finally{if(c)throw l}}}}catch(d){e=!0,a=d}finally{try{t||null==r["return"]||r["return"]()}finally{if(e)throw a}}}else this.alllists={}},filterOfRatio:function(t,e){try{var a=this.trace.listRatioRankOf("quantity",this.time,e,t),i=this.trace.listRatioRankOf("hot",this.time,e,t),r=this.trace.listRatioRankOf("ratio",this.time,e,t);return a&&+a<=3||i&&+i<=3||r&&+r<=3}catch(n){}},toggleAllLists:function(){this.isShowAll=!this.isShowAll,this.isShowAll&&this.updateAllLists()},initTimesNav:function(){var t=this;return Object(o["a"])(s.a.mark((function e(){var a,i,r,n,o,u,p,h,d,v,f,m,y,w,b,k,_,g,x,O,C,S,L,$,F;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a=c["a"].getCaptureRules(),i=c["a"].getIntervalRules(),r=c["a"].getTempRules(),n=[],o=[],u=l["b"].today(),p=l["b"].last(),h=!0,d=!1,v=void 0,e.prev=9,f=a[Symbol.iterator]();!(h=(m=f.next()).done);h=!0)y=m.value,o.push({time:y.capture,rule:y}),n.push({time:"t0-"+y.capture,rule:y});e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](9),d=!0,v=e.t0;case 17:e.prev=17,e.prev=18,h||null==f["return"]||f["return"]();case 20:if(e.prev=20,!d){e.next=23;break}throw v;case 23:return e.finish(20);case 24:return e.finish(17);case 25:if(t.$route.query.date){e.next=45;break}for(w=!0,b=!1,k=void 0,e.prev=29,_=r[Symbol.iterator]();!(w=(g=_.next()).done);w=!0)x=g.value,x.date===p&&o.push({time:x.capture,rule:x}),x.date===u&&n.push({time:"t0-"+x.capture,rule:x}),t.tempTimes.push(x.capture);e.next=37;break;case 33:e.prev=33,e.t1=e["catch"](29),b=!0,k=e.t1;case 37:e.prev=37,e.prev=38,w||null==_["return"]||_["return"]();case 40:if(e.prev=40,!b){e.next=43;break}throw k;case 43:return e.finish(40);case 44:return e.finish(37);case 45:for(O=!0,C=!1,S=void 0,e.prev=48,L=i[Symbol.iterator]();!(O=($=L.next()).done);O=!0)F=$.value,o.push({time:F.capture,rule:F}),n.push({time:"t0-"+F.capture,rule:F});e.next=56;break;case 52:e.prev=52,e.t2=e["catch"](48),C=!0,S=e.t2;case 56:e.prev=56,e.prev=57,O||null==L["return"]||L["return"]();case 59:if(e.prev=59,!C){e.next=62;break}throw S;case 62:return e.finish(59);case 63:return e.finish(56);case 64:t.times=[].concat(o,n),t.time=o[0].time;case 66:case"end":return e.stop()}}),e,null,[[9,13,17,25],[18,,20,24],[29,33,37,45],[38,,40,44],[48,52,56,64],[57,,59,63]])})))()},initVtypesNav:function(){var t=c["a"].getValidators();this.vtypes=[];var e=!0,a=!1,i=void 0;try{for(var r,n=t[Symbol.iterator]();!(e=(r=n.next()).done);e=!0){var s=r.value;this.vtypes.push(s.name),this.validators[s.name]=s}}catch(o){a=!0,i=o}finally{try{e||null==n["return"]||n["return"]()}finally{if(a)throw i}}this.vtype=this.vtypes[0]},onUpdateChart:function(){if(this.$refs.chart){var t=this.trace.formatedChangesOfList(this.time,this.vtype,this.list);if(t.time.length){var e=t.time.reverse(),a=[new v["a"]({label:"Stocks PTC-Change",data:t.value})];this.$refs.chart.update({labels:e,datasets:a})}else this.$refs.chart.clear()}},onChangeTime:function(t){this.isShowAll=!1,this.time=t,this.onChangeList()},onChangeVtype:function(t){this.isShowAll=!1,this.vtype=t,this.onChangeList()},onChangeList:function(t,e){if(this.time&&this.vtype)if(e&&(this.vtype=e),this.lists=this.trace.listChangesOf(this.time,this.vtype),this.lists.length){t&&(this.list=t);var a=!1,i=!0,r=!1,n=void 0;try{for(var s,o=this.lists[Symbol.iterator]();!(i=(s=o.next()).done);i=!0){var c=s.value;c.name===this.list&&this.list&&(a=!0)}}catch(l){r=!0,n=l}finally{try{i||null==o["return"]||o["return"]()}finally{if(r)throw n}}!a&&(this.list=this.lists[0].name),this.onUpdateChart()}else this.$refs.chart&&this.$refs.chart.clear()},onSetTempCapture:function(){window.__Walle_Stock_Controller.setTempCapture(),setTimeout((function(){location.href=location.pathname}),500)},onRemoveTempCapture:function(t,e){window.__Walle_Stock_Controller.removeTempCapture(t,e),setTimeout((function(){location.href=location.pathname}),500)},onShowStocksBoard:function(t,e,a){if(this.time&&this.vtype){a=a||this.vtype;t.currentTarget;var i={};i=this.time.startsWith("t0")?this.capture.captureOfList(this.time,a,e):this.trace.captureOfList(this.time,a,e);var r=this.trace.traceOfList(this.time,a,e);i&&Object.keys(i).length&&d["a"].show(this.time,a,e,i,r,{update:!this.$route.query.date})}},titleOfList:function(t,e){try{var a=this.trace.potentialChangeOfList(this.time,e,t),i=this.trace.listRatioOf("quantity",this.time,e,t),r=this.trace.calcQuantityOffsetOfList(this.time,e,t),n=this.trace.rateOfList(this.time,e,t);if(this.tempTimes.includes(this.time.replace("t0-","")))return"量价能系数: ".concat(i," (").concat(r>0?"+".concat((+r).toFixed(2)):(+r).toFixed(2),") 榜单主力净占比: ").concat(n,"% 最大潜在涨幅: ").concat(a,"% ");var s=h["a"].listRankOf(this.time,e,t),o=h["a"].listStrategyOf(this.time,e,t),c=this.tradedate.today(),l=this.trace.listRatioOf("hot",this.time,e,t),u=this.trace.listRatioOf("ratio",this.time,e,t),p=this.trace.changeOfList(this.time.replace("t0-",""),e,t),d=this.trace.last2daysChangesOfList(this.time,e||this.vtype,t),v="持续交易总收益: ".concat(o.profit.normal,"% 排名: ").concat(s.longterm," 交易次数: ").concat(o.day.normal," 日盈利率: ").concat(o.profitrate.normal,"% 胜率: ").concat(o.winrate.normal,"%\n");return v+="策略交易总收益: ".concat(o.profit.strategy,"% 排名: ").concat(s.strategy," 交易次数: ").concat(o.day.trade," 日盈利率: ").concat(o.profitrate.strategy,"% 胜率: ").concat(o.winrate.strategy,"%\n"),v+="短期热度总收益: ".concat(o.profit.hot,"% 排名: ").concat(s.shortterm," 交易次数: ").concat(o.day.hot," 日盈利率: ").concat(o.profitrate.hot,"% 胜率: ").concat(o.winrate.hot,"%\n"),v+="上行交易总收益: ".concat(o.profit["up-trade"],"% 排名: ").concat(s.uptrade," 交易次数: ").concat(o.day["up-trade"]," 日盈利率: ").concat(o.profitrate["up-trade"],"% 胜率: ").concat(o.winrate["up-trade"],"%\n"),v+="下行交易总收益: ".concat(o.profit["down-trade"],"% 排名: ").concat(s.downtrade," 交易次数: ").concat(o.day["down-trade"]," 日盈利率: ").concat(o.profitrate["down-trade"],"% 胜率: ").concat(o.winrate["down-trade"],"%\n\n"),this.time.includes("interval")||(v+="可买入系数: ".concat(u," 热度趋势系数: ").concat(l," 量价能系数: ").concat(i," (").concat(r>0?"+".concat((+r).toFixed(2)):(+r).toFixed(2),") \n")),v+="榜单主力净占比: ".concat(n,"% 最大潜在涨幅: ").concat(a,"%\n"),v+="近三日收益: ".concat(c," ").concat(p,"%, ").concat(d[0]," ").concat(d[1],"%, ").concat(d[2]," ").concat(d[3],"%"),v}catch(f){}}}},m=f,y=(a("407d"),a("2877")),w=Object(y["a"])(m,i,r,!1,null,"0bae5df2",null);e["default"]=w.exports},"5b0d":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return this.$props.display?i("div",{staticClass:"mask",class:{"background-glass":!1!==t.$props.glass},style:{"z-index":t.$props.zindex||9999999,background:t.$props.background+" !important"}},[t._t("default",[i("img",{attrs:{alt:"Walle Stock Market",src:a("edad")}})])],2):t._e()},r=[],n={props:["display","glass","zindex","background"]},s=n,o=(a("86e2"),a("2877")),c=Object(o["a"])(s,i,r,!1,null,"667e3519",null);e["default"]=c.exports},6067:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"board",staticClass:"board background-glass",on:{click:function(t){t.stopPropagation()}}},[t.$props.options.title?a("p",{staticClass:"title"},[t._v(" "+t._s(t.$props.options.title)+" "),t.$props.options.simple?a("i",{staticClass:"kanban cursor-pointer fa fa-bar-chart",attrs:{title:"股票看板"},on:{click:t.kanban}}):t._e()]):t._e(),Object.values(this.trace).length&&!t.$props.options.simple?a("div",[a("br"),a("p",[t._v(" 跟踪 "),a("span",{staticClass:"profit cursor-pointer",class:{red:t.profit>=0,green:t.profit<0},attrs:{title:t.tooltip()}},[t._v("("+t._s(t.profit)+"%)")]),a("i",{staticClass:"refresh cursor-pointer fa fa-refresh",attrs:{title:"更新股票数据 用于榜单长期持有收益跟踪分析 亏损扭转情况和持续盈利情况"},on:{click:t.update}})]),a("table",{staticClass:"table"},[a("thead",[a("tr",t._l(t.translator,(function(e,i){return a("th",{directives:[{name:"show",rawName:"v-show",value:t.isShowOptionField(i,!0),expression:"isShowOptionField(key, true)"}],key:i,attrs:{scope:"col"}},[t._v(t._s(t.translator[i]))])})),0)]),a("tbody",t._l(t.trace,(function(e,i){return a("tr",{key:e.code,class:{red:e.change>=0,green:e.change<0}},t._l(t.translator,(function(r,n){return a("th",{directives:[{name:"show",rawName:"v-show",value:t.isShowOptionField(n,!0),expression:"isShowOptionField(key, true)"}],key:n,staticClass:"cursor-default",class:{animated:"rate"===n&&e.change<0&&e.rate<0,infinite:!0,shake:!0,slower:!0},attrs:{scope:"row"}},["code"===n?a("span",[a("a",{attrs:{href:t.urlOfNetinflow(i,e.name),target:"_blank"}},[t._v(t._s(i))]),t.isT0List?a("i",{staticClass:"cursor-pointer",attrs:{title:"从榜单中移除此股票",onclick:"window.dispatchEvent(new CustomEvent('onIgnoreStockEvent', { detail: { el: this , time:'"+t.time+"', vtype:'"+t.vtype+"', listname:'"+t.listname+"', code:'"+e.code+"', name:'"+e.name+"' }}))"}},[t._v(" (x)")]):t._e()]):"name"===n?a("span",[a("a",{attrs:{href:t.urlOfQuote(i,e.name),target:"_blank"}},[t._v(t._s(e.name)+" ")]),t.markets&&t.markets.bondOfStock(i)?a("a",{attrs:{href:t.urlOfQuote(t.markets.bondOfStock(i)),target:"_blank",title:"查看可转债行情 "+t.markets.bondOfStock(i)}},[a("i",{staticClass:"fa fa-money"})]):t._e()]):"change"===n?a("span",{staticClass:"cursor-pointer"},[a("span",{staticStyle:{width:"40px",display:"inline-block"},attrs:{title:"今日涨跌幅"}},[t._v(t._s(e[n]))]),t._v(" / "),a("span",{class:t.calcChange(i)>=0?"red":"green",staticStyle:{width:"40px",display:"inline-block"},attrs:{title:"两日涨跌幅"}},[t._v(t._s(t.calcChange(i)))])]):a("span",[t._v(t._s(t.toMoney(n,e[n])))])])})),0)})),0)])]):t._e(),a("div",[t.$props.options.simple?t._e():a("br"),t.$props.options.simple?t._e():a("p",[t._v(" 捕获 "),a("i",{staticClass:"kanban cursor-pointer fa fa-bar-chart",attrs:{title:"股票看板"},on:{click:t.kanban}})]),a("table",{staticClass:"table"},[a("thead",[a("tr",t._l(t.translator,(function(e,i){return a("th",{directives:[{name:"show",rawName:"v-show",value:t.isShowOptionField(i),expression:"isShowOptionField(key)"}],key:i,attrs:{scope:"col"}},[t._v(t._s(t.translator[i]))])})),0)]),a("tbody",t._l(t.capture,(function(e,i){return a("tr",{key:e.code,class:{red:e.change>=0,green:e.change<0}},t._l(t.translator,(function(r,n){return a("th",{directives:[{name:"show",rawName:"v-show",value:t.isShowOptionField(n),expression:"isShowOptionField(key)"}],key:n,staticClass:"cursor-default",attrs:{scope:"row"}},[a("span","code"===n?[a("a",{attrs:{href:t.urlOfNetinflow(i,e.name),target:"_blank"}},[t._v(t._s(i))]),i.startsWith("1")?t._e():a("i",{staticClass:"cursor-pointer",attrs:{title:"查看股票基因数据",onclick:"window.dispatchEvent(new CustomEvent('onShowGeneEvent', { detail: { code: '"+e.code+"', vtype:'"+t.vtype+"' }}))"}},[t._v(" (i)")])]:"name"===n?[a("a",{attrs:{href:t.urlOfQuote(i,e.name),target:"_blank"}},[t._v(t._s(e.name)+" ")]),t.markets&&t.markets.bondOfStock(i)?a("a",{attrs:{href:t.urlOfQuote(t.markets.bondOfStock(i)),target:"_blank",title:"查看可转债行情 "+t.markets.bondOfStock(i)}},[a("i",{staticClass:"fa fa-money"})]):t._e()]:[t._v(t._s(t.toMoney(n,e[n])))])])})),0)})),0)]),a("br")])])},r=[],n=(a("99af"),a("caad"),a("fb6a"),a("b0c0"),a("b680"),a("b64b"),a("07ac"),a("ac1f"),a("2532"),a("5319"),a("a34a")),s=a.n(n),o=(a("96cf"),a("1da1")),c={props:["time","vtype","listname","captureList","traceList","options"],data:function(){return{translator:{code:"股票代码",name:"股票简称",price:"股价",change:"涨跌幅",rate:"主力净占比",prevclose:"昨收",turnover:"换手率",qrr:"量比",volume:"成交量",inflow:"主力流入资金",outflow:"主力流出资金",netinflow:"主力净流入资金",hot:"热度",block:"板块",times:"连板天数"},trace:{},capture:{},profit:0,potential:0,intervalId:-1,listener:function(){},markets:window.__Walle_Stock_Markets}},computed:{isT0List:function(){return this.$props.time.includes("t0")}},watch:{"$props.options":function(t,e){this.$props.options.show?console.log("#Stock-Board# show start auto-update"):(this.stopAutoUpdate(),console.log("#Stock-Board# hidden disable auto-update"))}},created:function(){var t=this;return Object(o["a"])(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.trace=t.$props.traceList,t.capture=t.$props.captureList,e.next=4,t.calc();case 4:t.listener=function(){return t.listen.apply(t,arguments)},window.addEventListener("__Walle_Stock_Daily_Trace_Event",t.listener),t.startAutoUpdate();case 7:case"end":return e.stop()}}),e)})))()},destroyed:function(){window.removeEventListener("__Walle_Stock_Daily_Trace_Event",this.listener),this.stopAutoUpdate()},methods:{tooltip:function(){var t=" 达成涨幅 ".concat(this.profit,"% 潜在涨幅 ").concat(this.potential,"% ");return this.$props.time&&(t="".concat(this.$props.time,"-").concat(this.$props.vtype,"-").concat(this.$props.listname)+t),t},listen:function(t){var e=this,a=t.detail;return Object(o["a"])(s.a.mark((function t(){var i,r,n,o;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$props.options.update){t.next=2;break}return t.abrupt("return");case 2:if(i=a.name,a.change,r=a.trace,n=a.capture,o=e.$props.time+"-"+e.$props.vtype,o!==i){t.next=10;break}return e.trace=r[e.$props.listname],e.capture=n[e.$props.listname],t.next=9,e.calc();case 9:console.log("#Stock-Board# event update ".concat(i," ..."));case 10:case"end":return t.stop()}}),t)})))()},isShowOptionField:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{var a=["hot","block","times"];if(e&&a.includes(t))return!1;var i=Object.values(this.$props.captureList)[0];return void 0!==i[t]}catch(r){return!1}},toMoney:function(t,e){return["volume","inflow","outflow","netinflow"].includes(t)&&(e=Math.abs(+e)>=1e8?(+e/1e8).toFixed(2)+"亿":(+e/1e4).toFixed(2)+"万"),e},urlOfQuote:function(t,e){t=t.replace("A","");var a={6:"sh",0:"sz",3:"sz",9:"sh",2:"sz"},i={11:"sh",12:"sz"},r=a[t[0]];return"1"===t[0]&&(r=i[t.slice(0,2)]),t="".concat(r).concat(t),"上证指数"===e?"http://quote.eastmoney.com/zs000001.html":"http://quote.eastmoney.com/".concat(t,".html")},urlOfNetinflow:function(t,e){return t=t.replace("A",""),"上证指数"===e?"http://data.eastmoney.com/zjlx/zs000001.html":"http://data.eastmoney.com/zjlx/".concat(t,".html")},kanban:function(){var t=this;return Object(o["a"])(s.a.mark((function e(){var a,i;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(i in a=[],t.capture)a.push(i.replace("A",""));window.dispatchEvent(new CustomEvent("onOpenKanbanEvent",{detail:{stocks:a,capture:t.capture,trace:t.trace}}));case 3:case"end":return e.stop()}}),e)})))()},update:function(){var t=this;return Object(o["a"])(s.a.mark((function e(){var a;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,window.__Walle_Stock_Crawler){e.next=3;break}return e.abrupt("return");case 3:return a=Object.keys(t.trace),e.next=6,window.__Walle_Stock_Crawler.captureStocks(a);case 6:return t.trace=e.sent,e.next=9,t.calc();case 9:console.log("#Stock-Board# update ",t.trace),e.next=14;break;case 12:e.prev=12,e.t0=e["catch"](0);case 14:case"end":return e.stop()}}),e,null,[[0,12]])})))()},calc:function(){var t=this;return Object(o["a"])(s.a.mark((function e(){var a,i,r;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.trace){e.next=3;break}return e.abrupt("return");case 3:for(r in a=0,i=0,t.trace)a+=t.calcChange(r),i+=t.calcPotentialChange(r);t.profit=+a.toFixed(2),t.potential=+i.toFixed(2),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.warn("#Stock-Board# calc",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},calcChange:function(t){var e=this.capture[t].price,a=this.trace[t].price;return 0===a?+((this.trace[t].prevclose-this.capture[t].price)/this.capture[t].price*100).toFixed(2):+((a-e)/e*100).toFixed(2)},calcPotentialChange:function(t){return 0===this.trace[t].price?0:+(10-this.trace[t].change).toFixed(2)},stopAutoUpdate:function(){clearInterval(this.intervalId),console.log("#Stock-Board# auto-update stoped")},startAutoUpdate:function(){var t=this;return Object(o["a"])(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(window.__Walle_Stock_Cron){e.next=2;break}return e.abrupt("return");case 2:if(t.$props.options.update){e.next=5;break}return console.log("#Stock-Board# force disable auto-update"),e.abrupt("return");case 5:return console.log("#Stock-Board# auto-update start"),e.next=8,window.__Walle_Stock_Cron.interval(Object(o["a"])(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.update();case 1:case"end":return e.stop()}}),e)}))),null,30,"stock-board");case 8:t.intervalId=e.sent;case 9:case"end":return e.stop()}}),e)})))()}}},l=c,u=(a("9d89"),a("2877")),p=Object(u["a"])(l,i,r,!1,null,"5ef06004",null);e["default"]=p.exports},"6f53":function(t,e,a){var i=a("83ab"),r=a("df75"),n=a("fc6a"),s=a("d1e7").f,o=function(t){return function(e){var a,o=n(e),c=r(o),l=c.length,u=0,p=[];while(l>u)a=c[u++],i&&!s.call(o,a)||p.push(t?[a,o[a]]:o[a]);return p}};t.exports={entries:o(!0),values:o(!1)}},"81d5":function(t,e,a){"use strict";var i=a("7b0b"),r=a("23cb"),n=a("50c4");t.exports=function(t){var e=i(this),a=n(e.length),s=arguments.length,o=r(s>1?arguments[1]:void 0,a),c=s>2?arguments[2]:void 0,l=void 0===c?a:r(c,a);while(l>o)e[o++]=t;return e}},"86e2":function(t,e,a){"use strict";var i=a("c687"),r=a.n(i);r.a},9505:function(t,e,a){},"9d89":function(t,e,a){"use strict";var i=a("f8b5"),r=a.n(i);r.a},a1e1:function(t,e,a){"use strict";var i=a("d4ec"),r=a("bee2"),n=a("ade3"),s=a("a026"),o=a("6067"),c=a("5b0d"),l=function(){function t(){Object(i["a"])(this,t),Object(n["a"])(this,"vm",void 0)}return Object(r["a"])(t,[{key:"show",value:function(t,e,a,i,r,n){var l=this,u={update:!0,show:!0,title:"",simple:!1};n=Object.assign({},u,n),this.hide(),this.vm=new s["a"]({components:{"ui-mask":c["default"],"ui-board":o["default"]},template:'\n        <ui-mask @click.native=\'toggle\' :display="options.show" :glass="false" :zindex="100001">\n          <ui-board :time="time" :vtype="vtype" :listname="listname" :capture-list="captureList" :trace-list="traceList" :options="options"></ui-board>\n        </ui-mask>  \n      ',data:function(){return{time:t,vtype:e,listname:a,captureList:i,traceList:r,options:n}},methods:{toggle:function(){this.options=Object.assign({},n,{show:!this.options.show}),!this.options.show&&l.hide()}}}).$mount();var p=document.querySelector("#walle-app");p.scrollTo(0,0),document.querySelector("#walle-app").appendChild(this.vm.$el)}},{key:"hide",value:function(){this.vm&&this.vm.$el&&document.querySelector("#walle-app").removeChild(this.vm.$el),this.vm=null}}]),t}();e["a"]=new l},c687:function(t,e,a){},cb29:function(t,e,a){var i=a("23e7"),r=a("81d5"),n=a("44d2");i({target:"Array",proto:!0},{fill:r}),n("fill")},edad:function(t,e,a){t.exports=a.p+"img/logo.jpg"},f8b5:function(t,e,a){}}]);