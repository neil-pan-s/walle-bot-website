(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7632e739"],{"2fe6":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"a",(function(){return c}));a("cb29");var r=a("276c"),n=a("fc11"),i={red:"rgb(255, 99, 132)",orange:"rgb(255, 159, 64)",yellow:"rgb(255, 205, 86)",green:"rgb(75, 192, 192)",blue:"rgb(54, 162, 235)",purple:"rgb(153, 102, 255)",grey:"rgb(201, 203, 207)"},c=function t(e){var a=e.label,c=e.fill,s=void 0!==c&&c,o=e.backgroundColor,u=void 0===o?i.red:o,l=e.borderColor,h=void 0===l?i.red:l,f=e.data;Object(r["a"])(this,t),Object(n["a"])(this,"label",void 0),Object(n["a"])(this,"fill",void 0),Object(n["a"])(this,"backgroundColor",void 0),Object(n["a"])(this,"borderColor",void 0),Object(n["a"])(this,"data",void 0),this.label=a,this.fill=s,this.backgroundColor=u,this.borderColor=h,this.data=f}},"731f":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"recent"},[a("ui-nav",t._l(t.times,(function(e,r){return a("ui-nav-item",{key:e.time+r,attrs:{selected:t.time===e.time},nativeOn:{click:function(a){return t.onChangeTime(e.time)}}},[t._v(" "+t._s(e.time.toUpperCase())+" ")])})),1),a("ui-nav",t._l(t.vtypes,(function(e){return a("ui-nav-item",{key:e,attrs:{selected:t.vtype===e,title:JSON.stringify(t.validators[e],null,4)}},[a("a",{on:{click:function(a){return t.onChangeVtype(e)}}},[t._v(t._s(e.toUpperCase()))])])})),1),a("ui-nav",t._l(t.lists,(function(e){var r=e.change,n=e.name;return a("ui-nav-item",{key:n,attrs:{selected:t.list===n}},[a("a",{on:{click:function(e){return t.onChangeList(n)}}},[t._v(t._s(n))]),t._v(" "),a("a",[t._v(" ("+t._s(r)+"%)")])])})),1),a("ui-chart",{ref:"chart"})],1)},n=[],i=(a("a4d3"),a("e01a"),a("d28b"),a("99af"),a("4160"),a("b0c0"),a("d3b7"),a("3ca3"),a("159b"),a("ddb0"),a("a34a")),c=a.n(i),s=a("c964"),o=(a("96cf"),a("61b2")),u=(a("fb6a"),a("276c")),l=a("e954"),h=a("fc11"),f=a("440a"),p=a("a002"),v=a.n(p),d=v.a.createInstance({name:"trace",driver:v.a.INDEXEDDB}),b=function(){function t(){Object(u["a"])(this,t),Object(h["a"])(this,"recent",{}),Object(h["a"])(this,"strategy",{})}return Object(l["a"])(t,[{key:"analyse",value:function(){var t=Object(s["a"])(c.a.mark((function t(e,a){return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",window.__Walle_Stock_Strategy.analyse(e,a));case 1:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"listnames",value:function(t){var e={};return e="interval"!==t?window.__Walle_Stock_Define.getNormalNames():window.__Walle_Stock_Define.getIntervalNames(),e}},{key:"calc",value:function(){var t=Object(s["a"])(c.a.mark((function t(e,a){var r,n,i,s,o,u,l,h,p,v,b,y=this;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=f["a"].today(),n="".concat(e,"-").concat(a),i=this.listnames(e),!this.strategy[n]){t.next=5;break}return t.abrupt("return");case 5:return t.prev=5,t.next=8,toastr.loading();case 8:return t.next=10,d.iterate((function(t,e){try{if(r===e)return;var a=!0,c=!1,s=void 0;try{for(var o,u=i[Symbol.iterator]();!(a=(o=u.next()).done);a=!0){var l=o.value,h=t[n].change[l][0],f=t[n].change[l].slice(-2,-1)[0];y.recent[n]||(y.recent[n]={}),y.recent[n][l]||(y.recent[n][l]={date:[],open:[],close:[]}),y.recent[n][l].date.push(e),y.recent[n][l].open.push(+f),y.recent[n][l].close.push(+h)}}catch(p){c=!0,s=p}finally{try{a||null==u["return"]||u["return"]()}finally{if(c)throw s}}}catch(v){}}));case 10:s=!0,o=!1,u=void 0,t.prev=13,l=i[Symbol.iterator]();case 15:if(s=(h=l.next()).done){t.next=26;break}return p=h.value,v=this.recent[n][p],t.next=20,this.analyse("".concat(e,"-").concat(a,"-").concat(p),v);case 20:b=t.sent,this.strategy[n]||(this.strategy[n]={}),this.strategy[n][p]=b;case 23:s=!0,t.next=15;break;case 26:t.next=32;break;case 28:t.prev=28,t.t0=t["catch"](13),o=!0,u=t.t0;case 32:t.prev=32,t.prev=33,s||null==l["return"]||l["return"]();case 35:if(t.prev=35,!o){t.next=38;break}throw u;case 38:return t.finish(35);case 39:return t.finish(32);case 40:toastr.clear(),t.next=46;break;case 43:t.prev=43,t.t1=t["catch"](5),toastr.clear();case 46:case"end":return t.stop()}}),t,this,[[5,43],[13,28,32,40],[33,,35,39]])})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"changeOfList",value:function(t,e,a){try{var r="".concat(t,"-").concat(e),n=this.strategy[r][a]["daily-close-profit"];return n[1]}catch(i){return 0}}},{key:"listStrategyOf",value:function(t,e,a){var r={"daily-open-profit":[],"daily-close-profit":[],"daily-open-ptcchange":[],"daily-close-ptcchange":[]};try{var n="".concat(t,"-").concat(e);return this.strategy[n][a]}catch(i){return r}}},{key:"listChangesOf",value:function(){var t=Object(s["a"])(c.a.mark((function t(e,a){var r,n,i,s,o,u,l,h,f;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.calc(e,a);case 3:for(r=this.listnames(e),n=[],i=!0,s=!1,o=void 0,t.prev=8,u=r[Symbol.iterator]();!(i=(l=u.next()).done);i=!0)h=l.value,f=this.changeOfList(e,a,h),n.push({name:h,change:f});t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](8),s=!0,o=t.t0;case 16:t.prev=16,t.prev=17,i||null==u["return"]||u["return"]();case 19:if(t.prev=19,!s){t.next=22;break}throw o;case 22:return t.finish(19);case 23:return t.finish(16);case 24:return t.abrupt("return",n);case 27:return t.prev=27,t.t1=t["catch"](0),t.abrupt("return",[]);case 30:case"end":return t.stop()}}),t,this,[[0,27],[8,12,16,24],[17,,19,23]])})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"calcListChangesOf",value:function(){var t=Object(s["a"])(c.a.mark((function t(e,a,r){var n,i;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={date:[],open:[],close:[]},i=f["a"].today(),t.prev=2,t.next=5,d.iterate((function(t,c){try{if(i===c)return;var s="".concat(e,"-").concat(a),o=t[s].change[r][0],u=t[s].change[r].slice(-2,-1)[0];n.date.push(c),n.open.push(+u),n.close.push(+o)}catch(l){}}));case 5:t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](2);case 9:return t.abrupt("return",n);case 10:case"end":return t.stop()}}),t,null,[[2,7]])})));function e(e,a,r){return t.apply(this,arguments)}return e}()},{key:"calcListStrategyOf",value:function(){var t=Object(s["a"])(c.a.mark((function t(e,a,r){var n,i,s;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={"daily-open-profit":[],"daily-close-profit":[],"daily-open-ptcchange":[],"daily-close-ptcchange":[]},t.prev=1,t.next=4,this.calcListChangesOf(e,a,r);case 4:return i=t.sent,t.next=7,this.analyse("".concat(e,"-").concat(a,"-").concat(r),i);case 7:return s=t.sent,t.abrupt("return",s);case 11:return t.prev=11,t.t0=t["catch"](1),t.abrupt("return",n);case 14:case"end":return t.stop()}}),t,this,[[1,11]])})));function e(e,a,r){return t.apply(this,arguments)}return e}()}]),t}(),y=new b,g=a("2fe6"),m={data:function(){return{time:"",vtype:"",times:[],list:"",vtypes:[],lists:[],validators:{}}},mounted:function(){this.initTimesNav(),this.initVtypesNav()},methods:{initTimesNav:function(){var t=o["a"].getCaptureRules(),e=o["a"].getIntervalRules(),a=[].concat(t,e),r=[],n=!0,i=!1,c=void 0;try{for(var s,u=a[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var l=s.value;r.push({time:l.capture,rule:l})}}catch(h){i=!0,c=h}finally{try{n||null==u["return"]||u["return"]()}finally{if(i)throw c}}this.times=r,this.time=r[0].time},initVtypesNav:function(){var t=o["a"].getValidators(),e=!0,a=!1,r=void 0;try{for(var n,i=t[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var c=n.value;this.vtypes.push(c.name),this.validators[c.name]=c}}catch(s){a=!0,r=s}finally{try{e||null==i["return"]||i["return"]()}finally{if(a)throw r}}},onChangeTime:function(t){this.time=t,this.lists={},this.$refs.chart&&this.$refs.chart.clear()},onChangeVtype:function(){var t=Object(s["a"])(c.a.mark((function t(e){return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.vtype=e,t.next=3,y.listChangesOf(this.time,this.vtype);case 3:this.lists=t.sent,this.$refs.chart&&this.$refs.chart.clear();case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),onChangeList:function(){var t=Object(s["a"])(c.a.mark((function t(e){var a;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.list=e,a=y.listStrategyOf(this.time,this.vtype,this.list),this.onUpdateChart(a);case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),formateChartData:function(t){var e={time:[],value:[]};return t?(t.forEach((function(t,a){a%2===0?e.time.push(t):e.value.push(t)})),e):e},onUpdateChart:function(t){if(this.$refs.chart){var e=[new g["a"]({label:"Stocks PTCChange-Close",backgroundColor:g["b"].orange,borderColor:g["b"].orange,data:this.formateChartData(t["daily-close-ptcchange"]).value}),new g["a"]({label:"Stocks Total Profit-Close",backgroundColor:g["b"].red,borderColor:g["b"].red,data:this.formateChartData(t["daily-close-profit"]).value}),new g["a"]({label:"Stocks PTCChange-Open",backgroundColor:g["b"].yellow,borderColor:g["b"].yellow,data:this.formateChartData(t["daily-open-ptcchange"]).value}),new g["a"]({label:"Stocks Total Profit-Open",backgroundColor:g["b"].blue,borderColor:g["b"].blue,data:this.formateChartData(t["daily-open-profit"]).value})],a={name:t.name,profit:t.profit,day:t.day},r=this.formateChartData(t["daily-open-ptcchange"]).time;this.$refs.chart.update({labels:r,datasets:e,titleTip:JSON.stringify(a,null,4)})}}}},k=m,w=a("2877"),C=Object(w["a"])(k,r,n,!1,null,"1e710ba0",null);e["default"]=C.exports},"81d5":function(t,e,a){"use strict";var r=a("7b0b"),n=a("23cb"),i=a("50c4");t.exports=function(t){var e=r(this),a=i(e.length),c=arguments.length,s=n(c>1?arguments[1]:void 0,a),o=c>2?arguments[2]:void 0,u=void 0===o?a:n(o,a);while(u>s)e[s++]=t;return e}},cb29:function(t,e,a){var r=a("23e7"),n=a("81d5"),i=a("44d2");r({target:"Array",proto:!0},{fill:n}),i("fill")}}]);