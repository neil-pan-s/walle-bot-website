(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{309:function(t,e,n){var a=n(8),r=n(314),o=n(96);a({target:"Array",proto:!0},{fill:r}),o("fill")},314:function(t,e,n){"use strict";var a=n(27),r=n(95),o=n(26);t.exports=function(t){for(var e=a(this),n=o(e.length),i=arguments.length,c=r(i>1?arguments[1]:void 0,n),s=i>2?arguments[2]:void 0,l=void 0===s?n:r(s,n);l>c;)e[c++]=t;return e}},315:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return i}));n(309);var a=n(5),r=n(3),o={red:"rgb(255, 99, 132)",orange:"rgb(255, 159, 64)",yellow:"rgb(255, 205, 86)",green:"rgb(11, 188, 73)",blue:"rgb(120, 164, 250)",purple:"rgb(153, 102, 255)",grey:"rgb(201, 203, 207)"},i=function t(e){Object(a.a)(this,t),Object(r.a)(this,"label",void 0),Object(r.a)(this,"fill",void 0),Object(r.a)(this,"backgroundColor",void 0),Object(r.a)(this,"borderColor",void 0),Object(r.a)(this,"data",void 0),Object.assign(this,e),this.fill=e.fill||!1,this.backgroundColor=e.backgroundColor||o.red,this.borderColor=e.borderColor||o.red}},384:function(t,e,n){var a=n(40),r=n(385);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var o={insert:"head",singleton:!1},i=a(r,o),c=r.locals?r.locals:{};r.locals||t.hot.accept(385,(function(){var e=n(385);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[t.i,e,""]]),i(e)})),t.hot.dispose((function(){i()})),t.exports=c},385:function(t,e,n){(e=n(41)(!1)).push([t.i,'\n.times[data-v-15841b84] {\n  width: 75%;\n  margin: auto;\n  font-size: 8px;\n  text-align: center;\n  color: #666;\n  list-style: none;\n  margin-top: 20px;\n}\n.times[data-v-15841b84]:after{\n  content:"";\n  display:block;\n  clear:both;\n}\n.times li[data-v-15841b84] {\n  display: inline-block;\n}\n.next[data-v-15841b84] {\n  float: right;\n}\n.pre[data-v-15841b84] {\n  float: left;\n}\n',""]),t.exports=e},433:function(t,e,n){"use strict";n.r(e),n.d(e,"render",(function(){return a})),n.d(e,"staticRenderFns",(function(){return r}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"t0"},[n("ui-nav",[n("ui-nav-item",{attrs:{selected:1===t.day},nativeOn:{click:function(e){return t.onChangeDay(1)}}},[t._v("周一")]),t._v(" "),n("ui-nav-item",{attrs:{selected:2===t.day},nativeOn:{click:function(e){return t.onChangeDay(2)}}},[t._v("周二")]),t._v(" "),n("ui-nav-item",{attrs:{selected:3===t.day},nativeOn:{click:function(e){return t.onChangeDay(3)}}},[t._v("周三")]),t._v(" "),n("ui-nav-item",{attrs:{selected:4===t.day},nativeOn:{click:function(e){return t.onChangeDay(4)}}},[t._v("周四")]),t._v(" "),n("ui-nav-item",{attrs:{selected:5===t.day},nativeOn:{click:function(e){return t.onChangeDay(5)}}},[t._v("周五")]),t._v(" "),n("ui-nav-item",{attrs:{selected:5===t.day},nativeOn:{click:function(e){return t.onRealtime()}}},[t._v("实时")])],1),t._v(" "),n("ui-nav",[n("ui-nav-item",{attrs:{selected:"total"===t.type}},[n("a",{on:{click:function(e){return t.onChangeType("total")}}},[t._v("交易汇总")])]),t._v(" "),n("ui-nav-item",{attrs:{selected:"detail"===t.type}},[n("a",{on:{click:function(e){return t.onChangeType("detail")}}},[t._v("逐笔还原")])])],1),t._v(" "),n("ul",{staticClass:"times"},[n("li",{directives:[{name:"show",rawName:"v-show",value:t.before,expression:"before"}],staticClass:"pre",on:{click:function(e){return t.onShowBefore()}}},[t._v(" ‹ "+t._s(t.before)+" ")]),t._v(" "),n("li",[t._v(" "+t._s(t.tooltip)+" ")]),t._v(" "),n("li",{directives:[{name:"show",rawName:"v-show",value:t.next,expression:"next"}],staticClass:"next",on:{click:function(e){return t.onShowNext()}}},[t._v(" "+t._s(t.next)+" › ")])]),t._v(" "),n("ui-chart",{ref:"chart"})],1)},r=[];a._withStripped=!0},434:function(t,e,n){"use strict";n(24),n(309),n(310),n(32),n(73);var a=n(1),r=n.n(a),o=(n(16),n(2)),i=n(315),c=n(0),s=n.n(c),l=n(108),u=n(328),d=n.n(u),f={data:function(){return{day:s()().day(),type:"total",next:"",before:"",tooltip:""}},mounted:function(){var t=this;return Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.onChangeDay(t.day);case 1:case"end":return e.stop()}}),e)})))()},methods:{onRealtime:function(){return Object(o.a)(r.a.mark((function t(){var e;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e="#/s/t0",e=parent?parent.location.origin+parent.location.pathname+e:location.origin+location.pathname+e,window.open(e);case 3:case"end":return t.stop()}}),t)})))()},onChangeDay:function(t){var e=this;return Object(o.a)(r.a.mark((function n(){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.day=t,e.type="total",e.next="",e.before="",e.tooltip="",e.$refs.chart&&e.$refs.chart.clear(),n.next=8,l.a.load(t);case 8:return n.next=10,e.onChangeType("total");case 10:case"end":return n.stop()}}),n)})))()},onChangeType:function(t){var e=this;return Object(o.a)(r.a.mark((function n(){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.type=t,"total"===t?e.onShowTotalChart():e.onShowDetailChart();case 2:case"end":return n.stop()}}),n)})))()},onShowBefore:function(){l.a.stepToBefore(),this.onShowDetailChart()},onShowNext:function(){l.a.stepToNext(),this.onShowDetailChart()},onShowTotalChart:function(){if(this.$refs.chart){var t=l.a.total();if(l.a.date()){this.next="",this.before="",this.tooltip="".concat(l.a.date()," 总收益: ").concat(t.profits,"% 次数: ").concat(t.times," 胜率: ").concat(t.rate.win,"% 单笔收益: ").concat(t.rate.average,"%");var e=[new i.a({label:"Stocks Total PTCChange",backgroundColor:i.b.red,borderColor:i.b.red,data:t.profit}),new i.a({label:"Stock PTCChange",backgroundColor:i.b.yellow,borderColor:i.b.yellow,data:t.change})],n=t.time;this.$refs.chart.update({labels:n,datasets:e})}}},onShowDetailChart:function(){if(this.$refs.chart&&l.a.date()){var t=l.a.next(),e=l.a.before();this.next=t&&s()(t,"HHmmss").format("HH:mm:ss"),this.before=e&&s()(e,"HHmmss").format("HH:mm:ss");var n=l.a.current(),a=l.a.detail(n),r=a.buy.change||0,o=a.sell.change||0;a.code&&a.name&&(this.tooltip="".concat(a.code," ").concat(a.name," ").concat(+(o-r).toFixed(2),"%"));var c=d()(a),u=c.trend.time,f=function(t,e,n){var a=new Array(t.length).fill(NaN);for(var r in t)if(+e>=+t[r]){a[r-1]=n;break}return a.reverse()},h=[new i.a({label:"Stock Buy Point",backgroundColor:i.b.blue,borderColor:i.b.blue,pointRadius:5,data:f(u,c.buy.time,c.buy.price)}),new i.a({label:"Stock Sell Point",backgroundColor:i.b.green,borderColor:i.b.green,pointRadius:5,data:f(u,c.sell.time,c.sell.price)}),new i.a({label:"Stock Price",backgroundColor:i.b.red,borderColor:i.b.red,data:c.trend.price.reverse()}),new i.a({label:"Stock MA",backgroundColor:i.b.yellow,borderColor:i.b.yellow,data:c.trend.ma.reverse()})];this.$refs.chart.update({labels:u,datasets:h})}}}};e.a=f},648:function(t,e,n){"use strict";var a=n(384);n.n(a).a},699:function(t,e,n){"use strict";n.r(e);var a=n(433),r=n(434),o=(n(648),n(33)),i=Object(o.a)(r.a,a.render,a.staticRenderFns,!1,null,"15841b84",null),c=n(72);c.install(n(4)),c.compatible&&(t.hot.accept(),c.isRecorded("15841b84")?c.reload("15841b84",i.options):c.createRecord("15841b84",i.options),t.hot.accept(433,function(t){a=n(433),c.rerender("15841b84",{render:a.render,staticRenderFns:a.staticRenderFns})}.bind(this))),i.options.__file="vue/pages/T0-Manager.vue",e.default=i.exports}}]);